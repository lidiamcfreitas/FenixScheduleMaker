/*
 AngularJS v1.4.1
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
 AngularJS v1.4.1
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
 AngularJS v1.4.1
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
 FastClick: polyfill to remove click delays on browsers with touch UIs.

 @codingstandard ftlabs-jsv2
 @copyright The Financial Times Limited [All Rights Reserved]
 @license MIT License (see LICENSE.txt)
*/
window["com.genius.Genius"]||(window["com.genius.Genius"]={},window.require=function(){return window["com.genius.Genius"].require.apply(this,arguments)});
(function(a,e){function d(a){var e=W[a]={},b,c;a=a.split(/\s+/);b=0;for(c=a.length;b<c;b++)e[a[b]]=!0;return e}function c(a,b,c){if(c===e&&1===a.nodeType)if(c="data-"+b.replace(aa,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:n.isNumeric(c)?+c:ea.test(c)?n.parseJSON(c):c}catch(d){}n.data(a,b,c)}else c=e;return c}function h(a){for(var e in a)if(("data"!==e||!n.isEmptyObject(a[e]))&&"toJSON"!==e)return!1;return!0}function b(a,e,b){var c=
e+"defer",d=e+"queue",f=e+"mark",g=n._data(a,c);!g||"queue"!==b&&n._data(a,d)||"mark"!==b&&n._data(a,f)||setTimeout(function(){n._data(a,d)||n._data(a,f)||(n.removeData(a,c,!0),g.fire())},0)}function g(){return!1}function f(){return!0}function k(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function p(a,e,b){e=e||0;if(n.isFunction(e))return n.grep(a,function(a,c){return!!e.call(a,c,a)===b});if(e.nodeType)return n.grep(a,function(a,c){return a===e===b});if("string"===typeof e){var c=n.grep(a,
function(a){return 1===a.nodeType});if(Ma.test(e))return n.filter(e,c,!b);e=n.filter(e,c)}return n.grep(a,function(a,c){return 0<=n.inArray(a,e)===b})}function q(a){var e=Kb.split("|");a=a.createDocumentFragment();if(a.createElement)for(;e.length;)a.createElement(e.pop());return a}function m(a,e){return n.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function s(a,e){if(1===e.nodeType&&n.hasData(a)){var b,c,d;c=n._data(a);var f=n._data(e,
c),g=c.events;if(g)for(b in delete f.handle,f.events={},g)for(c=0,d=g[b].length;c<d;c++)n.event.add(e,b,g[b][c]);f.data&&(f.data=n.extend({},f.data))}}function t(a,e){var b;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(a),b=e.nodeName.toLowerCase(),"object"===b?e.outerHTML=a.outerHTML:"input"!==b||"checkbox"!==a.type&&"radio"!==a.type?"option"===b?e.selected=a.defaultSelected:"input"===b||"textarea"===b?e.defaultValue=a.defaultValue:"script"===b&&e.text!==
a.text&&(e.text=a.text):(a.checked&&(e.defaultChecked=e.checked=a.checked),e.value!==a.value&&(e.value=a.value)),e.removeAttribute(n.expando),e.removeAttribute("_submit_attached"),e.removeAttribute("_change_attached"))}function v(a){return"undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function r(a){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}function z(a){var e=(a.nodeName||"").toLowerCase();
"input"===e?r(a):"script"!==e&&"undefined"!==typeof a.getElementsByTagName&&n.grep(a.getElementsByTagName("input"),r)}function x(a,e,b){var c="width"===e?a.offsetWidth:a.offsetHeight,d="width"===e?1:0;if(0<c){if("border"!==b)for(;4>d;d+=2)b||(c-=parseFloat(n.css(a,"padding"+Fa[d]))||0),c="margin"===b?c+(parseFloat(n.css(a,b+Fa[d]))||0):c-(parseFloat(n.css(a,"border"+Fa[d]+"Width"))||0);return c+"px"}c=Xa(a,e);if(0>c||null==c)c=a.style[e];if(Ga.test(c))return c;c=parseFloat(c)||0;if(b)for(;4>d;d+=
2)c+=parseFloat(n.css(a,"padding"+Fa[d]))||0,"padding"!==b&&(c+=parseFloat(n.css(a,"border"+Fa[d]+"Width"))||0),"margin"===b&&(c+=parseFloat(n.css(a,b+Fa[d]))||0);return c+"px"}function w(a){return function(e,b){"string"!==typeof e&&(b=e,e="*");if(n.isFunction(b))for(var c=e.toLowerCase().split(tc),d=0,f=c.length,g,h;d<f;d++)g=c[d],(h=/^\+/.test(g))&&(g=g.substr(1)||"*"),g=a[g]=a[g]||[],g[h?"unshift":"push"](b)}}function B(a,b,c,d,f,n){f=f||b.dataTypes[0];n=n||{};n[f]=!0;f=a[f];for(var g=0,h=f?f.length:
0,m=a===Lb,k;g<h&&(m||!k);g++)k=f[g](b,c,d),"string"===typeof k&&(!m||n[k]?k=e:(b.dataTypes.unshift(k),k=B(a,b,c,d,k,n)));!m&&k||n["*"]||(k=B(a,b,c,d,"*",n));return k}function C(a,b){var c,d,f=n.ajaxSettings.flatOptions||{};for(c in b)b[c]!==e&&((f[c]?a:d||(d={}))[c]=b[c]);d&&n.extend(!0,a,d)}function I(a,e,b,c){if(n.isArray(e))n.each(e,function(e,d){b||Ya.test(a)?c(a,d):I(a+"["+("object"===typeof d?e:"")+"]",d,b,c)});else if(b||"object"!==n.type(e))c(a,e);else for(var d in e)I(a+"["+d+"]",e[d],b,
c)}function D(){try{return new a.XMLHttpRequest}catch(e){}}function u(){setTimeout(A,0);return Mb=n.now()}function A(){Mb=e}function E(a,e){var b={};n.each(Nb.concat.apply([],Nb.slice(0,e)),function(){b[this]=a});return b}function K(a){if(!Ob[a]){var e=y.body,b=n("<"+a+">").appendTo(e),c=b.css("display");b.remove();if("none"===c||""===c)Ha||(Ha=y.createElement("iframe"),Ha.frameBorder=Ha.width=Ha.height=0),e.appendChild(Ha),pb&&Ha.createElement||(pb=(Ha.contentWindow||Ha.contentDocument).document,
pb.write((n.support.boxModel?"<!doctype html>":"")+"<html><body>"),pb.close()),b=pb.createElement(a),pb.body.appendChild(b),c=n.css(b,"display"),e.removeChild(Ha);Ob[a]=c}return Ob[a]}function M(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var y=a.document,T=a.navigator,Z=a.location,n=function(){function b(){if(!c.isReady){try{y.documentElement.doScroll("left")}catch(a){setTimeout(b,1);return}c.ready()}}var c=function(a,e){return new c.fn.init(a,e,n)},d=a.jQuery,f=a.$,
n,g=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,h=/\S/,k=/^\s+/,m=/\s+$/,p=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,q=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,s=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,A=/(?:^|:|,)(?:\s*\[)+/g,z=/(webkit)[ \/]([\w.]+)/,t=/(opera)(?:.*version)?[ \/]([\w.]+)/,E=/(msie) ([\w.]+)/,w=/(mozilla)(?:.*? rv:([\w.]+))?/,Ta=/-([a-z]|[0-9])/ig,x=/^-ms-/,v=function(a,e){return(e+"").toUpperCase()},W=T.userAgent,B,K,J=Object.prototype.toString,C=Object.prototype.hasOwnProperty,
M=Array.prototype.push,oa=Array.prototype.slice,Ja=String.prototype.trim,Z=Array.prototype.indexOf,u={};c.fn=c.prototype={constructor:c,init:function(a,b,d){var f;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!b&&y.body)return this.context=y,this[0]=y.body,this.selector=a,this.length=1,this;if("string"===typeof a){f="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:g.exec(a);if(!f||!f[1]&&b)return!b||b.jquery?(b||d).find(a):
this.constructor(b).find(a);if(f[1])return d=(b=b instanceof c?b[0]:b)?b.ownerDocument||b:y,(a=p.exec(a))?c.isPlainObject(b)?(a=[y.createElement(a[1])],c.fn.attr.call(a,b,!0)):a=[d.createElement(a[1])]:(a=c.buildFragment([f[1]],[d]),a=(a.cacheable?c.clone(a.fragment):a.fragment).childNodes),c.merge(this,a);if((b=y.getElementById(f[2]))&&b.parentNode){if(b.id!==f[2])return d.find(a);this.length=1;this[0]=b}this.context=y;this.selector=a;return this}if(c.isFunction(a))return d.ready(a);a.selector!==
e&&(this.selector=a.selector,this.context=a.context);return c.makeArray(a,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return oa.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,e,b){var d=this.constructor();c.isArray(a)?M.apply(d,a):c.merge(d,a);d.prevObject=this;d.context=this.context;"find"===e?d.selector=this.selector+(this.selector?" ":"")+b:e&&(d.selector=this.selector+"."+e+
"("+b+")");return d},each:function(a,e){return c.each(this,a,e)},ready:function(a){c.bindReady();B.add(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(oa.apply(this,arguments),"slice",oa.call(arguments).join(","))},map:function(a){return this.pushStack(c.map(this,function(e,c){return a.call(e,c,e)}))},end:function(){return this.prevObject||this.constructor(null)},
push:M,sort:[].sort,splice:[].splice};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var a,b,d,f,n,g=arguments[0]||{},h=1,k=arguments.length,m=!1;"boolean"===typeof g&&(m=g,g=arguments[1]||{},h=2);"object"===typeof g||c.isFunction(g)||(g={});k===h&&(g=this,--h);for(;h<k;h++)if(null!=(a=arguments[h]))for(b in a)d=g[b],f=a[b],g!==f&&(m&&f&&(c.isPlainObject(f)||(n=c.isArray(f)))?(n?(n=!1,d=d&&c.isArray(d)?d:[]):d=d&&c.isPlainObject(d)?d:{},g[b]=c.extend(m,d,f)):f!==e&&(g[b]=f));return g};c.extend({noConflict:function(e){a.$===
c&&(a.$=f);e&&a.jQuery===c&&(a.jQuery=d);return c},isReady:!1,readyWait:1,holdReady:function(a){a?c.readyWait++:c.ready(!0)},ready:function(a){if(!0===a&&!--c.readyWait||!0!==a&&!c.isReady){if(!y.body)return setTimeout(c.ready,1);c.isReady=!0;!0!==a&&0<--c.readyWait||(B.fireWith(y,[c]),c.fn.trigger&&c(y).trigger("ready").off("ready"))}},bindReady:function(){if(!B){B=c.Callbacks("once memory");if("complete"===y.readyState)return setTimeout(c.ready,1);if(y.addEventListener)y.addEventListener("DOMContentLoaded",
K,!1),a.addEventListener("load",c.ready,!1);else if(y.attachEvent){y.attachEvent("onreadystatechange",K);a.attachEvent("onload",c.ready);var e=!1;try{e=null==a.frameElement}catch(d){}y.documentElement.doScroll&&e&&b()}}},isFunction:function(a){return"function"===c.type(a)},isArray:Array.isArray||function(a){return"array"===c.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):u[J.call(a)]||
"object"},isPlainObject:function(a){if(!a||"object"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!C.call(a,"constructor")&&!C.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(var d in a);return d===e||C.call(a,d)},isEmptyObject:function(a){for(var e in a)return!1;return!0},error:function(a){throw Error(a);},parseJSON:function(e){if("string"!==typeof e||!e)return null;e=c.trim(e);if(a.JSON&&a.JSON.parse)return a.JSON.parse(e);if(q.test(e.replace(r,
"@").replace(s,"]").replace(A,"")))return(new Function("return "+e))();c.error("Invalid JSON: "+e)},parseXML:function(b){if("string"!==typeof b||!b)return null;var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(b,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(b))}catch(n){d=e}d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||c.error("Invalid XML: "+b);return d},noop:function(){},globalEval:function(e){e&&h.test(e)&&(a.execScript||function(e){a.eval.call(a,
e)})(e)},camelCase:function(a){return a.replace(x,"ms-").replace(Ta,v)},nodeName:function(a,e){return a.nodeName&&a.nodeName.toUpperCase()===e.toUpperCase()},each:function(a,b,d){var f,n=0,g=a.length,h=g===e||c.isFunction(a);if(d)if(h)for(f in a){if(!1===b.apply(a[f],d))break}else for(;n<g&&!1!==b.apply(a[n++],d););else if(h)for(f in a){if(!1===b.call(a[f],f,a[f]))break}else for(;n<g&&!1!==b.call(a[n],n,a[n++]););return a},trim:Ja?function(a){return null==a?"":Ja.call(a)}:function(a){return null==
a?"":a.toString().replace(k,"").replace(m,"")},makeArray:function(a,e){var b=e||[];if(null!=a){var d=c.type(a);null==a.length||"string"===d||"function"===d||"regexp"===d||c.isWindow(a)?M.call(b,a):c.merge(b,a)}return b},inArray:function(a,e,b){var c;if(e){if(Z)return Z.call(e,a,b);c=e.length;for(b=b?0>b?Math.max(0,c+b):b:0;b<c;b++)if(b in e&&e[b]===a)return b}return-1},merge:function(a,b){var c=a.length,d=0;if("number"===typeof b.length)for(var f=b.length;d<f;d++)a[c++]=b[d];else for(;b[d]!==e;)a[c++]=
b[d++];a.length=c;return a},grep:function(a,e,b){var c=[],d;b=!!b;for(var f=0,n=a.length;f<n;f++)d=!!e(a[f],f),b!==d&&c.push(a[f]);return c},map:function(a,b,d){var f,n,g=[],h=0,m=a.length;if(a instanceof c||m!==e&&"number"===typeof m&&(0<m&&a[0]&&a[m-1]||0===m||c.isArray(a)))for(;h<m;h++)f=b(a[h],h,d),null!=f&&(g[g.length]=f);else for(n in a)f=b(a[n],n,d),null!=f&&(g[g.length]=f);return g.concat.apply([],g)},guid:1,proxy:function(a,b){if("string"===typeof b){var d=a[b];b=a;a=d}if(!c.isFunction(a))return e;
var f=oa.call(arguments,2),d=function(){return a.apply(b,f.concat(oa.call(arguments)))};d.guid=a.guid=a.guid||d.guid||c.guid++;return d},access:function(a,b,d,f,n,g,h){var m,k=null==d,L=0,p=a.length;if(d&&"object"===typeof d){for(L in d)c.access(a,b,L,d[L],1,g,f);n=1}else if(f!==e){m=h===e&&c.isFunction(f);k&&(m?(m=b,b=function(a,e,b){return m.call(c(a),b)}):(b.call(a,f),b=null));if(b)for(;L<p;L++)b(a[L],d,m?f.call(a[L],L,b(a[L],d)):f,h);n=1}return n?a:k?b.call(a):p?b(a[0],d):g},now:function(){return(new Date).getTime()},
uaMatch:function(a){a=a.toLowerCase();a=z.exec(a)||t.exec(a)||E.exec(a)||0>a.indexOf("compatible")&&w.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(e,b){return new a.fn.init(e,b)}c.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(b,d){d&&d instanceof c&&!(d instanceof a)&&(d=a(d));return c.fn.init.call(this,b,d,e)};a.fn.init.prototype=a.fn;var e=a(y);return a},browser:{}});c.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(a,e){u["[object "+e+"]"]=e.toLowerCase()});W=c.uaMatch(W);W.browser&&(c.browser[W.browser]=!0,c.browser.version=W.version);c.browser.webkit&&(c.browser.safari=!0);h.test("\u00a0")&&(k=/^[\s\xA0]+/,m=/[\s\xA0]+$/);n=c(y);y.addEventListener?K=function(){y.removeEventListener("DOMContentLoaded",K,!1);c.ready()}:y.attachEvent&&(K=function(){"complete"===y.readyState&&(y.detachEvent("onreadystatechange",K),c.ready())});return c}(),W={};n.Callbacks=function(a){a=a?W[a]||d(a):{};var b=[],c=[],f,
g,h,m,k,p,q=function(e){var c,d,f,g;c=0;for(d=e.length;c<d;c++)f=e[c],g=n.type(f),"array"===g?q(f):"function"===g&&(a.unique&&y.has(f)||b.push(f))},r=function(e,d){d=d||[];f=!a.memory||[e,d];h=g=!0;p=m||0;m=0;for(k=b.length;b&&p<k;p++)if(!1===b[p].apply(e,d)&&a.stopOnFalse){f=!0;break}h=!1;b&&(a.once?!0===f?y.disable():b=[]:c&&c.length&&(f=c.shift(),y.fireWith(f[0],f[1])))},y={add:function(){if(b){var a=b.length;q(arguments);h?k=b.length:f&&!0!==f&&(m=a,r(f[0],f[1]))}return this},remove:function(){if(b)for(var e=
arguments,c=0,d=e.length;c<d;c++)for(var f=0;f<b.length&&(e[c]!==b[f]||(h&&f<=k&&(k--,f<=p&&p--),b.splice(f--,1),!a.unique));f++);return this},has:function(a){if(b)for(var e=0,c=b.length;e<c;e++)if(a===b[e])return!0;return!1},empty:function(){b=[];return this},disable:function(){b=c=f=e;return this},disabled:function(){return!b},lock:function(){c=e;f&&!0!==f||y.disable();return this},locked:function(){return!c},fireWith:function(e,b){c&&(h?a.once||c.push([e,b]):a.once&&f||r(e,b));return this},fire:function(){y.fireWith(this,
arguments);return this},fired:function(){return!!g}};return y};var J=[].slice;n.extend({Deferred:function(a){var e=n.Callbacks("once memory"),b=n.Callbacks("once memory"),c=n.Callbacks("memory"),d="pending",f={resolve:e,reject:b,notify:c},g={done:e.add,fail:b.add,progress:c.add,state:function(){return d},isResolved:e.fired,isRejected:b.fired,then:function(a,e,b){h.done(a).fail(e).progress(b);return this},always:function(){h.done.apply(h,arguments).fail.apply(h,arguments);return this},pipe:function(a,
e,b){return n.Deferred(function(c){n.each({done:[a,"resolve"],fail:[e,"reject"],progress:[b,"notify"]},function(a,e){var b=e[0],d=e[1],f;if(n.isFunction(b))h[a](function(){if((f=b.apply(this,arguments))&&n.isFunction(f.promise))f.promise().then(c.resolve,c.reject,c.notify);else c[d+"With"](this===h?c:this,[f])});else h[a](c[d])})}).promise()},promise:function(a){if(null==a)a=g;else for(var e in g)a[e]=g[e];return a}},h=g.promise({}),m;for(m in f)h[m]=f[m].fire,h[m+"With"]=f[m].fireWith;h.done(function(){d=
"resolved"},b.disable,c.lock).fail(function(){d="rejected"},e.disable,c.lock);a&&a.call(h,h);return h},when:function(a){function e(a){return function(e){c[a]=1<arguments.length?J.call(arguments,0):e;--h||m.resolveWith(m,c)}}function b(a){return function(e){g[a]=1<arguments.length?J.call(arguments,0):e;m.notifyWith(k,g)}}var c=J.call(arguments,0),d=0,f=c.length,g=Array(f),h=f,m=1>=f&&a&&n.isFunction(a.promise)?a:n.Deferred(),k=m.promise();if(1<f){for(;d<f;d++)c[d]&&c[d].promise&&n.isFunction(c[d].promise)?
c[d].promise().then(e(d),m.reject,b(d)):--h;h||m.resolveWith(m,c)}else m!==a&&m.resolveWith(m,f?[a]:[]);return k}});n.support=function(){var e,b,c,d,f,g,h,m,k=y.createElement("div");k.setAttribute("className","t");k.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";b=k.getElementsByTagName("*");c=k.getElementsByTagName("a")[0];if(!b||!b.length||!c)return{};d=y.createElement("select");f=d.appendChild(y.createElement("option"));b=
k.getElementsByTagName("input")[0];e={leadingWhitespace:3===k.firstChild.nodeType,tbody:!k.getElementsByTagName("tbody").length,htmlSerialize:!!k.getElementsByTagName("link").length,style:/top/.test(c.getAttribute("style")),hrefNormalized:"/a"===c.getAttribute("href"),opacity:/^0.55/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,checkOn:"on"===b.value,optSelected:f.selected,getSetAttribute:"t"!==k.className,enctype:!!y.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,
submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0};n.boxModel=e.boxModel="CSS1Compat"===y.compatMode;b.checked=!0;e.noCloneChecked=b.cloneNode(!0).checked;d.disabled=!0;e.optDisabled=!f.disabled;try{delete k.test}catch(p){e.deleteExpando=!1}!k.addEventListener&&k.attachEvent&&k.fireEvent&&(k.attachEvent("onclick",function(){e.noCloneEvent=!1}),k.cloneNode(!0).fireEvent("onclick"));
b=y.createElement("input");b.value="t";b.setAttribute("type","radio");e.radioValue="t"===b.value;b.setAttribute("checked","checked");b.setAttribute("name","t");k.appendChild(b);c=y.createDocumentFragment();c.appendChild(k.lastChild);e.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;e.appendChecked=b.checked;c.removeChild(b);c.appendChild(k);if(k.attachEvent)for(h in{submit:1,change:1,focusin:1})b="on"+h,m=b in k,m||(k.setAttribute(b,"return;"),m="function"===typeof k[b]),e[h+"Bubbles"]=
m;c.removeChild(k);c=d=f=k=b=null;n(function(){var b,c,d,f,h=y.getElementsByTagName("body")[0];h&&(b=y.createElement("div"),b.style.cssText="padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(b,h.firstChild),k=y.createElement("div"),b.appendChild(k),k.innerHTML="<table><tr><td style='padding:0;margin:0;border:0;display:none'></td><td>t</td></tr></table>",g=k.getElementsByTagName("td"),m=0===g[0].offsetHeight,g[0].style.display="",g[1].style.display=
"none",e.reliableHiddenOffsets=m&&0===g[0].offsetHeight,a.getComputedStyle&&(k.innerHTML="",c=y.createElement("div"),c.style.width="0",c.style.marginRight="0",k.style.width="2px",k.appendChild(c),e.reliableMarginRight=0===(parseInt((a.getComputedStyle(c,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!==typeof k.style.zoom&&(k.innerHTML="",k.style.width=k.style.padding="1px",k.style.border=0,k.style.overflow="hidden",k.style.display="inline",k.style.zoom=1,e.inlineBlockNeedsLayout=3===k.offsetWidth,
k.style.display="block",k.style.overflow="visible",k.innerHTML="<div style='width:5px;'></div>",e.shrinkWrapBlocks=3!==k.offsetWidth),k.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;",k.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",
c=k.firstChild,d=c.firstChild,f=c.nextSibling.firstChild.firstChild,f={doesNotAddBorder:5!==d.offsetTop,doesAddBorderForTableAndCells:5===f.offsetTop},d.style.position="fixed",d.style.top="20px",f.fixedPosition=20===d.offsetTop||15===d.offsetTop,d.style.position=d.style.top="",c.style.overflow="hidden",c.style.position="relative",f.subtractsBorderForOverflowNotVisible=-5===d.offsetTop,f.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,a.getComputedStyle&&(k.style.marginTop="1%",e.pixelMargin="1%"!==
(a.getComputedStyle(k,null)||{marginTop:0}).marginTop),"undefined"!==typeof b.style.zoom&&(b.style.zoom=1),h.removeChild(b),k=null,n.extend(e,f))});return e}();var ea=/^(?:\{.*\}|\[.*\])$/,aa=/([A-Z])/g;n.extend({cache:{},uuid:0,expando:"jQuery"+(n.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?n.cache[a[n.expando]]:a[n.expando];return!!a&&!h(a)},data:function(a,b,c,d){if(n.acceptData(a)){var f;
f=n.expando;var g="string"===typeof b,h=a.nodeType,k=h?n.cache:a,m=h?a[f]:a[f]&&f,p="events"===b;if(m&&k[m]&&(p||d||k[m].data)||!g||c!==e){m||(h?a[f]=m=++n.uuid:m=f);k[m]||(k[m]={},h||(k[m].toJSON=n.noop));if("object"===typeof b||"function"===typeof b)d?k[m]=n.extend(k[m],b):k[m].data=n.extend(k[m].data,b);f=a=k[m];d||(a.data||(a.data={}),a=a.data);c!==e&&(a[n.camelCase(b)]=c);if(p&&!a[b])return f.events;g?(c=a[b],null==c&&(c=a[n.camelCase(b)])):c=a;return c}}},removeData:function(a,b,e){if(n.acceptData(a)){var c,
d,f,g=n.expando,k=a.nodeType,m=k?n.cache:a,p=k?a[g]:g;if(m[p]){if(b&&(c=e?m[p]:m[p].data)){n.isArray(b)||(b in c?b=[b]:(b=n.camelCase(b),b=b in c?[b]:b.split(" ")));d=0;for(f=b.length;d<f;d++)delete c[b[d]];if(!(e?h:n.isEmptyObject)(c))return}if(!e&&(delete m[p].data,!h(m[p])))return;n.support.deleteExpando||!m.setInterval?delete m[p]:m[p]=null;k&&(n.support.deleteExpando?delete a[g]:a.removeAttribute?a.removeAttribute(g):a[g]=null)}}},_data:function(a,b,e){return n.data(a,b,e,!0)},acceptData:function(a){if(a.nodeName){var b=
n.noData[a.nodeName.toLowerCase()];if(b)return!(!0===b||a.getAttribute("classid")!==b)}return!0}});n.fn.extend({data:function(a,b){var d,f,g,h,k,m=this[0],p=0,q=null;if(a===e){if(this.length&&(q=n.data(m),1===m.nodeType&&!n._data(m,"parsedAttrs"))){g=m.attributes;for(k=g.length;p<k;p++)h=g[p].name,0===h.indexOf("data-")&&(h=n.camelCase(h.substring(5)),c(m,h,q[h]));n._data(m,"parsedAttrs",!0)}return q}if("object"===typeof a)return this.each(function(){n.data(this,a)});d=a.split(".",2);d[1]=d[1]?"."+
d[1]:"";f=d[1]+"!";return n.access(this,function(b){if(b===e)return q=this.triggerHandler("getData"+f,[d[0]]),q===e&&m&&(q=n.data(m,a),q=c(m,a,q)),q===e&&d[1]?this.data(d[0]):q;d[1]=b;this.each(function(){var e=n(this);e.triggerHandler("setData"+f,d);n.data(this,a,b);e.triggerHandler("changeData"+f,d)})},null,b,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){n.removeData(this,a)})}});n.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",n._data(a,b,(n._data(a,b)||0)+
1))},_unmark:function(a,e,c){!0!==a&&(c=e,e=a,a=!1);if(e){c=c||"fx";var d=c+"mark";(a=a?0:(n._data(e,d)||1)-1)?n._data(e,d,a):(n.removeData(e,d,!0),b(e,c,"mark"))}},queue:function(a,b,e){var c;if(a)return b=(b||"fx")+"queue",c=n._data(a,b),e&&(!c||n.isArray(e)?c=n._data(a,b,n.makeArray(e)):c.push(e)),c||[]},dequeue:function(a,e){e=e||"fx";var c=n.queue(a,e),d=c.shift(),f={};"inprogress"===d&&(d=c.shift());d&&("fx"===e&&c.unshift("inprogress"),n._data(a,e+".run",f),d.call(a,function(){n.dequeue(a,
e)},f));c.length||(n.removeData(a,e+"queue "+e+".run",!0),b(a,e,"queue"))}});n.fn.extend({queue:function(a,b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?n.queue(this[0],a):b===e?this:this.each(function(){var e=n.queue(this,a,b);"fx"===a&&"inprogress"!==e[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},delay:function(a,b){a=n.fx?n.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,e){var c=setTimeout(b,a);e.stop=function(){clearTimeout(c)}})},
clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){function c(){--h||d.resolveWith(f,[f])}"string"!==typeof a&&(b=a,a=e);a=a||"fx";for(var d=n.Deferred(),f=this,g=f.length,h=1,k=a+"defer",m=a+"queue",p=a+"mark",q;g--;)if(q=n.data(f[g],k,e,!0)||(n.data(f[g],m,e,!0)||n.data(f[g],p,e,!0))&&n.data(f[g],k,n.Callbacks("once memory"),!0))h++,q.add(c);c();return d.promise(b)}});var V=/[\n\t\r]/g,qa=/\s+/,ta=/\r/g,na=/^(?:button|input)$/i,ya=/^(?:button|input|object|select|textarea)$/i,
Ba=/^a(?:rea)?$/i,N=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ca=n.support.getSetAttribute,fa,Oa,vb;n.fn.extend({attr:function(a,b){return n.access(this,n.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})},prop:function(a,b){return n.access(this,n.prop,a,b,1<arguments.length)},removeProp:function(a){a=n.propFix[a]||a;return this.each(function(){try{this[a]=e,delete this[a]}catch(b){}})},
addClass:function(a){var b,e,c,d,f,g,h;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(a&&"string"===typeof a)for(b=a.split(qa),e=0,c=this.length;e<c;e++)if(d=this[e],1===d.nodeType)if(d.className||1!==b.length){f=" "+d.className+" ";g=0;for(h=b.length;g<h;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");d.className=n.trim(f)}else d.className=a;return this},removeClass:function(a){var b,c,d,f,g,h,k;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,
b,this.className))});if(a&&"string"===typeof a||a===e)for(b=(a||"").split(qa),c=0,d=this.length;c<d;c++)if(f=this[c],1===f.nodeType&&f.className)if(a){g=(" "+f.className+" ").replace(V," ");h=0;for(k=b.length;h<k;h++)g=g.replace(" "+b[h]+" "," ");f.className=n.trim(g)}else f.className="";return this},toggleClass:function(a,b){var e=typeof a,c="boolean"===typeof b;return n.isFunction(a)?this.each(function(e){n(this).toggleClass(a.call(this,e,this.className,b),b)}):this.each(function(){if("string"===
e)for(var d,f=0,g=n(this),h=b,k=a.split(qa);d=k[f++];)h=c?h:!g.hasClass(d),g[h?"addClass":"removeClass"](d);else if("undefined"===e||"boolean"===e)this.className&&n._data(this,"__className__",this.className),this.className=this.className||!1===a?"":n._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,e=this.length;b<e;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(V," ").indexOf(a))return!0;return!1},val:function(a){var b,c,d,f=this[0];if(arguments.length)return d=
n.isFunction(a),this.each(function(c){var f=n(this);1===this.nodeType&&(c=d?a.call(this,c,f.val()):a,null==c?c="":"number"===typeof c?c+="":n.isArray(c)&&(c=n.map(c,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&b.set(this,c,"value")!==e||(this.value=c))});if(f){if((b=n.valHooks[f.type]||n.valHooks[f.nodeName.toLowerCase()])&&"get"in b&&(c=b.get(f,"value"))!==e)return c;c=f.value;return"string"===typeof c?c.replace(ta,""):null==
c?"":c}}});n.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,e,c=a.selectedIndex,d=[],f=a.options,g="select-one"===a.type;if(0>c)return null;a=g?c:0;for(e=g?c+1:f.length;a<e;a++)if(b=f[a],!(!b.selected||(n.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&n.nodeName(b.parentNode,"optgroup"))){b=n(b).val();if(g)return b;d.push(b)}return g&&!d.length&&f.length?n(f[c]).val():
d},set:function(a,b){var e=n.makeArray(b);n(a).find("option").each(function(){this.selected=0<=n.inArray(n(this).val(),e)});e.length||(a.selectedIndex=-1);return e}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,b,c,d){var f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h){if(d&&b in n.attrFn)return n(a)[b](c);if("undefined"===typeof a.getAttribute)return n.prop(a,b,c);if(d=1!==h||!n.isXMLDoc(a))b=b.toLowerCase(),g=n.attrHooks[b]||(N.test(b)?Oa:fa);if(c!==e)if(null===
c)n.removeAttr(a,b);else{if(g&&"set"in g&&d&&(f=g.set(a,c,b))!==e)return f;a.setAttribute(b,""+c);return c}else{if(g&&"get"in g&&d&&null!==(f=g.get(a,b)))return f;f=a.getAttribute(b);return null===f?e:f}}},removeAttr:function(a,b){var e,c,d,f,g,h=0;if(b&&1===a.nodeType)for(c=b.toLowerCase().split(qa),f=c.length;h<f;h++)if(d=c[h])e=n.propFix[d]||d,(g=N.test(d))||n.attr(a,d,""),a.removeAttribute(Ca?d:e),g&&e in a&&(a[e]=!1)},attrHooks:{type:{set:function(a,b){if(na.test(a.nodeName)&&a.parentNode)n.error("type property can't be changed");
else if(!n.support.radioValue&&"radio"===b&&n.nodeName(a,"input")){var e=a.value;a.setAttribute("type",b);e&&(a.value=e);return b}}},value:{get:function(a,b){return fa&&n.nodeName(a,"button")?fa.get(a,b):b in a?a.value:null},set:function(a,b,e){if(fa&&n.nodeName(a,"button"))return fa.set(a,b,e);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,c){var d,f,g;g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){if(g=1!==g||!n.isXMLDoc(a))b=n.propFix[b]||b,f=n.propHooks[b];return c!==e?f&&"set"in f&&(d=f.set(a,c,b))!==e?d:a[b]=c:f&&"get"in f&&null!==(d=f.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):ya.test(a.nodeName)||Ba.test(a.nodeName)&&a.href?0:e}}}});n.attrHooks.tabindex=
n.propHooks.tabIndex;Oa={get:function(a,b){var c,d=n.prop(a,b);return!0===d||"boolean"!==typeof d&&(c=a.getAttributeNode(b))&&!1!==c.nodeValue?b.toLowerCase():e},set:function(a,b,e){!1===b?n.removeAttr(a,e):(b=n.propFix[e]||e,b in a&&(a[b]=!0),a.setAttribute(e,e.toLowerCase()));return e}};Ca||(vb={name:!0,id:!0,coords:!0},fa=n.valHooks.button={get:function(a,b){var c;return(c=a.getAttributeNode(b))&&(vb[b]?""!==c.nodeValue:c.specified)?c.nodeValue:e},set:function(a,b,e){var c=a.getAttributeNode(e);
c||(c=y.createAttribute(e),a.setAttributeNode(c));return c.nodeValue=b+""}},n.attrHooks.tabindex.set=fa.set,n.each(["width","height"],function(a,b){n.attrHooks[b]=n.extend(n.attrHooks[b],{set:function(a,e){if(""===e)return a.setAttribute(b,"auto"),e}})}),n.attrHooks.contenteditable={get:fa.get,set:function(a,b,e){""===b&&(b="false");fa.set(a,b,e)}});n.support.hrefNormalized||n.each(["href","src","width","height"],function(a,b){n.attrHooks[b]=n.extend(n.attrHooks[b],{get:function(a){a=a.getAttribute(b,
2);return null===a?e:a}})});n.support.style||(n.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||e},set:function(a,b){return a.style.cssText=""+b}});n.support.optSelected||(n.propHooks.selected=n.extend(n.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));n.support.enctype||(n.propFix.enctype="encoding");n.support.checkOn||n.each(["radio","checkbox"],function(){n.valHooks[this]={get:function(a){return null===
a.getAttribute("value")?"on":a.value}}});n.each(["radio","checkbox"],function(){n.valHooks[this]=n.extend(n.valHooks[this],{set:function(a,b){if(n.isArray(b))return a.checked=0<=n.inArray(n(a).val(),b)}})});var eb=/^(?:textarea|input|select)$/i,fb=/^([^\.]*)?(?:\.(.+))?$/,va=/(?:^|\s)hover(\.\S+)?\b/,cc=/^key/,dc=/^(?:mouse|contextmenu)|click/,wb=/^(?:focusinfocus|focusoutblur)$/,ec=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,fc=function(a){if(a=ec.exec(a))a[1]=(a[1]||"").toLowerCase(),a[3]=a[3]&&new RegExp("(?:^|\\s)"+
a[3]+"(?:\\s|$)");return a},xb=function(a){return n.event.special.hover?a:a.replace(va,"mouseenter$1 mouseleave$1")};n.event={add:function(a,b,c,d,f){var g,h,k,m,p,q,r,y,s;if(3!==a.nodeType&&8!==a.nodeType&&b&&c&&(g=n._data(a))){c.handler&&(r=c,c=r.handler,f=r.selector);c.guid||(c.guid=n.guid++);k=g.events;k||(g.events=k={});h=g.handle;h||(g.handle=h=function(a){return"undefined"===typeof n||a&&n.event.triggered===a.type?e:n.event.dispatch.apply(h.elem,arguments)},h.elem=a);b=n.trim(xb(b)).split(" ");
for(g=0;g<b.length;g++)m=fb.exec(b[g])||[],p=m[1],q=(m[2]||"").split(".").sort(),s=n.event.special[p]||{},p=(f?s.delegateType:s.bindType)||p,s=n.event.special[p]||{},m=n.extend({type:p,origType:m[1],data:d,handler:c,guid:c.guid,selector:f,quick:f&&fc(f),namespace:q.join(".")},r),y=k[p],y||(y=k[p]=[],y.delegateCount=0,s.setup&&!1!==s.setup.call(a,d,q,h)||(a.addEventListener?a.addEventListener(p,h,!1):a.attachEvent&&a.attachEvent("on"+p,h))),s.add&&(s.add.call(a,m),m.handler.guid||(m.handler.guid=c.guid)),
f?y.splice(y.delegateCount++,0,m):y.push(m),n.event.global[p]=!0;a=null}},global:{},remove:function(a,b,e,c,d){var f=n.hasData(a)&&n._data(a),g,h,k,m,p,q,r,y,s,A;if(f&&(r=f.events)){b=n.trim(xb(b||"")).split(" ");for(g=0;g<b.length;g++)if(h=fb.exec(b[g])||[],k=m=h[1],h=h[2],k){y=n.event.special[k]||{};k=(c?y.delegateType:y.bindType)||k;s=r[k]||[];p=s.length;h=h?new RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(q=0;q<s.length;q++)A=s[q],!d&&m!==A.origType||e&&e.guid!==
A.guid||h&&!h.test(A.namespace)||c&&c!==A.selector&&("**"!==c||!A.selector)||(s.splice(q--,1),A.selector&&s.delegateCount--,y.remove&&y.remove.call(a,A));0===s.length&&p!==s.length&&(y.teardown&&!1!==y.teardown.call(a,h)||n.removeEvent(a,k,f.handle),delete r[k])}else for(k in r)n.event.remove(a,k+b[g],e,c,!0);if(n.isEmptyObject(r)){if(b=f.handle)b.elem=null;n.removeData(a,["events","handle"],!0)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(b,c,d,f){if(!d||3!==d.nodeType&&
8!==d.nodeType){var g=b.type||b,h=[],k,m,p,q,r;if(!wb.test(g+n.event.triggered)&&(0<=g.indexOf("!")&&(g=g.slice(0,-1),k=!0),0<=g.indexOf(".")&&(h=g.split("."),g=h.shift(),h.sort()),d&&!n.event.customEvent[g]||n.event.global[g]))if(b="object"===typeof b?b[n.expando]?b:new n.Event(g,b):new n.Event(g),b.type=g,b.isTrigger=!0,b.exclusive=k,b.namespace=h.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,k=0>g.indexOf(":")?"on"+g:"",d){if(b.result=e,b.target||
(b.target=d),c=null!=c?n.makeArray(c):[],c.unshift(b),p=n.event.special[g]||{},!p.trigger||!1!==p.trigger.apply(d,c)){r=[[d,p.bindType||g]];if(!f&&!p.noBubble&&!n.isWindow(d)){q=p.delegateType||g;h=wb.test(q+g)?d:d.parentNode;for(m=null;h;h=h.parentNode)r.push([h,q]),m=h;m&&m===d.ownerDocument&&r.push([m.defaultView||m.parentWindow||a,q])}for(m=0;m<r.length&&!b.isPropagationStopped();m++)h=r[m][0],b.type=r[m][1],(q=(n._data(h,"events")||{})[b.type]&&n._data(h,"handle"))&&q.apply(h,c),(q=k&&h[k])&&
n.acceptData(h)&&!1===q.apply(h,c)&&b.preventDefault();b.type=g;f||b.isDefaultPrevented()||p._default&&!1!==p._default.apply(d.ownerDocument,c)||"click"===g&&n.nodeName(d,"a")||!n.acceptData(d)||!k||!d[g]||("focus"===g||"blur"===g)&&0===b.target.offsetWidth||n.isWindow(d)||((m=d[k])&&(d[k]=null),n.event.triggered=g,d[g](),n.event.triggered=e,m&&(d[k]=m));return b.result}}else for(m in d=n.cache,d)d[m].events&&d[m].events[g]&&n.event.trigger(b,c,d[m].handle.elem,!0)}},dispatch:function(b){b=n.event.fix(b||
a.event);var c=(n._data(this,"events")||{})[b.type]||[],d=c.delegateCount,f=[].slice.call(arguments,0),g=!b.exclusive&&!b.namespace,h=n.event.special[b.type]||{},k=[],m,p,q,r,y,s,A;f[0]=b;b.delegateTarget=this;if(!h.preDispatch||!1!==h.preDispatch.call(this,b)){if(d&&(!b.button||"click"!==b.type))for(q=n(this),q.context=this.ownerDocument||this,p=b.target;p!=this;p=p.parentNode||this)if(!0!==p.disabled){y={};s=[];q[0]=p;for(m=0;m<d;m++){r=c[m];A=r.selector;if(y[A]===e){var z=y,t=A,E;if(r.quick){E=
r.quick;var w=p.attributes||{};E=(!E[1]||p.nodeName.toLowerCase()===E[1])&&(!E[2]||(w.id||{}).value===E[2])&&(!E[3]||E[3].test((w["class"]||{}).value))}else E=q.is(A);z[t]=E}y[A]&&s.push(r)}s.length&&k.push({elem:p,matches:s})}c.length>d&&k.push({elem:this,matches:c.slice(d)});for(m=0;m<k.length&&!b.isPropagationStopped();m++)for(d=k[m],b.currentTarget=d.elem,c=0;c<d.matches.length&&!b.isImmediatePropagationStopped();c++)if(r=d.matches[c],g||!b.namespace&&!r.namespace||b.namespace_re&&b.namespace_re.test(r.namespace))b.data=
r.data,b.handleObj=r,r=((n.event.special[r.origType]||{}).handle||r.handler).apply(d.elem,f),r!==e&&(b.result=r,!1===r&&(b.preventDefault(),b.stopPropagation()));h.postDispatch&&h.postDispatch.call(this,b);return b.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&
(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,f=b.button,g=b.fromElement;null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||y,d=c.documentElement,c=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||c&&c.scrollLeft||0)-(d&&d.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||c&&c.scrollTop||0)-(d&&d.clientTop||c&&
c.clientTop||0));!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g);a.which||f===e||(a.which=f&1?1:f&2?3:f&4?2:0);return a}},fix:function(a){if(a[n.expando])return a;var b,c,d=a,f=n.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;a=n.Event(d);for(b=g.length;b;)c=g[--b],a[c]=d[c];a.target||(a.target=d.srcElement||y);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey===e&&(a.metaKey=a.ctrlKey);return f.filter?f.filter(a,d):a},special:{ready:{setup:n.bindReady},
load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){n.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,e){a=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});e?n.event.trigger(a,null,b):n.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};n.event.handle=n.event.dispatch;n.removeEvent=y.removeEventListener?function(a,
b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)};n.Event=function(a,b){if(!(this instanceof n.Event))return new n.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?f:g):this.type=a;b&&n.extend(this,b);this.timeStamp=a&&a.timeStamp||n.now();this[n.expando]=!0};n.Event.prototype={preventDefault:function(){this.isDefaultPrevented=
f;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=f;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=f;this.stopPropagation()},isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g};n.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){n.event.special[a]={delegateType:b,
bindType:b,handle:function(a){var c=a.relatedTarget,e=a.handleObj,d;if(!c||c!==this&&!n.contains(this,c))a.type=e.origType,d=e.handler.apply(this,arguments),a.type=b;return d}}});n.support.submitBubbles||(n.event.special.submit={setup:function(){if(n.nodeName(this,"form"))return!1;n.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=n.nodeName(a,"input")||n.nodeName(a,"button")?a.form:e)&&!a._submit_attached&&(n.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),
a._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(n.nodeName(this,"form"))return!1;n.event.remove(this,"._submit")}});n.support.changeBubbles||(n.event.special.change={setup:function(){if(eb.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&
(this._just_changed=!0)}),n.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,n.event.simulate("change",this,a,!0))});return!1}n.event.add(this,"beforeactivate._change",function(a){a=a.target;eb.test(a.nodeName)&&!a._change_attached&&(n.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a,!0)}),a._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||
a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){n.event.remove(this,"._change");return eb.test(this.nodeName)}});n.support.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,e=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){0===c++&&y.addEventListener(a,e,!0)},teardown:function(){0===--c&&y.removeEventListener(a,e,!0)}}});n.fn.extend({on:function(a,
b,c,d,f){var h,k;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=e);for(k in a)this.on(k,b,c,a[k],f);return this}null==c&&null==d?(d=b,c=b=e):null==d&&("string"===typeof b?(d=c,c=e):(d=c,c=b,b=e));if(!1===d)d=g;else if(!d)return this;1===f&&(h=d,d=function(a){n().off(a);return h.apply(this,arguments)},d.guid=h.guid||(h.guid=n.guid++));return this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,e){return this.on(a,b,c,e,1)},off:function(a,b,c){if(a&&a.preventDefault&&a.handleObj){var d=
a.handleObj;n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler);return this}if("object"===typeof a){for(d in a)this.off(d,b,a[d]);return this}if(!1===b||"function"===typeof b)c=b,b=e;!1===c&&(c=g);return this.each(function(){n.event.remove(this,a,c,b)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){n(this.context).on(a,this.selector,b,c);return this},die:function(a,b){n(this.context).off(a,
this.selector||"**",b);return this},delegate:function(a,b,c,e){return this.on(b,a,c,e)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return n.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||n.guid++,e=0,d=function(c){var d=(n._data(this,"lastToggle"+a.guid)||0)%e;n._data(this,"lastToggle"+a.guid,d+1);c.preventDefault();
return b[d].apply(this,arguments)||!1};for(d.guid=c;e<b.length;)b[e++].guid=c;return this.click(d)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){null==c&&(c=a,a=null);return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)};
n.attrFn&&(n.attrFn[b]=!0);cc.test(b)&&(n.event.fixHooks[b]=n.event.keyHooks);dc.test(b)&&(n.event.fixHooks[b]=n.event.mouseHooks)});(function(){function a(b,c,e,f,g,n){g=0;for(var h=f.length;g<h;g++){var k=f[g];if(k){for(var m=!1,k=k[b];k;){if(k[d]===e){m=f[k.sizset];break}1!==k.nodeType||n||(k[d]=e,k.sizset=g);if(k.nodeName.toLowerCase()===c){m=k;break}k=k[b]}f[g]=m}}}function b(a,c,e,f,g,n){g=0;for(var h=f.length;g<h;g++){var k=f[g];if(k){for(var m=!1,k=k[a];k;){if(k[d]===e){m=f[k.sizset];break}if(1===
k.nodeType)if(n||(k[d]=e,k.sizset=g),"string"!==typeof c){if(k===c){m=!0;break}}else if(0<r.filter(c,[k]).length){m=k;break}k=k[a]}f[g]=m}}}var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),f=0,g=Object.prototype.toString,h=!1,k=!0,m=/\\/g,p=/\r\n/g,q=/\W/;[0,0].sort(function(){k=!1;return 0});var r=function(a,b,e,d){e=e||[];var f=b=b||y;if(1!==b.nodeType&&9!==
b.nodeType)return[];if(!a||"string"!==typeof a)return e;var n,h,k,m,p,q=!0,s=r.isXML(b),L=[],t=a;do if(c.exec(""),n=c.exec(t))if(t=n[3],L.push(n[1]),n[2]){m=n[3];break}while(n);if(1<L.length&&z.exec(a))if(2===L.length&&A.relative[L[0]])h=W(L[0]+L[1],b,d);else for(h=A.relative[L[0]]?[b]:r(L.shift(),b);L.length;)a=L.shift(),A.relative[a]&&(a+=L.shift()),h=W(a,h,d);else if(!d&&1<L.length&&9===b.nodeType&&!s&&A.match.ID.test(L[0])&&!A.match.ID.test(L[L.length-1])&&(n=r.find(L.shift(),b,s),b=n.expr?r.filter(n.expr,
n.set)[0]:n.set[0]),b)for(n=d?{expr:L.pop(),set:w(d)}:r.find(L.pop(),1!==L.length||"~"!==L[0]&&"+"!==L[0]||!b.parentNode?b:b.parentNode,s),h=n.expr?r.filter(n.expr,n.set):n.set,0<L.length?k=w(h):q=!1;L.length;)n=p=L.pop(),A.relative[p]?n=L.pop():p="",null==n&&(n=b),A.relative[p](k,n,s);else k=[];k||(k=h);k||r.error(p||a);if("[object Array]"===g.call(k))if(q)if(b&&1===b.nodeType)for(a=0;null!=k[a];a++)k[a]&&(!0===k[a]||1===k[a].nodeType&&r.contains(b,k[a]))&&e.push(h[a]);else for(a=0;null!=k[a];a++)k[a]&&
1===k[a].nodeType&&e.push(h[a]);else e.push.apply(e,k);else w(k,e);m&&(r(m,f,e,d),r.uniqueSort(e));return e};r.uniqueSort=function(a){if(x&&(h=k,a.sort(x),h))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};r.matches=function(a,b){return r(a,null,null,b)};r.matchesSelector=function(a,b){return 0<r(b,null,null,[a]).length};r.find=function(a,b,c){var e,d,f,g,n,h;if(!a)return[];d=0;for(f=A.order.length;d<f;d++)if(n=A.order[d],g=A.leftMatch[n].exec(a))if(h=g[1],g.splice(1,1),"\\"!==
h.substr(h.length-1)&&(g[1]=(g[1]||"").replace(m,""),e=A.find[n](g,b,c),null!=e)){a=a.replace(A.match[n],"");break}e||(e="undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]);return{set:e,expr:a}};r.filter=function(a,b,c,d){for(var f,g,n,h,k,m,p,q,y=a,s=[],L=b,z=b&&b[0]&&r.isXML(b[0]);a&&b.length;){for(n in A.filter)if(null!=(f=A.leftMatch[n].exec(a))&&f[2]&&(m=A.filter[n],k=f[1],g=!1,f.splice(1,1),"\\"!==k.substr(k.length-1))){L===s&&(s=[]);if(A.preFilter[n])if(f=A.preFilter[n](f,
L,c,s,d,z),!f)g=h=!0;else if(!0===f)continue;if(f)for(p=0;null!=(k=L[p]);p++)k&&(h=m(k,f,p,L),q=d^h,c&&null!=h?q?g=!0:L[p]=!1:q&&(s.push(k),g=!0));if(h!==e){c||(L=s);a=a.replace(A.match[n],"");if(!g)return[];break}}if(a===y)if(null==g)r.error(a);else break;y=a}return L};r.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};var s=r.getText=function(a){var b,c;b=a.nodeType;var e="";if(b)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;if("string"===
typeof a.innerText)return a.innerText.replace(p,"");for(a=a.firstChild;a;a=a.nextSibling)e+=s(a)}else{if(3===b||4===b)return a.nodeValue}else for(b=0;c=a[b];b++)8!==c.nodeType&&(e+=s(c));return e},A=r.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,
CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"===typeof b,e=c&&!q.test(b),
c=c&&!e;e&&(b=b.toLowerCase());for(var e=0,d=a.length,f;e<d;e++)if(f=a[e]){for(;(f=f.previousSibling)&&1!==f.nodeType;);a[e]=c||f&&f.nodeName.toLowerCase()===b?f||!1:f===b}c&&r.filter(b,a,!0)},">":function(a,b){var c,e="string"===typeof b,d=0,f=a.length;if(e&&!q.test(b))for(b=b.toLowerCase();d<f;d++){if(c=a[d])c=c.parentNode,a[d]=c.nodeName.toLowerCase()===b?c:!1}else{for(;d<f;d++)(c=a[d])&&(a[d]=e?c.parentNode:c.parentNode===b);e&&r.filter(b,a,!0)}},"":function(c,e,d){var g,n=f++,h=b;"string"!==
typeof e||q.test(e)||(g=e=e.toLowerCase(),h=a);h("parentNode",e,n,c,g,d)},"~":function(c,e,d){var g,n=f++,h=b;"string"!==typeof e||q.test(e)||(g=e=e.toLowerCase(),h=a);h("previousSibling",e,n,c,g,d)}},find:{ID:function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName){for(var c=[],e=b.getElementsByName(a[1]),d=0,f=e.length;d<f;d++)e[d].getAttribute("name")===a[1]&&c.push(e[d]);
return 0===c.length?null:c}},TAG:function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,e,d,f){a=" "+a[1].replace(m,"")+" ";if(f)return a;f=0;for(var g;null!=(g=b[f]);f++)g&&(d^(g.className&&0<=(" "+g.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?c||e.push(g):c&&(b[f]=!1));return!1},ID:function(a){return a[1].replace(m,"")},TAG:function(a,b){return a[1].replace(m,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||
r.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&r.error(a[0]);a[0]=f++;return a},ATTR:function(a,b,c,e,d,f){b=a[1]=a[1].replace(m,"");!f&&A.attrMap[b]&&(a[1]=A.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(m,"");"~="===a[2]&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,e,d,f){if("not"===a[1])if(1<(c.exec(a[3])||"").length||/^\w/.test(a[3]))a[3]=
r(a[3],null,null,b);else return a=r.filter(a[3],b,e,1^f),e||d.push.apply(d,a),!1;else if(A.match.POS.test(a[0])||A.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},
has:function(a,b,c){return!!r(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===c&&(b===c||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&
"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===
a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,e){return b===e.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,e){var d=b[1],f=A.filters[d];if(f)return f(a,c,b,e);if("contains"===d)return 0<=(a.textContent||a.innerText||s([a])||"").indexOf(b[3]);
if("not"===d){b=b[3];c=0;for(e=b.length;c<e;c++)if(b[c]===a)return!1;return!0}r.error(d)},CHILD:function(a,b){var c,e,f,g,n,h;c=b[1];h=a;switch(c){case "only":case "first":for(;h=h.previousSibling;)if(1===h.nodeType)return!1;if("first"===c)return!0;h=a;case "last":for(;h=h.nextSibling;)if(1===h.nodeType)return!1;return!0;case "nth":c=b[2];e=b[3];if(1===c&&0===e)return!0;f=b[0];if((g=a.parentNode)&&(g[d]!==f||!a.nodeIndex)){n=0;for(h=g.firstChild;h;h=h.nextSibling)1===h.nodeType&&(h.nodeIndex=++n);
g[d]=f}h=a.nodeIndex-e;return 0===c?0===h:0===h%c&&0<=h/c}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var c=b[1],c=r.attr?r.attr(a,c):A.attrHandle[c]?A.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),e=c+"",d=b[2],f=b[4];return null==c?"!="===d:!d&&r.attr?null!=c:"="===d?
e===f:"*="===d?0<=e.indexOf(f):"~="===d?0<=(" "+e+" ").indexOf(f):f?"!="===d?e!==f:"^="===d?0===e.indexOf(f):"$="===d?e.substr(e.length-f.length)===f:"|="===d?e===f||e.substr(0,f.length+1)===f+"-":!1:e&&!1!==c},POS:function(a,b,c,e){var d=A.setFilters[b[2]];if(d)return d(a,c,b,e)}}},z=A.match.POS,t=function(a,b){return"\\"+(b-0+1)},E;for(E in A.match)A.match[E]=new RegExp(A.match[E].source+/(?![^\[]*\])(?![^\(]*\))/.source),A.leftMatch[E]=new RegExp(/(^(?:.|\r|\n)*?)/.source+A.match[E].source.replace(/\\(\d+)/g,
t));A.match.globalPOS=z;var w=function(a,b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(y.documentElement.childNodes,0)[0].nodeType}catch(Ta){w=function(a,b){var c=0,e=b||[];if("[object Array]"===g.call(a))Array.prototype.push.apply(e,a);else if("number"===typeof a.length)for(var d=a.length;c<d;c++)e.push(a[c]);else for(;a[c];c++)e.push(a[c]);return e}}var x,v;y.documentElement.compareDocumentPosition?x=function(a,b){return a===b?(h=!0,0):a.compareDocumentPosition&&
b.compareDocumentPosition?a.compareDocumentPosition(b)&4?-1:1:a.compareDocumentPosition?-1:1}:(x=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,e,d=[],f=[];c=a.parentNode;e=b.parentNode;var g=c;if(c===e)return v(a,b);if(!c)return-1;if(!e)return 1;for(;g;)d.unshift(g),g=g.parentNode;for(g=e;g;)f.unshift(g),g=g.parentNode;c=d.length;e=f.length;for(g=0;g<c&&g<e;g++)if(d[g]!==f[g])return v(d[g],f[g]);return g===c?v(a,f[g],-1):v(d[g],b,1)},
v=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});(function(){var a=y.createElement("div"),b="script"+(new Date).getTime(),c=y.documentElement;a.innerHTML="<a name='"+b+"'/>";c.insertBefore(a,c.firstChild);y.getElementById(b)&&(A.find.ID=function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(b=b.getElementById(a[1]))?b.id===a[1]||"undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id").nodeValue===a[1]?[b]:e:[]},A.filter.ID=
function(a,b){var c="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b});c.removeChild(a);c=a=null})();(function(){var a=y.createElement("div");a.appendChild(y.createComment(""));0<a.getElementsByTagName("*").length&&(A.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var e=[],d=0;c[d];d++)1===c[d].nodeType&&e.push(c[d]);c=e}return c});a.innerHTML="<a href='#'></a>";a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&
"#"!==a.firstChild.getAttribute("href")&&(A.attrHandle.href=function(a){return a.getAttribute("href",2)});a=null})();y.querySelectorAll&&function(){var a=r,b=y.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||0!==b.querySelectorAll(".TEST").length){r=function(b,c,e,d){c=c||y;if(!d&&!r.isXML(c)){var f=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(f&&(1===c.nodeType||9===c.nodeType)){if(f[1])return w(c.getElementsByTagName(b),e);if(f[2]&&A.find.CLASS&&c.getElementsByClassName)return w(c.getElementsByClassName(f[2]),
e)}if(9===c.nodeType){if("body"===b&&c.body)return w([c.body],e);if(f&&f[3]){var g=c.getElementById(f[3]);if(g&&g.parentNode){if(g.id===f[3])return w([g],e)}else return w([],e)}try{return w(c.querySelectorAll(b),e)}catch(n){}}else if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){var f=c,h=(g=c.getAttribute("id"))||"__sizzle__",k=c.parentNode,m=/^\s*[+~]/.test(b);g?h=h.replace(/'/g,"\\$&"):c.setAttribute("id",h);m&&k&&(c=c.parentNode);try{if(!m||k)return w(c.querySelectorAll("[id='"+h+"'] "+
b),e)}catch(p){}finally{g||f.removeAttribute("id")}}}return a(b,c,e,d)};for(var c in a)r[c]=a[c];b=null}}();(function(){var a=y.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(y.createElement("div"),"div"),e=!1;try{b.call(y.documentElement,"[test!='']:sizzle")}catch(d){e=!0}r.matchesSelector=function(a,d){d=d.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!r.isXML(a))try{if(e||!A.match.PSEUDO.test(d)&&!/!=/.test(d)){var f=b.call(a,
d);if(f||!c||a.document&&11!==a.document.nodeType)return f}}catch(g){}return 0<r(d,null,null,[a]).length}}})();(function(){var a=y.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&(A.order.splice(1,0,"CLASS"),A.find.CLASS=function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a[1])},
a=null))})();r.contains=y.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:y.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return!1};r.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var W=function(a,b,c){var e,d=[],f="";for(b=b.nodeType?[b]:b;e=A.match.PSEUDO.exec(a);)f+=e[0],a=a.replace(A.match.PSEUDO,"");a=A.relative[a]?a+"*":a;e=0;for(var g=b.length;e<g;e++)r(a,
b[e],d,c);return r.filter(f,d)};r.attr=n.attr;r.selectors.attrMap={};n.find=r;n.expr=r.selectors;n.expr[":"]=n.expr.filters;n.unique=r.uniqueSort;n.text=r.getText;n.isXMLDoc=r.isXML;n.contains=r.contains})();var gc=/Until$/,yb=/^(?:parents|prevUntil|prevAll)/,Pa=/,/,Ma=/^.[^:#\[\.,]*$/,zb=Array.prototype.slice,gb=n.expr.match.globalPOS,ia={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({find:function(a){var b=this,c,e;if("string"!==typeof a)return n(a).filter(function(){c=0;for(e=b.length;c<
e;c++)if(n.contains(b[c],this))return!0});var d=this.pushStack("","find",a),f,g,h;c=0;for(e=this.length;c<e;c++)if(f=d.length,n.find(a,this[c],d),0<c)for(g=f;g<d.length;g++)for(h=0;h<f;h++)if(d[h]===d[g]){d.splice(g--,1);break}return d},has:function(a){var b=n(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(n.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(p(this,a,!1),"not",a)},filter:function(a){return this.pushStack(p(this,a,!0),"filter",a)},is:function(a){return!!a&&
("string"===typeof a?gb.test(a)?0<=n(a,this.context).index(this[0]):0<n.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){var c=[],e,d,f=this[0];if(n.isArray(a)){for(d=1;f&&f.ownerDocument&&f!==b;){for(e=0;e<a.length;e++)n(f).is(a[e])&&c.push({selector:a[e],elem:f,level:d});f=f.parentNode;d++}return c}var g=gb.test(a)||"string"!==typeof a?n(a,b||this.context):0;e=0;for(d=this.length;e<d;e++)for(f=this[e];f;)if(g?-1<g.index(f):n.find.matchesSelector(f,a)){c.push(f);break}else if(f=
f.parentNode,!f||!f.ownerDocument||f===b||11===f.nodeType)break;c=1<c.length?n.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){return a?"string"===typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"===typeof a?n(a,b):n.makeArray(a&&a.nodeType?[a]:a),e=n.merge(this.get(),c);return this.pushStack(k(c[0])||k(e[0])?e:n.unique(e))},andSelf:function(){return this.add(this.prevObject)}});
n.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return n.nth(a,2,"nextSibling")},prev:function(a){return n.nth(a,2,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",
c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.makeArray(a.childNodes)}},function(a,b){n.fn[a]=function(c,e){var d=n.map(this,b,c);gc.test(a)||(e=c);e&&"string"===typeof e&&(d=n.filter(e,d));d=1<this.length&&!ia[a]?n.unique(d):d;(1<this.length||Pa.test(e))&&yb.test(a)&&(d=d.reverse());return this.pushStack(d,a,zb.call(arguments).join(","))}});
n.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return 1===b.length?n.find.matchesSelector(b[0],a)?[b[0]]:[]:n.find.matches(a,b)},dir:function(a,b,c){var d=[];for(a=a[b];a&&9!==a.nodeType&&(c===e||1!==a.nodeType||!n(a).is(c));)1===a.nodeType&&d.push(a),a=a[b];return d},nth:function(a,b,c,e){b=b||1;for(e=0;a&&(1!==a.nodeType||++e!==b);a=a[c]);return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Kb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
hb=/ jQuery\d+="(?:\d+|null)"/g,sb=/^\s+/,Pb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ia=/<([\w:]+)/,Qb=/<tbody/i,Ab=/<|&#?\w+;/,ba=/<(?:script|style)/i,tb=/<(?:script|object|embed|option|style)/i,Qa=new RegExp("<(?:"+Kb+")[\\s/>]","i"),Za=/checked\s*(?:[^=]|=\s*.checked.)/i,Ra=/\/(java|ecma)script/i,$a=/^\s*<!(?:\[CDATA\[|\-\-)/,ja={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>",
"</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},H=q(y);ja.optgroup=ja.option;ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead;ja.th=ja.td;n.support.htmlSerialize||(ja._default=[1,"div<div>","</div>"]);n.fn.extend({text:function(a){return n.access(this,function(a){return a===e?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},
null,a,arguments.length)},wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();
c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&
this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=n.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,n.clean(arguments));return a}},remove:function(a,
b){for(var c=0,e;null!=(e=this[c]);c++)if(!a||n.filter(a,[e]).length)b||1!==e.nodeType||(n.cleanData(e.getElementsByTagName("*")),n.cleanData([e])),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var a=0,b;null!=(b=this[a]);a++)for(1===b.nodeType&&n.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return n.clone(this,a,b)})},html:function(a){return n.access(this,
function(a){var b=this[0]||{},c=0,d=this.length;if(a===e)return 1===b.nodeType?b.innerHTML.replace(hb,""):null;if(!("string"!==typeof a||ba.test(a)||!n.support.leadingWhitespace&&sb.test(a)||ja[(Ia.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Pb,"<$1></$2>");try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(b.getElementsByTagName("*")),b.innerHTML=a);b=0}catch(f){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(n.isFunction(a))return this.each(function(b){var c=
n(this),e=c.html();c.replaceWith(a.call(this,b,e))});"string"!==typeof a&&(a=n(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;n(this).remove();b?n(b).before(a):n(c).append(a)})}return this.length?this.pushStack(n(n.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){var d,f,g,h=a[0],k=[];if(!n.support.checkClone&&3===arguments.length&&"string"===typeof h&&Za.test(h))return this.each(function(){n(this).domManip(a,
b,c,!0)});if(n.isFunction(h))return this.each(function(d){var f=n(this);a[0]=h.call(this,d,b?f.html():e);f.domManip(a,b,c)});if(this[0]){d=h&&h.parentNode;d=n.support.parentNode&&d&&11===d.nodeType&&d.childNodes.length===this.length?{fragment:d}:n.buildFragment(a,this,k);g=d.fragment;if(f=1===g.childNodes.length?g=g.firstChild:g.firstChild){b=b&&n.nodeName(f,"tr");for(var p=0,q=this.length,r=q-1;p<q;p++)c.call(b?m(this[p],f):this[p],d.cacheable||1<q&&p<r?n.clone(g,!0,!0):g)}k.length&&n.each(k,function(a,
b){b.src?n.ajax({type:"GET",global:!1,url:b.src,async:!1,dataType:"script"}):n.globalEval((b.text||b.textContent||b.innerHTML||"").replace($a,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)})}return this}});n.buildFragment=function(a,b,c){var e,d,f,g,h=a[0];b&&b[0]&&(g=b[0].ownerDocument||b[0]);g.createDocumentFragment||(g=y);!(1===a.length&&"string"===typeof h&&512>h.length&&g===y&&"<"===h.charAt(0))||tb.test(h)||!n.support.checkClone&&Za.test(h)||!n.support.html5Clone&&Qa.test(h)||(d=!0,(f=
n.fragments[h])&&1!==f&&(e=f));e||(e=g.createDocumentFragment(),n.clean(a,g,e,c));d&&(n.fragments[h]=f?e:1);return{fragment:e,cacheable:d}};n.fragments={};n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(c){var e=[];c=n(c);var d=1===this.length&&this[0].parentNode;if(d&&11===d.nodeType&&1===d.childNodes.length&&1===c.length)return c[b](this[0]),this;for(var d=0,f=c.length;d<f;d++){var g=(0<d?this.clone(!0):
this).get();n(c[d])[b](g);e=e.concat(g)}return this.pushStack(e,a,c.selector)}});n.extend({clone:function(a,b,c){var e,d,f;n.support.html5Clone||n.isXMLDoc(a)||!Qa.test("<"+a.nodeName+">")?e=a.cloneNode(!0):(e=y.createElement("div"),H.appendChild(e),e.innerHTML=a.outerHTML,e=e.firstChild);var g=e;if(!(n.support.noCloneEvent&&n.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(t(a,g),e=v(a),d=v(g),f=0;e[f];++f)d[f]&&t(e[f],d[f]);if(b&&(s(a,g),c))for(e=v(a),d=v(g),f=0;e[f];++f)s(e[f],
d[f]);return g},clean:function(a,b,c,e){var d,f=[];b=b||y;"undefined"===typeof b.createElement&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||y);for(var g=0,h;null!=(h=a[g]);g++)if("number"===typeof h&&(h+=""),h){if("string"===typeof h)if(Ab.test(h)){h=h.replace(Pb,"<$1></$2>");d=(Ia.exec(h)||["",""])[1].toLowerCase();var k=ja[d]||ja._default,m=k[0],p=b.createElement("div"),r=H.childNodes;b===y?H.appendChild(p):q(b).appendChild(p);for(p.innerHTML=k[1]+h+k[2];m--;)p=p.lastChild;if(!n.support.tbody)for(m=
Qb.test(h),k="table"!==d||m?"<table>"!==k[1]||m?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes,d=k.length-1;0<=d;--d)n.nodeName(k[d],"tbody")&&!k[d].childNodes.length&&k[d].parentNode.removeChild(k[d]);!n.support.leadingWhitespace&&sb.test(h)&&p.insertBefore(b.createTextNode(sb.exec(h)[0]),p.firstChild);h=p.childNodes;p&&(p.parentNode.removeChild(p),0<r.length&&(p=r[r.length-1])&&p.parentNode&&p.parentNode.removeChild(p))}else h=b.createTextNode(h);var A;if(!n.support.appendChecked)if(h[0]&&
"number"===typeof(A=h.length))for(d=0;d<A;d++)z(h[d]);else z(h);h.nodeType?f.push(h):f=n.merge(f,h)}if(c)for(a=function(a){return!a.type||Ra.test(a.type)},g=0;f[g];g++)b=f[g],e&&n.nodeName(b,"script")&&(!b.type||Ra.test(b.type))?e.push(b.parentNode?b.parentNode.removeChild(b):b):(1===b.nodeType&&(h=n.grep(b.getElementsByTagName("script"),a),f.splice.apply(f,[g+1,0].concat(h))),c.appendChild(b));return f},cleanData:function(a){for(var b,c,e=n.cache,d=n.event.special,f=n.support.deleteExpando,g=0,h;null!=
(h=a[g]);g++)if(!h.nodeName||!n.noData[h.nodeName.toLowerCase()])if(c=h[n.expando]){if((b=e[c])&&b.events){for(var k in b.events)d[k]?n.event.remove(h,k):n.removeEvent(h,k,b.handle);b.handle&&(b.handle.elem=null)}f?delete h[n.expando]:h.removeAttribute&&h.removeAttribute(n.expando);delete e[c]}}});var ab=/alpha\([^)]*\)/i,ca=/opacity=([^)]*)/,Rb=/([A-Z]|^ms)/g,ib=/^[\-+]?(?:\d*\.)?\d+$/i,Ga=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Sb=/^([\-+])=([\-+.\de]+)/,Bb=/^margin/,hc={position:"absolute",visibility:"hidden",
display:"block"},Fa=["Top","Right","Bottom","Left"],Xa,Tb,Ub;n.fn.css=function(a,b){return n.access(this,function(a,b,c){return c!==e?n.style(a,b,c):n.css(a,b)},a,b,1<arguments.length)};n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Xa(a,"opacity");return""===c?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":n.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&
3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g=n.camelCase(b),h=a.style,k=n.cssHooks[g];b=n.cssProps[g]||g;if(c!==e){if(d=typeof c,"string"===d&&(f=Sb.exec(c))&&(c=+(f[1]+1)*+f[2]+parseFloat(n.css(a,b)),d="number"),!(null==c||"number"===d&&isNaN(c)||("number"!==d||n.cssNumber[g]||(c+="px"),k&&"set"in k&&(c=k.set(a,c))===e)))try{h[b]=c}catch(m){}}else return k&&"get"in k&&(f=k.get(a,!1,d))!==e?f:h[b]}},css:function(a,b,c){var d,f;b=n.camelCase(b);f=n.cssHooks[b];b=n.cssProps[b]||b;"cssFloat"===b&&
(b="float");if(f&&"get"in f&&(d=f.get(a,!0,c))!==e)return d;if(Xa)return Xa(a,b)},swap:function(a,b,c){var e={},d;for(d in b)e[d]=a.style[d],a.style[d]=b[d];c=c.call(a);for(d in b)a.style[d]=e[d];return c}});n.curCSS=n.css;y.defaultView&&y.defaultView.getComputedStyle&&(Tb=function(a,b){var c,e,d,f=a.style;b=b.replace(Rb,"-$1").toLowerCase();(e=a.ownerDocument.defaultView)&&(d=e.getComputedStyle(a,null))&&(c=d.getPropertyValue(b),""!==c||n.contains(a.ownerDocument.documentElement,a)||(c=n.style(a,
b)));!n.support.pixelMargin&&d&&Bb.test(b)&&Ga.test(c)&&(e=f.width,f.width=c,c=d.width,f.width=e);return c});y.documentElement.currentStyle&&(Ub=function(a,b){var c,e,d=a.currentStyle&&a.currentStyle[b],f=a.style;null==d&&f&&(c=f[b])&&(d=c);if(Ga.test(d)){c=f.left;if(e=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;f.left="fontSize"===b?"1em":d;d=f.pixelLeft+"px";f.left=c;e&&(a.runtimeStyle.left=e)}return""===d?"auto":d});Xa=Tb||Ub;n.each(["height","width"],function(a,
b){n.cssHooks[b]={get:function(a,c,e){if(c)return 0!==a.offsetWidth?x(a,b,e):n.swap(a,hc,function(){return x(a,b,e)})},set:function(a,b){return ib.test(b)?b+"px":b}}});n.support.opacity||(n.cssHooks.opacity={get:function(a,b){return ca.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,e=a.currentStyle,d=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=e&&e.filter||c.filter||"";c.zoom=1;if(1<=b&&""===n.trim(f.replace(ab,
""))&&(c.removeAttribute("filter"),e&&!e.filter))return;c.filter=ab.test(f)?f.replace(ab,d):f+" "+d}});n(function(){n.support.reliableMarginRight||(n.cssHooks.marginRight={get:function(a,b){return n.swap(a,{display:"inline-block"},function(){return b?Xa(a,"margin-right"):a.style.marginRight})}})});n.expr&&n.expr.filters&&(n.expr.filters.hidden=function(a){var b=a.offsetHeight;return 0===a.offsetWidth&&0===b||!n.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||n.css(a,"display"))},
n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)});n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){var e="string"===typeof c?c.split(" "):[c],d={};for(c=0;4>c;c++)d[a+Fa[c]+b]=e[c]||e[c-2]||e[0];return d}}});var Sa=/%20/g,Ya=/\[\]$/,Cb=/\r?\n/g,jb=/#.*$/,Ta=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,oa=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ja=/^(?:GET|HEAD)$/,wa=/^\/\//,
Ua=/\?/,Tc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Uc=/^(?:select|textarea)/i,tc=/\s+/,Vc=/([?&])_=[^&]*/,ic=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Ka=n.fn.load,Lb={},jc={},kb,lb,xc=["*/"]+["*"];try{kb=Z.href}catch(yc){kb=y.createElement("a"),kb.href="",kb=kb.href}lb=ic.exec(kb.toLowerCase())||[];n.fn.extend({load:function(a,b,c){if("string"!==typeof a&&Ka)return Ka.apply(this,arguments);if(!this.length)return this;var d=a.indexOf(" ");if(0<=d){var f=a.slice(d,a.length);a=
a.slice(0,d)}d="GET";b&&(n.isFunction(b)?(c=b,b=e):"object"===typeof b&&(b=n.param(b,n.ajaxSettings.traditional),d="POST"));var g=this;n.ajax({url:a,type:d,dataType:"html",data:b,complete:function(a,b,e){e=a.responseText;a.isResolved()&&(a.done(function(a){e=a}),g.html(f?n("<div>").append(e.replace(Tc,"")).find(f):e));c&&g.each(c,[e,b,a])}});return this},serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?n.makeArray(this.elements):
this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Uc.test(this.nodeName)||oa.test(this.type))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a,c){return{name:b.name,value:a.replace(Cb,"\r\n")}}):{name:b.name,value:c.replace(Cb,"\r\n")}}).get()}});n.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){n.fn[b]=function(a){return this.on(b,a)}});n.each(["get","post"],function(a,b){n[b]=function(a,
c,d,f){n.isFunction(c)&&(f=f||d,d=c,c=e);return n.ajax({type:b,url:a,data:c,success:d,dataType:f})}});n.extend({getScript:function(a,b){return n.get(a,e,b,"script")},getJSON:function(a,b,c){return n.get(a,b,c,"json")},ajaxSetup:function(a,b){b?C(a,n.ajaxSettings):(b=a,a=n.ajaxSettings);C(a,b);return a},ajaxSettings:{url:kb,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(lb[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,
async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":xc},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:w(Lb),ajaxTransport:w(jc),ajax:function(a,b){function c(a,b,q,r){if(2!==E){E=2;z&&clearTimeout(z);s=e;y=r||"";v.readyState=0<a?4:
0;var A,t,Ta;r=b;if(q){var x=d,W=v,K=x.contents,B=x.dataTypes,T=x.responseFields,J,C,M,oa;for(C in T)C in q&&(W[T[C]]=q[C]);for(;"*"===B[0];)B.shift(),J===e&&(J=x.mimeType||W.getResponseHeader("content-type"));if(J)for(C in K)if(K[C]&&K[C].test(J)){B.unshift(C);break}if(B[0]in q)M=B[0];else{for(C in q){if(!B[0]||x.converters[C+" "+B[0]]){M=C;break}oa||(oa=C)}M=M||oa}M?(M!==B[0]&&B.unshift(M),q=q[M]):q=void 0}else q=e;if(200<=a&&300>a||304===a){if(d.ifModified){if(J=v.getResponseHeader("Last-Modified"))n.lastModified[p]=
J;if(J=v.getResponseHeader("Etag"))n.etag[p]=J}if(304===a)r="notmodified",A=!0;else try{J=d;J.dataFilter&&(q=J.dataFilter(q,J.dataType));var L=J.dataTypes;C={};var Ja,Z,u=L.length,ea,aa=L[0],I,wa,D,V,Ua;for(Ja=1;Ja<u;Ja++){if(1===Ja)for(Z in J.converters)"string"===typeof Z&&(C[Z.toLowerCase()]=J.converters[Z]);I=aa;aa=L[Ja];if("*"===aa)aa=I;else if("*"!==I&&I!==aa){wa=I+" "+aa;D=C[wa]||C["* "+aa];if(!D)for(V in Ua=e,C)if(ea=V.split(" "),ea[0]===I||"*"===ea[0])if(Ua=C[ea[1]+" "+aa]){V=C[V];!0===V?
D=Ua:!0===Ua&&(D=V);break}D||Ua||n.error("No conversion from "+wa.replace(" "," to "));!0!==D&&(q=D?D(q):Ua(V(q)))}}t=q;r="success";A=!0}catch(db){r="parsererror",Ta=db}}else if(Ta=r,!r||a)r="error",0>a&&(a=0);v.status=a;v.statusText=""+(b||r);A?h.resolveWith(f,[t,r,v]):h.rejectWith(f,[v,r,Ta]);v.statusCode(m);m=e;w&&g.trigger("ajax"+(A?"Success":"Error"),[v,d,A?t:Ta]);k.fireWith(f,[v,r]);w&&(g.trigger("ajaxComplete",[v,d]),--n.active||n.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=e);
b=b||{};var d=n.ajaxSetup({},b),f=d.context||d,g=f!==d&&(f.nodeType||f instanceof n)?n(f):n.event,h=n.Deferred(),k=n.Callbacks("once memory"),m=d.statusCode||{},p,q={},r={},y,A,s,z,t,E=0,w,x,v={readyState:0,setRequestHeader:function(a,b){if(!E){var c=a.toLowerCase();a=r[c]=r[c]||a;q[a]=b}return this},getAllResponseHeaders:function(){return 2===E?y:null},getResponseHeader:function(a){var b;if(2===E){if(!A)for(A={};b=Ta.exec(y);)A[b[1].toLowerCase()]=b[2];b=A[a.toLowerCase()]}return b===e?null:b},overrideMimeType:function(a){E||
(d.mimeType=a);return this},abort:function(a){a=a||"abort";s&&s.abort(a);c(0,a);return this}};h.promise(v);v.success=v.done;v.error=v.fail;v.complete=k.add;v.statusCode=function(a){if(a){var b;if(2>E)for(b in a)m[b]=[m[b],a[b]];else b=a[v.status],v.then(b,b)}return this};d.url=((a||d.url)+"").replace(jb,"").replace(wa,lb[1]+"//");d.dataTypes=n.trim(d.dataType||"*").toLowerCase().split(tc);null==d.crossDomain&&(t=ic.exec(d.url.toLowerCase()),d.crossDomain=!(!t||t[1]==lb[1]&&t[2]==lb[2]&&(t[3]||("http:"===
t[1]?80:443))==(lb[3]||("http:"===lb[1]?80:443))));d.data&&d.processData&&"string"!==typeof d.data&&(d.data=n.param(d.data,d.traditional));B(Lb,d,b,v);if(2===E)return!1;w=d.global;d.type=d.type.toUpperCase();d.hasContent=!Ja.test(d.type);w&&0===n.active++&&n.event.trigger("ajaxStart");if(!d.hasContent&&(d.data&&(d.url+=(Ua.test(d.url)?"&":"?")+d.data,delete d.data),p=d.url,!1===d.cache)){t=n.now();var W=d.url.replace(Vc,"$1_="+t);d.url=W+(W===d.url?(Ua.test(d.url)?"&":"?")+"_="+t:"")}(d.data&&d.hasContent&&
!1!==d.contentType||b.contentType)&&v.setRequestHeader("Content-Type",d.contentType);d.ifModified&&(p=p||d.url,n.lastModified[p]&&v.setRequestHeader("If-Modified-Since",n.lastModified[p]),n.etag[p]&&v.setRequestHeader("If-None-Match",n.etag[p]));v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+xc+"; q=0.01":""):d.accepts["*"]);for(x in d.headers)v.setRequestHeader(x,d.headers[x]);if(d.beforeSend&&(!1===d.beforeSend.call(f,v,
d)||2===E))return v.abort(),!1;for(x in{success:1,error:1,complete:1})v[x](d[x]);if(s=B(jc,d,b,v)){v.readyState=1;w&&g.trigger("ajaxSend",[v,d]);d.async&&0<d.timeout&&(z=setTimeout(function(){v.abort("timeout")},d.timeout));try{E=1,s.send(q,c)}catch(K){if(2>E)c(-1,K);else throw K;}}else c(-1,"No Transport");return v},param:function(a,b){var c=[],d=function(a,b){b=n.isFunction(b)?b():b;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===e&&(b=n.ajaxSettings.traditional);if(n.isArray(a)||
a.jquery&&!n.isPlainObject(a))n.each(a,function(){d(this.name,this.value)});else for(var f in a)I(f,a[f],b,d);return c.join("&").replace(Sa,"+")}});n.extend({active:0,lastModified:{},etag:{}});var Xc=n.now(),Vb=/(\=)\?(&|$)|\?\?/i;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return n.expando+"_"+Xc++}});n.ajaxPrefilter("json jsonp",function(b,c,e){c="string"===typeof b.data&&/^application\/x\-www\-form\-urlencoded/.test(b.contentType);if("jsonp"===b.dataTypes[0]||!1!==b.jsonp&&(Vb.test(b.url)||
c&&Vb.test(b.data))){var d,f=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,g=a[f],h=b.url,k=b.data,m="$1"+f+"$2";!1!==b.jsonp&&(h=h.replace(Vb,m),b.url===h&&(c&&(k=k.replace(Vb,m)),b.data===k&&(h+=(/\?/.test(h)?"&":"?")+b.jsonp+"="+f)));b.url=h;b.data=k;a[f]=function(a){d=[a]};e.always(function(){a[f]=g;if(d&&n.isFunction(g))a[f](d[0])});b.converters["script json"]=function(){d||n.error(f+" was not called");return d[0]};b.dataTypes[0]="json";return"script"}});n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){n.globalEval(a);return a}}});n.ajaxPrefilter("script",function(a){a.cache===e&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||y.getElementsByTagName("head")[0]||y.documentElement;return{send:function(d,f){b=y.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,
d){if(d||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,c&&b.parentNode&&c.removeChild(b),b=e,d||f(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(0,1)}}}});var Eb=a.ActiveXObject?function(){for(var a in mb)mb[a](0,1)}:!1,zc=0,mb;n.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&D()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:D;(function(a){n.extend(n.support,
{ajax:!!a,cors:!!a&&"withCredentials"in a})})(n.ajaxSettings.xhr());n.support.ajax&&n.ajaxTransport(function(b){if(!b.crossDomain||n.support.cors){var c;return{send:function(d,f){var g=b.xhr(),h,k;b.username?g.open(b.type,b.url,b.async,b.username,b.password):g.open(b.type,b.url,b.async);if(b.xhrFields)for(k in b.xhrFields)g[k]=b.xhrFields[k];b.mimeType&&g.overrideMimeType&&g.overrideMimeType(b.mimeType);b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");try{for(k in d)g.setRequestHeader(k,
d[k])}catch(m){}g.send(b.hasContent&&b.data||null);c=function(a,d){var k,m,p,q,r;try{if(c&&(d||4===g.readyState))if(c=e,h&&(g.onreadystatechange=n.noop,Eb&&delete mb[h]),d)4!==g.readyState&&g.abort();else{k=g.status;p=g.getAllResponseHeaders();q={};(r=g.responseXML)&&r.documentElement&&(q.xml=r);try{q.text=g.responseText}catch(y){}try{m=g.statusText}catch(A){m=""}k||!b.isLocal||b.crossDomain?1223===k&&(k=204):k=q.text?200:404}}catch(s){d||f(-1,s)}q&&f(k,m,q,p)};b.async&&4!==g.readyState?(h=++zc,Eb&&
(mb||(mb={},n(a).unload(Eb)),mb[h]=c),g.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}});var Ob={},Ha,pb,Yc=/^(?:toggle|show|hide)$/,Zc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Wb,Nb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Mb;n.fn.extend({show:function(a,b,c){if(a||0===a)return this.animate(E("show",3),a,b,c);c=0;for(var d=this.length;c<d;c++)a=this[c],a.style&&(b=a.style.display,n._data(a,
"olddisplay")||"none"!==b||(b=a.style.display=""),(""===b&&"none"===n.css(a,"display")||!n.contains(a.ownerDocument.documentElement,a))&&n._data(a,"olddisplay",K(a.nodeName)));for(c=0;c<d;c++)if(a=this[c],a.style&&(b=a.style.display,""===b||"none"===b))a.style.display=n._data(a,"olddisplay")||"";return this},hide:function(a,b,c){if(a||0===a)return this.animate(E("hide",3),a,b,c);c=0;for(var d=this.length;c<d;c++)a=this[c],a.style&&(b=n.css(a,"display"),"none"===b||n._data(a,"olddisplay")||n._data(a,
"olddisplay",b));for(c=0;c<d;c++)this[c].style&&(this[c].style.display="none");return this},_toggle:n.fn.toggle,toggle:function(a,b,c){var d="boolean"===typeof a;n.isFunction(a)&&n.isFunction(b)?this._toggle.apply(this,arguments):null==a||d?this.each(function(){var b=d?a:n(this).is(":hidden");n(this)[b?"show":"hide"]()}):this.animate(E("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,
b,c,d){function e(){!1===f.queue&&n._mark(this);var b=n.extend({},f),c=1===this.nodeType,d=c&&n(this).is(":hidden"),g,h,k,m,p;b.animatedProperties={};for(k in a)if(g=n.camelCase(k),k!==g&&(a[g]=a[k],delete a[k]),(h=n.cssHooks[g])&&"expand"in h)for(k in m=h.expand(a[g]),delete a[g],m)k in a||(a[k]=m[k]);for(g in a){h=a[g];n.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if("hide"===h&&d||"show"===h&&!d)return b.complete.call(this);
!c||"height"!==g&&"width"!==g||(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===n.css(this,"display")&&"none"===n.css(this,"float")&&(n.support.inlineBlockNeedsLayout&&"inline"!==K(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=b.overflow&&(this.style.overflow="hidden");for(k in a)if(c=new n.fx(this,b,k),h=a[k],Yc.test(h))if(g=n._data(this,"toggle"+k)||("toggle"===h?d?"show":"hide":0))n._data(this,"toggle"+k,"show"===g?"hide":"show"),
c[g]();else c[h]();else g=Zc.exec(h),m=c.cur(),g?(h=parseFloat(g[2]),p=g[3]||(n.cssNumber[k]?"":"px"),"px"!==p&&(n.style(this,k,(h||1)+p),m*=(h||1)/c.cur(),n.style(this,k,m+p)),g[1]&&(h=("-="===g[1]?-1:1)*h+m),c.custom(m,h,p)):c.custom(m,h,"");return!0}var f=n.speed(b,c,d);if(n.isEmptyObject(a))return this.each(f.complete,[!1]);a=n.extend({},a);return!1===f.queue?this.each(e):this.queue(f.queue,e)},stop:function(a,b,c){"string"!==typeof a&&(c=b,b=a,a=e);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b,
d=!1,e=n.timers,f=n._data(this);c||n._unmark(!0,this);if(null==a)for(b in f){if(f[b]&&f[b].stop&&b.indexOf(".run")===b.length-4){var g=f[b];n.removeData(this,b,!0);g.stop(c)}}else f[b=a+".run"]&&f[b].stop&&(f=f[b],n.removeData(this,b,!0),f.stop(c));for(b=e.length;b--;)if(e[b].elem===this&&(null==a||e[b].queue===a)){if(c)e[b](!0);else e[b].saveState();d=!0;e.splice(b,1)}c&&d||n.dequeue(this,a)})}});n.each({slideDown:E("show",1),slideUp:E("hide",1),slideToggle:E("toggle",1),fadeIn:{opacity:"show"},
fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});n.extend({speed:function(a,b,c){var d=a&&"object"===typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};d.duration=n.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(a){n.isFunction(d.old)&&
d.old.call(this);d.queue?n.dequeue(this,d.queue):!1!==a&&n._unmark(this)};return d},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5}},timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig=b.orig||{}}});n.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(n.fx.step[this.prop]||n.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];
var a,b=n.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?b&&"auto"!==b?b:0:a},custom:function(a,b,c){function d(a){return f.step(a)}var f=this,g=n.fx;this.startTime=Mb||u();this.end=b;this.now=this.start=a;this.pos=this.state=0;this.unit=c||this.unit||(n.cssNumber[this.prop]?"":"px");d.queue=this.options.queue;d.elem=this.elem;d.saveState=function(){n._data(f.elem,"fxshow"+f.prop)===e&&(f.options.hide?n._data(f.elem,"fxshow"+f.prop,f.start):f.options.show&&n._data(f.elem,"fxshow"+f.prop,f.end))};
d()&&n.timers.push(d)&&!Wb&&(Wb=setInterval(g.tick,g.interval))},show:function(){var a=n._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||n.style(this.elem,this.prop);this.options.show=!0;a!==e?this.custom(this.cur(),a):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur());n(this.elem).show()},hide:function(){this.options.orig[this.prop]=n._data(this.elem,"fxshow"+this.prop)||n.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var b,
c=Mb||u(),d=!0,e=this.elem,f=this.options;if(a||c>=f.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();f.animatedProperties[this.prop]=!0;for(b in f.animatedProperties)!0!==f.animatedProperties[b]&&(d=!1);if(d){null==f.overflow||n.support.shrinkWrapBlocks||n.each(["","X","Y"],function(a,b){e.style["overflow"+b]=f.overflow[a]});f.hide&&n(e).hide();if(f.hide||f.show)for(b in f.animatedProperties)n.style(e,b,f.orig[b]),n.removeData(e,"fxshow"+b,!0),n.removeData(e,"toggle"+
b,!0);if(a=f.complete)f.complete=!1,a.call(e)}return!1}Infinity==f.duration?this.now=c:(a=c-this.startTime,this.state=a/f.duration,this.pos=n.easing[f.animatedProperties[this.prop]](this.state,a,0,1,f.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}};n.extend(n.fx,{tick:function(){for(var a,b=n.timers,c=0;c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop()},interval:13,stop:function(){clearInterval(Wb);Wb=null},speeds:{slow:600,fast:200,
_default:400},step:{opacity:function(a){n.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});n.each(Nb.concat.apply([],Nb),function(a,b){b.indexOf("margin")&&(n.fx.step[b]=function(a){n.style(a.elem,b,Math.max(0,a.now)+a.unit)})});n.expr&&n.expr.filters&&(n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length});var Xb,Ac=/^t(?:able|d|h)$/i,kc=/^(?:body|html)$/i;
Xb="getBoundingClientRect"in y.documentElement?function(a,b,c,d){try{d=a.getBoundingClientRect()}catch(e){}if(!d||!n.contains(c,a))return d?{top:d.top,left:d.left}:{top:0,left:0};a=b.body;b=M(b);return{top:d.top+(b.pageYOffset||n.support.boxModel&&c.scrollTop||a.scrollTop)-(c.clientTop||a.clientTop||0),left:d.left+(b.pageXOffset||n.support.boxModel&&c.scrollLeft||a.scrollLeft)-(c.clientLeft||a.clientLeft||0)}}:function(a,b,c){var d,e=a.offsetParent,f=b.body;d=(b=b.defaultView)?b.getComputedStyle(a,
null):a.currentStyle;for(var g=a.offsetTop,h=a.offsetLeft;(a=a.parentNode)&&a!==f&&a!==c&&(!n.support.fixedPosition||"fixed"!==d.position);)d=b?b.getComputedStyle(a,null):a.currentStyle,g-=a.scrollTop,h-=a.scrollLeft,a===e&&(g+=a.offsetTop,h+=a.offsetLeft,!n.support.doesNotAddBorder||n.support.doesAddBorderForTableAndCells&&Ac.test(a.nodeName)||(g+=parseFloat(d.borderTopWidth)||0,h+=parseFloat(d.borderLeftWidth)||0),e=a.offsetParent),n.support.subtractsBorderForOverflowNotVisible&&"visible"!==d.overflow&&
(g+=parseFloat(d.borderTopWidth)||0,h+=parseFloat(d.borderLeftWidth)||0);if("relative"===d.position||"static"===d.position)g+=f.offsetTop,h+=f.offsetLeft;n.support.fixedPosition&&"fixed"===d.position&&(g+=Math.max(c.scrollTop,f.scrollTop),h+=Math.max(c.scrollLeft,f.scrollLeft));return{top:g,left:h}};n.fn.offset=function(a){if(arguments.length)return a===e?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b=this[0],c=b&&b.ownerDocument;return c?b===c.body?n.offset.bodyOffset(b):Xb(b,c,
c.documentElement):null};n.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;n.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(n.css(a,"marginTop"))||0,c+=parseFloat(n.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=n.css(a,"position");"static"===d&&(a.style.position="relative");var e=n(a),f=e.offset(),g=n.css(a,"top"),h=n.css(a,"left"),k={},m={};("absolute"===d||"fixed"===d)&&-1<n.inArray("auto",[g,h])?(m=e.position(),d=m.top,h=m.left):(d=parseFloat(g)||
0,h=parseFloat(h)||0);n.isFunction(b)&&(b=b.call(a,c,f));null!=b.top&&(k.top=b.top-f.top+d);null!=b.left&&(k.left=b.left-f.left+h);"using"in b?b.using.call(a,k):e.css(k)}};n.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=kc.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(n.css(a,"marginTop"))||0;c.left-=parseFloat(n.css(a,"marginLeft"))||0;d.top+=parseFloat(n.css(b[0],"borderTopWidth"))||0;d.left+=parseFloat(n.css(b[0],
"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||y.body;a&&!kc.test(a.nodeName)&&"static"===n.css(a,"position");)a=a.offsetParent;return a})}});n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return n.access(this,function(a,d,f){var g=M(a);if(f===e)return g?b in g?g[b]:n.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:a[d];
g?g.scrollTo(c?n(g).scrollLeft():f,c?f:n(g).scrollTop()):a[d]=f},a,d,arguments.length,null)}});n.each({Height:"height",Width:"width"},function(a,b){var c="client"+a,d="scroll"+a,f="offset"+a;n.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(n.css(a,b,"padding")):this[b]():null};n.fn["outer"+a]=function(a){var c=this[0];return c?c.style?parseFloat(n.css(c,b,a?"margin":"border")):this[b]():null};n.fn[b]=function(a){return n.access(this,function(a,b,g){if(n.isWindow(a))return b=a.document,
a=b.documentElement[c],n.support.boxModel&&a||b.body&&b.body[c]||a;if(9===a.nodeType)return b=a.documentElement,b[c]>=b[d]?b[c]:Math.max(a.body[d],b[d],a.body[f],b[f]);if(g===e)return a=n.css(a,b),b=parseFloat(a),n.isNumeric(b)?b:a;n(a).css(b,g)},b,a,arguments.length,null)}});a.jQuery=a.$=n;"function"===typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return n})})(window);
(function(a,e){function d(a){t[s]=c.apply(e,a);return s++}function c(a){var b=[].slice.call(arguments,1);return function(){"function"===typeof a?a.apply(e,b):(new Function(""+a))()}}function h(a){if(v)setTimeout(c(h,a),0);else{var d=t[a];if(d){v=!0;try{d()}finally{b(a),v=!1}}}}function b(a){delete t[a]}function g(){z=function(){var a=d(arguments);process.nextTick(c(h,a));return a}}function f(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;a.onmessage=function(){b=!1};a.postMessage("",
"*");a.onmessage=c;return b}}function k(){var b="setImmediate$"+Math.random()+"$",c=function(c){c.source===a&&"string"===typeof c.data&&0===c.data.indexOf(b)&&h(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",c,!1):a.attachEvent("onmessage",c);z=function(){var c=d(arguments);a.postMessage(b+c,"*");return c}}function p(){var a=new MessageChannel;a.port1.onmessage=function(a){h(a.data)};z=function(){var b=d(arguments);a.port2.postMessage(b);return b}}function q(){var a=r.documentElement;
z=function(){var b=d(arguments),c=r.createElement("script");c.onreadystatechange=function(){h(b);c.onreadystatechange=null;a.removeChild(c);c=null};a.appendChild(c);return b}}function m(){z=function(){var a=d(arguments);setTimeout(c(h,a),0);return a}}if(!a.setImmediate){var s=1,t={},v=!1,r=a.document,z,x=Object.getPrototypeOf&&Object.getPrototypeOf(a),x=x&&x.setTimeout?x:a;"[object process]"==={}.toString.call(a.process)?g():f()?k():a.MessageChannel?p():r&&"onreadystatechange"in r.createElement("script")?
q():m();x.setImmediate=z;x.clearImmediate=b}})((new Function("return this"))());
(function(){var a=this,e=a._,d=Array.prototype,c=Object.prototype,h=d.push,b=d.slice,g=d.concat,f=c.toString,k=c.hasOwnProperty,c=Array.isArray,p=Object.keys,q=Function.prototype.bind,m=function(a){if(a instanceof m)return a;if(!(this instanceof m))return new m(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=m),exports._=m):a._=m;m.VERSION="1.7.0";var s=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,
c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}};m.iteratee=function(a,b,c){return null==a?m.identity:m.isFunction(a)?s(a,b,c):m.isObject(a)?m.matches(a):m.property(a)};m.each=m.forEach=function(a,b,c){if(null==a)return a;b=s(b,c);var d=a.length;if(d===+d)for(c=0;c<d;c++)b(a[c],c,a);else{var e=m.keys(a);c=0;for(d=e.length;c<d;c++)b(a[e[c]],
e[c],a)}return a};m.map=m.collect=function(a,b,c){if(null==a)return[];b=m.iteratee(b,c);c=a.length!==+a.length&&m.keys(a);for(var d=(c||a).length,e=Array(d),f,g=0;g<d;g++)f=c?c[g]:g,e[g]=b(a[f],f,a);return e};m.reduce=m.foldl=m.inject=function(a,b,c,d){null==a&&(a=[]);b=s(b,d,4);var e=a.length!==+a.length&&m.keys(a),f=(e||a).length,g=0,h;if(3>arguments.length){if(!f)throw new TypeError("Reduce of empty array with no initial value");c=a[e?e[g++]:g++]}for(;g<f;g++)h=e?e[g]:g,c=b(c,a[h],h,a);return c};
m.reduceRight=m.foldr=function(a,b,c,d){null==a&&(a=[]);b=s(b,d,4);var e=a.length!==+a.length&&m.keys(a),f=(e||a).length,g;if(3>arguments.length){if(!f)throw new TypeError("Reduce of empty array with no initial value");c=a[e?e[--f]:--f]}for(;f--;)g=e?e[f]:f,c=b(c,a[g],g,a);return c};m.find=m.detect=function(a,b,c){var d;b=m.iteratee(b,c);m.some(a,function(a,c,e){if(b(a,c,e))return d=a,!0});return d};m.filter=m.select=function(a,b,c){var d=[];if(null==a)return d;b=m.iteratee(b,c);m.each(a,function(a,
c,e){b(a,c,e)&&d.push(a)});return d};m.reject=function(a,b,c){return m.filter(a,m.negate(m.iteratee(b)),c)};m.every=m.all=function(a,b,c){if(null==a)return!0;b=m.iteratee(b,c);c=a.length!==+a.length&&m.keys(a);var d=(c||a).length,e,f;for(e=0;e<d;e++)if(f=c?c[e]:e,!b(a[f],f,a))return!1;return!0};m.some=m.any=function(a,b,c){if(null==a)return!1;b=m.iteratee(b,c);c=a.length!==+a.length&&m.keys(a);var d=(c||a).length,e,f;for(e=0;e<d;e++)if(f=c?c[e]:e,b(a[f],f,a))return!0;return!1};m.contains=m.include=
function(a,b){if(null==a)return!1;a.length!==+a.length&&(a=m.values(a));return 0<=m.indexOf(a,b)};m.invoke=function(a,c){var d=b.call(arguments,2),e=m.isFunction(c);return m.map(a,function(a){return(e?c:a[c]).apply(a,d)})};m.pluck=function(a,b){return m.map(a,m.property(b))};m.where=function(a,b){return m.filter(a,m.matches(b))};m.findWhere=function(a,b){return m.find(a,m.matches(b))};m.max=function(a,b,c){var d=-Infinity,e=-Infinity,f;if(null==b&&null!=a){a=a.length===+a.length?a:m.values(a);for(var g=
0,h=a.length;g<h;g++)c=a[g],c>d&&(d=c)}else b=m.iteratee(b,c),m.each(a,function(a,c,g){f=b(a,c,g);if(f>e||-Infinity===f&&-Infinity===d)d=a,e=f});return d};m.min=function(a,b,c){var d=Infinity,e=Infinity,f;if(null==b&&null!=a){a=a.length===+a.length?a:m.values(a);for(var g=0,h=a.length;g<h;g++)c=a[g],c<d&&(d=c)}else b=m.iteratee(b,c),m.each(a,function(a,c,g){f=b(a,c,g);if(f<e||Infinity===f&&Infinity===d)d=a,e=f});return d};m.shuffle=function(a){a=a&&a.length===+a.length?a:m.values(a);for(var b=a.length,
c=Array(b),d=0,e;d<b;d++)e=m.random(0,d),e!==d&&(c[d]=c[e]),c[e]=a[d];return c};m.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=m.values(a)),a[m.random(a.length-1)]):m.shuffle(a).slice(0,Math.max(0,b))};m.sortBy=function(a,b,c){b=m.iteratee(b,c);return m.pluck(m.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var t=
function(a){return function(b,c,d){var e={};c=m.iteratee(c,d);m.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)});return e}};m.groupBy=t(function(a,b,c){m.has(a,c)?a[c].push(b):a[c]=[b]});m.indexBy=t(function(a,b,c){a[c]=b});m.countBy=t(function(a,b,c){m.has(a,c)?a[c]++:a[c]=1});m.sortedIndex=function(a,b,c,d){c=m.iteratee(c,d,1);b=c(b);d=0;for(var e=a.length;d<e;){var f=d+e>>>1;c(a[f])<b?d=f+1:e=f}return d};m.toArray=function(a){return a?m.isArray(a)?b.call(a):a.length===+a.length?m.map(a,m.identity):
m.values(a):[]};m.size=function(a){return null==a?0:a.length===+a.length?a.length:m.keys(a).length};m.partition=function(a,b,c){b=m.iteratee(b,c);var d=[],e=[];m.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)});return[d,e]};m.first=m.head=m.take=function(a,c,d){return null==a?void 0:null==c||d?a[0]:0>c?[]:b.call(a,0,c)};m.initial=function(a,c,d){return b.call(a,0,Math.max(0,a.length-(null==c||d?1:c)))};m.last=function(a,c,d){return null==a?void 0:null==c||d?a[a.length-1]:b.call(a,Math.max(a.length-
c,0))};m.rest=m.tail=m.drop=function(a,c,d){return b.call(a,null==c||d?1:c)};m.compact=function(a){return m.filter(a,m.identity)};var v=function(a,b,c,d){if(b&&m.every(a,m.isArray))return g.apply(d,a);for(var e=0,f=a.length;e<f;e++){var k=a[e];m.isArray(k)||m.isArguments(k)?b?h.apply(d,k):v(k,b,c,d):c||d.push(k)}return d};m.flatten=function(a,b){return v(a,b,!1,[])};m.without=function(a){return m.difference(a,b.call(arguments,1))};m.uniq=m.unique=function(a,b,c,d){if(null==a)return[];m.isBoolean(b)||
(d=c,c=b,b=!1);null!=c&&(c=m.iteratee(c,d));d=[];for(var e=[],f=0,g=a.length;f<g;f++){var h=a[f];if(b)f&&e===h||d.push(h),e=h;else if(c){var k=c(h,f,a);0>m.indexOf(e,k)&&(e.push(k),d.push(h))}else 0>m.indexOf(d,h)&&d.push(h)}return d};m.union=function(){return m.uniq(v(arguments,!0,!0,[]))};m.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;d<e;d++){var f=a[d];if(!m.contains(b,f)){for(var g=1;g<c&&m.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b};
m.difference=function(a){var c=v(b.call(arguments,1),!0,!0,[]);return m.filter(a,function(a){return!m.contains(c,a)})};m.zip=function(a){if(null==a)return[];for(var b=m.max(arguments,"length").length,c=Array(b),d=0;d<b;d++)c[d]=m.pluck(arguments,d);return c};m.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};m.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c)if("number"==typeof c)d=0>c?Math.max(0,e+c):c;else return d=
m.sortedIndex(a,b),a[d]===b?d:-1;for(;d<e;d++)if(a[d]===b)return d;return-1};m.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=a.length;for("number"==typeof c&&(d=0>c?d+c+1:Math.min(d,c+1));0<=--d;)if(a[d]===b)return d;return-1};m.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;f<d;f++,a+=c)e[f]=a;return e};var r=function(){};m.bind=function(a,c){var d,e;if(q&&a.bind===q)return q.apply(a,b.call(arguments,1));if(!m.isFunction(a))throw new TypeError("Bind must be called on a function");
d=b.call(arguments,2);return e=function(){if(!(this instanceof e))return a.apply(c,d.concat(b.call(arguments)));r.prototype=a.prototype;var f=new r;r.prototype=null;var g=a.apply(f,d.concat(b.call(arguments)));return m.isObject(g)?g:f}};m.partial=function(a){var c=b.call(arguments,1);return function(){for(var b=0,d=c.slice(),e=0,f=d.length;e<f;e++)d[e]===m&&(d[e]=arguments[b++]);for(;b<arguments.length;)d.push(arguments[b++]);return a.apply(this,d)}};m.bindAll=function(a){var b,c=arguments.length,
d;if(1>=c)throw Error("bindAll must be passed function names");for(b=1;b<c;b++)d=arguments[b],a[d]=m.bind(a[d],a);return a};m.memoize=function(a,b){var c=function(d){var e=c.cache,f=b?b.apply(this,arguments):d;m.has(e,f)||(e[f]=a.apply(this,arguments));return e[f]};c.cache={};return c};m.delay=function(a,c){var d=b.call(arguments,2);return setTimeout(function(){return a.apply(null,d)},c)};m.defer=function(a){return m.delay.apply(m,[a,1].concat(b.call(arguments,1)))};m.throttle=function(a,b,c){var d,
e,f,g=null,h=0;c||(c={});var k=function(){h=!1===c.leading?0:m.now();g=null;f=a.apply(d,e);g||(d=e=null)};return function(){var p=m.now();h||!1!==c.leading||(h=p);var q=b-(p-h);d=this;e=arguments;0>=q||q>b?(clearTimeout(g),g=null,h=p,f=a.apply(d,e),g||(d=e=null)):g||!1===c.trailing||(g=setTimeout(k,q));return f}};m.debounce=function(a,b,c){var d,e,f,g,h,k=function(){var p=m.now()-g;p<b&&0<p?d=setTimeout(k,b-p):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this;e=arguments;g=m.now();
var p=c&&!d;d||(d=setTimeout(k,b));p&&(h=a.apply(f,e),f=e=null);return h}};m.wrap=function(a,b){return m.partial(b,a)};m.negate=function(a){return function(){return!a.apply(this,arguments)}};m.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}};m.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};m.before=function(a,b){var c;return function(){0<--a?c=b.apply(this,arguments):b=null;
return c}};m.once=m.partial(m.before,2);m.keys=function(a){if(!m.isObject(a))return[];if(p)return p(a);var b=[],c;for(c in a)m.has(a,c)&&b.push(c);return b};m.values=function(a){for(var b=m.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d};m.pairs=function(a){for(var b=m.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d};m.invert=function(a){for(var b={},c=m.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b};m.functions=m.methods=function(a){var b=[],c;for(c in a)m.isFunction(a[c])&&
b.push(c);return b.sort()};m.extend=function(a){if(!m.isObject(a))return a;for(var b,c,d=1,e=arguments.length;d<e;d++)for(c in b=arguments[d],b)k.call(b,c)&&(a[c]=b[c]);return a};m.pick=function(a,c,d){var e={},f;if(null==a)return e;if(m.isFunction(c))for(f in c=s(c,d),a){var h=a[f];c(h,f,a)&&(e[f]=h)}else{h=g.apply([],b.call(arguments,1));a=Object(a);for(var k=0,n=h.length;k<n;k++)f=h[k],f in a&&(e[f]=a[f])}return e};m.omit=function(a,c,d){if(m.isFunction(c))c=m.negate(c);else{var e=m.map(g.apply([],
b.call(arguments,1)),String);c=function(a,b){return!m.contains(e,b)}}return m.pick(a,c,d)};m.defaults=function(a){if(!m.isObject(a))return a;for(var b=1,c=arguments.length;b<c;b++){var d=arguments[b],e;for(e in d)void 0===a[e]&&(a[e]=d[e])}return a};m.clone=function(a){return m.isObject(a)?m.isArray(a)?a.slice():m.extend({},a):a};m.tap=function(a,b){b(a);return a};var z=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof m&&(a=a._wrapped);b instanceof m&&
(b=b._wrapped);var e=f.call(a);if(e!==f.call(b))return!1;switch(e){case "[object RegExp]":case "[object String]":return""+a===""+b;case "[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case "[object Date]":case "[object Boolean]":return+a===+b}if("object"!=typeof a||"object"!=typeof b)return!1;for(var g=c.length;g--;)if(c[g]===a)return d[g]===b;var g=a.constructor,h=b.constructor;if(g!==h&&"constructor"in a&&"constructor"in b&&!(m.isFunction(g)&&g instanceof g&&m.isFunction(h)&&h instanceof
h))return!1;c.push(a);d.push(b);if("[object Array]"===e){if(e=a.length,h=e===b.length)for(;e--&&(h=z(a[e],b[e],c,d)););}else if(g=m.keys(a),e=g.length,h=m.keys(b).length===e)for(;e--&&(h=g[e],h=m.has(b,h)&&z(a[h],b[h],c,d)););c.pop();d.pop();return h};m.isEqual=function(a,b){return z(a,b,[],[])};m.isEmpty=function(a){if(null==a)return!0;if(m.isArray(a)||m.isString(a)||m.isArguments(a))return 0===a.length;for(var b in a)if(m.has(a,b))return!1;return!0};m.isElement=function(a){return!(!a||1!==a.nodeType)};
m.isArray=c||function(a){return"[object Array]"===f.call(a)};m.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a};m.each("Arguments Function String Number Date RegExp".split(" "),function(a){m["is"+a]=function(b){return f.call(b)==="[object "+a+"]"}});m.isArguments(arguments)||(m.isArguments=function(a){return m.has(a,"callee")});"function"!==typeof/./&&(m.isFunction=function(a){return"function"==typeof a||!1});m.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};
m.isNaN=function(a){return m.isNumber(a)&&a!==+a};m.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===f.call(a)};m.isNull=function(a){return null===a};m.isUndefined=function(a){return void 0===a};m.has=function(a,b){return null!=a&&k.call(a,b)};m.noConflict=function(){a._=e;return this};m.identity=function(a){return a};m.constant=function(a){return function(){return a}};m.noop=function(){};m.property=function(a){return function(b){return b[a]}};m.matches=function(a){var b=m.pairs(a),
c=b.length;return function(a){if(null==a)return!c;a=Object(a);for(var d=0;d<c;d++){var e=b[d],f=e[0];if(e[1]!==a[f]||!(f in a))return!1}return!0}};m.times=function(a,b,c){var d=Array(Math.max(0,a));b=s(b,c,1);for(c=0;c<a;c++)d[c]=b(c);return d};m.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};m.now=Date.now||function(){return(new Date).getTime()};var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=m.invert(c),x=function(a){var b=
function(b){return a[b]},c="(?:"+m.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){a=null==a?"":""+a;return d.test(a)?a.replace(e,b):a}};m.escape=x(c);m.unescape=x(t);m.result=function(a,b){if(null!=a){var c=a[b];return m.isFunction(c)?a[b]():c}};var w=0;m.uniqueId=function(a){var b=++w+"";return a?a+b:b};m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028",
"\u2029":"u2029"},I=/\\|'|\r|\n|\u2028|\u2029/g,D=function(a){return"\\"+C[a]};m.template=function(a,b,c){!b&&c&&(b=c);b=m.defaults({},b,m.templateSettings);c=RegExp([(b.escape||B).source,(b.interpolate||B).source,(b.evaluate||B).source].join("|")+"|$","g");var d=0,e="__p+='";a.replace(c,function(b,c,f,g,h){e+=a.slice(d,h).replace(I,D);d=h+b.length;c?e+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":f?e+="'+\n((__t=("+f+"))==null?'':__t)+\n'":g&&(e+="';\n"+g+"\n__p+='");return b});e+="';\n";b.variable||
(e="with(obj||{}){\n"+e+"}\n");e="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+e+"return __p;\n";try{var f=new Function(b.variable||"obj","_",e)}catch(g){throw g.source=e,g;}c=function(a){return f.call(this,a,m)};c.source="function("+(b.variable||"obj")+"){\n"+e+"}";return c};m.chain=function(a){a=m(a);a._chain=!0;return a};var u=function(a){return this._chain?m(a).chain():a};m.mixin=function(a){m.each(m.functions(a),function(b){var c=m[b]=a[b];m.prototype[b]=
function(){var a=[this._wrapped];h.apply(a,arguments);return u.call(this,c.apply(m,a))}})};m.mixin(m);m.each("pop push reverse shift sort splice unshift".split(" "),function(a){var b=d[a];m.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);"shift"!==a&&"splice"!==a||0!==c.length||delete c[0];return u.call(this,c)}});m.each(["concat","join","slice"],function(a){var b=d[a];m.prototype[a]=function(){return u.call(this,b.apply(this._wrapped,arguments))}});m.prototype.value=function(){return this._wrapped};
"function"===typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
(function(a,e){if("function"===typeof define&&define.amd)define(["underscore","jquery","exports"],function(c,d,b){a.Backbone=e(a,b,c,d)});else if("undefined"!==typeof exports){var d=require("underscore");e(a,exports,d)}else a.Backbone=e(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)})(this,function(a,e,d,c){var h=a.Backbone,b=[].slice;e.VERSION="1.1.2";e.$=c;e.noConflict=function(){a.Backbone=h;return this};e.emulateHTTP=!1;e.emulateJSON=!1;var g=e.Events={on:function(a,b,c){if(!k(this,"on",a,[b,c])||
!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!k(this,"once",a,[b,c])||!b)return this;var e=this,f=d.once(function(){e.off(a,f);b.apply(this,arguments)});f._callback=b;return this.on(a,f,c)},off:function(a,b,c){var e,f,g,h,m,p,q,r;if(!this._events||!k(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events=void 0,this;h=a?[a]:d.keys(this._events);m=0;for(p=h.length;m<p;m++)if(a=
h[m],g=this._events[a]){this._events[a]=e=[];if(b||c)for(q=0,r=g.length;q<r;q++)f=g[q],(b&&b!==f.callback&&b!==f.callback._callback||c&&c!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var c=b.call(arguments,1);if(!k(this,"trigger",a,c))return this;var d=this._events[a],e=this._events.all;d&&p(d,c);e&&p(e,arguments);return this},stopListening:function(a,b,c){var e=this._listeningTo;if(!e)return this;var f=!b&&!c;c||"object"!==
typeof b||(c=this);a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,c,this),(f||d.isEmpty(a._events))&&delete this._listeningTo[g];return this}},f=/\s+/,k=function(a,b,c,d){if(!c)return!0;if("object"===typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(f.test(c)){c=c.split(f);e=0;for(var g=c.length;e<g;e++)a[b].apply(a,[c[e]].concat(d));return!1}return!0},p=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);
break;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);break;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);break;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);break;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}};d.each({listenTo:"on",listenToOnce:"once"},function(a,b){g[b]=function(b,c,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=d.uniqueId("l"));f[g]=b;e||"object"!==typeof c||(e=this);b[a](c,e,this);return this}});g.bind=g.on;g.unbind=g.off;
d.extend(e,g);var q=e.Model=function(a,b){var c=a||{};b||(b={});this.cid=d.uniqueId("c");this.attributes={};b.collection&&(this.collection=b.collection);b.parse&&(c=this.parse(c,b)||{});c=d.defaults({},c,d.result(this,"defaults"));this.set(c,b);this.changed={};this.initialize.apply(this,arguments)};d.extend(q.prototype,g,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return d.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},
get:function(a){return this.attributes[a]},escape:function(a){return d.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var e,f,g,h,k,m,p;if(null==a)return this;"object"===typeof a?(f=a,c=b):(f={})[a]=b;c||(c={});if(!this._validate(f,c))return!1;g=c.unset;h=c.silent;a=[];k=this._changing;this._changing=!0;k||(this._previousAttributes=d.clone(this.attributes),this.changed={});p=this.attributes;m=this._previousAttributes;this.idAttribute in f&&(this.id=f[this.idAttribute]);
for(e in f)b=f[e],d.isEqual(p[e],b)||a.push(e),d.isEqual(m[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete p[e]:p[e]=b;if(!h)for(a.length&&(this._pending=c),b=0,e=a.length;b<e;b++)this.trigger("change:"+a[b],this,p[a[b]],c);if(k)return this;if(!h)for(;this._pending;)c=this._pending,this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,d.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=
void 0;return this.set(b,d.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!d.isEmpty(this.changed):d.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?d.clone(this.changed):!1;var b,c=!1,e=this._changing?this._previousAttributes:this.attributes,f;for(f in a)d.isEqual(e[f],b=a[f])||((c||(c={}))[f]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return d.clone(this._previousAttributes)},
fetch:function(a){a=a?d.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(d){if(!b.set(b.parse(d,a),a))return!1;c&&c(b,d,a);b.trigger("sync",b,d,a)};Z(this,a);return this.sync("read",this,a)},save:function(a,b,c){var e,f=this.attributes;null==a||"object"===typeof a?(e=a,c=b):(e={})[a]=b;c=d.extend({validate:!0},c);if(e&&!c.wait){if(!this.set(e,c))return!1}else if(!this._validate(e,c))return!1;e&&c.wait&&(this.attributes=d.extend({},f,e));void 0===c.parse&&(c.parse=
!0);var g=this,h=c.success;c.success=function(a){g.attributes=f;var b=g.parse(a,c);c.wait&&(b=d.extend(e||{},b));if(d.isObject(b)&&!g.set(b,c))return!1;h&&h(g,a,c);g.trigger("sync",g,a,c)};Z(this,c);a=this.isNew()?"create":c.patch?"patch":"update";"patch"===a&&(c.attrs=e);a=this.sync(a,this,c);e&&c.wait&&(this.attributes=f);return a},destroy:function(a){a=a?d.clone(a):{};var b=this,c=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(d){(a.wait||b.isNew())&&e();c&&c(b,
d,a);b.isNew()||b.trigger("sync",b,d,a)};if(this.isNew())return a.success(),!1;Z(this,a);var f=this.sync("delete",this,a);a.wait||e();return f},url:function(){var a=d.result(this,"urlRoot")||d.result(this.collection,"url")||T();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},d.extend(a||
{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=d.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,d.extend(b,{validationError:c}));return!1}});d.each("keys values pairs invert pick omit".split(" "),function(a){q.prototype[a]=function(){var c=b.call(arguments);c.unshift(this.attributes);return d[a].apply(d,c)}});var m=e.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);
void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,d.extend({silent:!0},b))},s={add:!0,remove:!0,merge:!0},t={add:!0,remove:!1};d.extend(m.prototype,g,{model:q,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return e.sync.apply(this,arguments)},add:function(a,b){return this.set(a,d.extend({merge:!1},b,t))},remove:function(a,b){var c=!d.isArray(a);a=c?[a]:d.clone(a);b||
(b={});var e,f,g,h;e=0;for(f=a.length;e<f;e++)if(h=a[e]=this.get(a[e]))delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b);return c?a[0]:a},set:function(a,b){b=d.defaults({},b,s);b.parse&&(a=this.parse(a,b));var c=!d.isArray(a);a=c?a?[a]:[]:d.clone(a);var e,f,g,h,k,m,p=b.at,r=this.model,z=this.comparator&&null==p&&!1!==b.sort,t=d.isString(this.comparator)?this.comparator:
null,y=[],v=[],x={},w=b.add,B=b.merge,C=b.remove,u=!z&&w&&C?[]:!1;e=0;for(f=a.length;e<f;e++){k=a[e]||{};g=k instanceof q?h=k:k[r.prototype.idAttribute||"id"];if(g=this.get(g))C&&(x[g.cid]=!0),B&&(k=k===h?h.attributes:k,b.parse&&(k=g.parse(k,b)),g.set(k,b),z&&!m&&g.hasChanged(t)&&(m=!0)),a[e]=g;else if(w){h=a[e]=this._prepareModel(k,b);if(!h)continue;y.push(h);this._addReference(h,b)}h=g||h;!u||!h.isNew()&&x[h.id]||u.push(h);x[h.id]=!0}if(C){e=0;for(f=this.length;e<f;++e)x[(h=this.models[e]).cid]||
v.push(h);v.length&&this.remove(v,b)}if(y.length||u&&u.length)if(z&&(m=!0),this.length+=y.length,null!=p)for(e=0,f=y.length;e<f;e++)this.models.splice(p+e,0,y[e]);else for(u&&(this.models.length=0),k=u||y,e=0,f=k.length;e<f;e++)this.models.push(k[e]);m&&this.sort({silent:!0});if(!b.silent){e=0;for(f=y.length;e<f;e++)(h=y[e]).trigger("add",h,this,b);(m||u&&u.length)&&this.trigger("sort",this,b)}return c?a[0]:a},reset:function(a,b){b||(b={});for(var c=0,e=this.models.length;c<e;c++)this._removeReference(this.models[c],
b);b.previousModels=this.models;this._reset();a=this.add(a,d.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,d.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){return this.add(a,d.extend({at:0},b))},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(){return b.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||
this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return d.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});d.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(d.bind(this.comparator,
this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return d.invoke(this.models,"get",a)},fetch:function(a){a=a?d.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;a.success=function(d){c[a.reset?"reset":"set"](d,a);b&&b(c,d,a);c.trigger("sync",c,d,a)};Z(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?d.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,e=b.success;b.success=function(a,d){b.wait&&c.add(a,
b);e&&e(a,d,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof q)return a;b=b?d.clone(b):{};b.collection=this;var c=new this.model(a,b);if(!c.validationError)return c;this.trigger("invalid",this,c.validationError,b);return!1},_addReference:function(a,b){this._byId[a.cid]=a;null!=a.id&&(this._byId[a.id]=a);a.collection||(a.collection=
this);a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if("add"!==a&&"remove"!==a||c===this)"destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments)}});d.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without difference indexOf shuffle lastIndexOf isEmpty chain sample".split(" "),
function(a){m.prototype[a]=function(){var c=b.call(arguments);c.unshift(this.models);return d[a].apply(d,c)}});d.each(["groupBy","countBy","sortBy","indexBy"],function(a){m.prototype[a]=function(b,c){var e=d.isFunction(b)?b:function(a){return a.get(b)};return d[a](this.models,e,c)}});c=e.View=function(a){this.cid=d.uniqueId("view");a||(a={});d.extend(this,d.pick(a,r));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var v=/^(\S+)\s*(.*)$/,r="model collection el id attributes className tagName events".split(" ");
d.extend(c.prototype,g,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof e.$?a:e.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=d.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];d.isFunction(c)||
(c=this[a[b]]);if(c){var e=b.match(v),f=e[1],e=e[2],c=d.bind(c,this),f=f+(".delegateEvents"+this.cid);if(""===e)this.$el.on(f,c);else this.$el.on(f,e,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(this.el)this.setElement(d.result(this,"el"),!1);else{var a=d.extend({},d.result(this,"attributes"));this.id&&(a.id=d.result(this,"id"));this.className&&(a["class"]=d.result(this,"className"));a=e.$("<"+d.result(this,"tagName")+
">").attr(a);this.setElement(a,!1)}}});e.sync=function(a,b,c){var f=x[a];d.defaults(c||(c={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var g={type:f,dataType:"json"};c.url||(g.url=d.result(b,"url")||T());null!=c.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(c.attrs||b.toJSON(c)));c.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{});if(c.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===
f)){g.type="POST";c.emulateJSON&&(g.data._method=f);var h=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",f);if(h)return h.apply(this,arguments)}}"GET"===g.type||c.emulateJSON||(g.processData=!1);"PATCH"===g.type&&z&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});a=c.xhr=e.ajax(d.extend(g,c));b.trigger("request",b,a,c);return a};var z="undefined"!==typeof window&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),
x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var w=e.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},B=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,I=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;d.extend(w.prototype,g,{initialize:function(){},route:function(a,b,c){d.isRegExp(a)||(a=this._routeToRegExp(a));d.isFunction(b)&&(c=b,b="");c||(c=this[b]);var f=this;e.history.route(a,
function(d){d=f._extractParameters(a,d);f.execute(c,d);f.trigger.apply(f,["route:"+b].concat(d));f.trigger("route",b,d);e.history.trigger("route",f,b,d)});return this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,b){e.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=d.result(this,"routes");for(var a,b=d.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(D,"\\$&").replace(B,"(?:$1)?").replace(C,
function(a,b){return b?a:"([^/?]+)"}).replace(I,"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return d.map(c,function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})}});var u=e.History=function(){this.handlers=[];d.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},A=/^[#\/]|\s+$/g,E=/^\/+|\/+$/g,K=/msie [\w.]+/,M=/\/$/,y=/#.*$/;u.started=!1;d.extend(u.prototype,
g,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(M,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(A,"")},start:function(a){if(u.started)throw Error("Backbone.history has already been started");
u.started=!0;this.options=d.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);a=this.getFragment();var b=document.documentMode,b=K.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(E,"/");b&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1">').hide().appendTo("body")[0].contentWindow,
this.navigate(a));if(this._hasPushState)e.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!b)e.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&
this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(A,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);u.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));
if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){a=this.fragment=this.getFragment(a);return d.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!u.started)return!1;b&&!0!==b||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));a=a.replace(y,"");if(this.fragment!==a){this.fragment=a;""===a&&"/"!==c&&(c=c.slice(0,-1));if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},
document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});e.history=new u;q.extend=m.extend=w.extend=c.extend=u.extend=function(a,
b){var c=this,e;e=a&&d.has(a,"constructor")?a.constructor:function(){return c.apply(this,arguments)};d.extend(e,c,b);var f=function(){this.constructor=e};f.prototype=c.prototype;e.prototype=new f;a&&d.extend(e.prototype,a);e.__super__=c.prototype;return e};var T=function(){throw Error('A "url" property or function must be specified');},Z=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b);a.trigger("error",a,d,b)}};return e});
(function(a,e,d){var c,h,b,g,f=[],k=[];a.extend(d.View,{attach:function(a,b){"function"!==typeof b&&(b=d.View.extend(b));f.push(function(){this.find(a).add(this.filter(a)).each(function(){var a=e(this);void 0===a.data("backbone.attached-view")&&a.data("backbone.attached-view",new b({el:this}))})});return b}});h=function(a){var b,c=f.length;for(b=0;b<c;b+=1)f[b].call(a)};c=function(){var a;a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(void 0===a)return!1;(new a(function(a){var b,
c=a.length,d=[];for(b=0;b<c;b+=1)d.push.apply(d,a[b].addedNodes);0<d.length&&h(e(d))})).observe(document.body,{childList:!0,subtree:!0});return!0};b=function(){e(document.body).on("DOMNodeInserted",function(a){var b=0<k.length;k.push(a);b||setTimeout(g,0)})};g=function(){var a,b=k.length,c=[];for(a=0;a<b;a+=1)c.push(k[a].target);k=[];h(e(c))};e(function(){h(e(document));c()||b()})})(window._,window.jQuery,window.Backbone);
(function(a){a.extend(a.fn,{validate:function(e){if(this.length){var d=a.data(this[0],"validator");if(d)return d;d=new a.validator(e,this[0]);a.data(this[0],"validator",d);d.settings.onsubmit&&(this.find("input, button").filter(".cancel").click(function(){d.cancelSubmit=!0}),d.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){d.submitButton=this}),this.submit(function(c){function e(){if(d.settings.submitHandler){if(d.submitButton)var b=a("<input type='hidden'/>").attr("name",
d.submitButton.name).val(d.submitButton.value).appendTo(d.currentForm);d.settings.submitHandler.call(d,d.currentForm);d.submitButton&&b.remove();return!1}return!0}d.settings.debug&&c.preventDefault();if(d.cancelSubmit)return d.cancelSubmit=!1,e();if(d.form())return d.pendingRequest?(d.formSubmitted=!0,!1):e();d.focusInvalid();return!1}));return d}e&&e.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(a(this[0]).is("form"))return this.validate().form();
var e=!0,d=a(this[0].form).validate();this.each(function(){e&=d.element(this)});return e},removeAttrs:function(e){var d={},c=this;a.each(e.split(/\s/),function(a,b){d[b]=c.attr(b);c.removeAttr(b)});return d},rules:function(e,d){var c=this[0];if(e){var h=a.data(c.form,"validator").settings,b=h.rules,g=a.validator.staticRules(c);switch(e){case "add":a.extend(g,a.validator.normalizeRule(d));b[c.name]=g;d.messages&&(h.messages[c.name]=a.extend(h.messages[c.name],d.messages));break;case "remove":if(!d)return delete b[c.name],
g;var f={};a.each(d.split(/\s/),function(a,b){f[b]=g[b];delete g[b]});return f}}c=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(c),a.validator.classRules(c),a.validator.attributeRules(c),a.validator.staticRules(c)),c);c.required&&(h=c.required,delete c.required,c=a.extend({required:h},c));return c}});a.extend(a.expr[":"],{blank:function(e){return!a.trim(""+e.value)},filled:function(e){return!!a.trim(""+e.value)},unchecked:function(a){return!a.checked}});a.validator=function(e,d){this.settings=
a.extend({},a.validator.defaults,e);this.currentForm=d;this.init()};a.validator.format=function(e,d){if(1==arguments.length)return function(){var c=a.makeArray(arguments);c.unshift(e);return a.validator.format.apply(this,c)};2<arguments.length&&d.constructor!=Array&&(d=a.makeArray(arguments).slice(1));d.constructor!=Array&&(d=[d]);a.each(d,function(a,d){e=e.replace(new RegExp("\\{"+a+"\\}","g"),d)});return e};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",
errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:[],ignoreTitle:!1,onfocusin:function(a){this.lastActive=a;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.errorsFor(a).hide())},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a){(a.name in this.submitted||
a==this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(e,d,c){a(e).addClass(d).removeClass(c)},unhighlight:function(e,d,c){a(e).removeClass(d).addClass(c)}},setDefaults:function(e){a.extend(a.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",
dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),
range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(c){var b=a.data(this[0].form,"validator");b.settings["on"+c.type]&&b.settings["on"+c.type].call(b,this[0])}this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||
a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var d=this.groups={};a.each(this.settings.groups,function(c,b){a.each(b.split(/\s/),function(a,b){d[b]=c})});var c=this.settings.rules;a.each(c,function(d,b){c[d]=a.validator.normalizeRule(b)});a(this.currentForm).delegate("focusin focusout keyup",":text, :password, :file, select, textarea",
e).delegate("click",":radio, :checkbox, select, option",e);this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,d=this.currentElements=this.elements();d[a];a++)this.check(d[a]);
return this.valid()},element:function(e){this.lastElement=e=this.clean(e);this.prepareElement(e);this.currentElements=a(e);var d=this.check(e);d?delete this.invalid[e.name]:this.invalid[e.name]=!0;this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers));this.showErrors();return d},showErrors:function(e){if(e){a.extend(this.errorMap,e);this.errorList=[];for(var d in e)this.errorList.push({message:e[d],element:this.findByName(d)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in
e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var d=0,c;for(c in a)d++;return d},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==
this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus()}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1==a.grep(this.errorList,function(a){return a.element.name==e.name}).length&&e},elements:function(){var e=this,d={};return a([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&
e.settings.debug&&window.console&&console.error("%o has no name assigned",this);return this.name in d||!e.objectLength(a(this).rules())?!1:d[this.name]=!0})},clean:function(e){return a(e)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(e){e=this.clean(e);this.checkable(e)&&(e=this.findByName(e.name)[0]);var d=a(e).rules(),c=!1;for(method in d){var h={method:method,parameters:d[method]};try{var b=a.validator.methods[method].call(this,e.value.replace(/\r/g,""),e,h.parameters);if("dependency-mismatch"==b)c=!0;else{c=!1;if("pending"==b){this.toHide=this.toHide.not(this.errorsFor(e));return}if(!b)return this.formatAndAdd(e,h),!1}}catch(g){throw this.settings.debug&&
window.console&&console.log("exception occured when checking element "+e.id+", check the '"+h.method+"' method",g),g;}}if(!c)return this.objectLength(d)&&this.successList.push(e),!0},customMetaMessage:function(e,d){if(a.metadata){var c=this.settings.meta?a(e).metadata()[this.settings.meta]:a(e).metadata();return c&&c.messages&&c.messages[d]}},customMessage:function(a,d){var c=this.settings.messages[a];return c&&(c.constructor==String?c:c[d])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==
arguments[a])return arguments[a]},defaultMessage:function(e,d){return this.findDefined(this.customMessage(e.name,d),this.customMetaMessage(e,d),!this.settings.ignoreTitle&&e.title||void 0,a.validator.messages[d],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(a,d){var c=this.defaultMessage(a,d.method),h=/\$?\{(\d+)\}/g;"function"==typeof c?c=c.call(this,d.parameters,a):h.test(c)&&(c=jQuery.format(c.replace(h,"{$1}"),d.parameters));this.errorList.push({message:c,
element:a});this.errorMap[a.name]=c;this.submitted[a.name]=c},addWrapper:function(a){this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper)));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var d=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,d.element,this.settings.errorClass,this.settings.validClass);this.showLabel(d.element,d.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(a=
0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,d=this.validElements();d[a];a++)this.settings.unhighlight.call(this,d[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(e,
d){var c=this.errorsFor(e);c.length?(c.removeClass().addClass(this.settings.errorClass),c.attr("generated")&&c.html(d)):(c=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(e),generated:!0}).addClass(this.settings.errorClass).html(d||""),this.settings.wrapper&&(c=c.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(c).length||(this.settings.errorPlacement?this.settings.errorPlacement(c,a(e)):c.insertAfter(e)));!d&&this.settings.success&&(c.text(""),
"string"==typeof this.settings.success?c.addClass(this.settings.success):this.settings.success(c));this.toShow=this.toShow.add(c)},errorsFor:function(e){var d=this.idOrName(e);return this.errors().filter(function(){return a(this).attr("for")==d})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(e){var d=this.currentForm;return a(document.getElementsByName(e)).map(function(a,h){return h.form==
d&&h.name==e&&h||null})},getLength:function(e,d){switch(d.nodeName.toLowerCase()){case "select":return a("option:selected",d).length;case "input":if(this.checkable(d))return this.findByName(d.name).filter(":checked").length}return e.length},depend:function(a,d){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,d):!0},dependTypes:{"boolean":function(a,d){return a},string:function(e,d){return!!a(e,d.form).length},"function":function(a,d){return a(d)}},optional:function(e){return!a.validator.methods.required.call(this,
a.trim(e.value),e)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(e,d){this.pendingRequest--;0>this.pendingRequest&&(this.pendingRequest=0);delete this.pending[e.name];d&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!d&&0==this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},
previousValue:function(e){return a.data(e,"previousValue")||a.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,d){e.constructor==String?this.classRuleSettings[e]=d:a.extend(this.classRuleSettings,e)},classRules:function(e){var d=
{};(e=a(e).attr("class"))&&a.each(e.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(d,a.validator.classRuleSettings[this])});return d},attributeRules:function(e){var d={};e=a(e);for(method in a.validator.methods){var c=e.attr(method);c&&(d[method]=c)}d.maxlength&&/-1|2147483647|524288/.test(d.maxlength)&&delete d.maxlength;return d},metadataRules:function(e){if(!a.metadata)return{};var d=a.data(e.form,"validator").settings.meta;return d?a(e).metadata()[d]:a(e).metadata()},staticRules:function(e){var d=
{},c=a.data(e.form,"validator");c.settings.rules&&(d=a.validator.normalizeRule(c.settings.rules[e.name])||{});return d},normalizeRules:function(e,d){a.each(e,function(c,h){if(!1===h)delete e[c];else if(h.param||h.depends){var b=!0;switch(typeof h.depends){case "string":b=!!a(h.depends,d.form).length;break;case "function":b=h.depends.call(d,d)}b?e[c]=void 0!==h.param?h.param:!0:delete e[c]}});a.each(e,function(c,h){e[c]=a.isFunction(h)?h(d):h});a.each(["minlength","maxlength","min","max"],function(){e[this]&&
(e[this]=Number(e[this]))});a.each(["rangelength","range"],function(){e[this]&&(e[this]=[Number(e[this][0]),Number(e[this][1])])});a.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength));e.messages&&delete e.messages;return e},normalizeRule:function(e){if("string"==typeof e){var d={};a.each(e.split(/\s/),function(){d[this]=!0});e=d}return e},addMethod:function(e,
d,c){a.validator.methods[e]=d;a.validator.messages[e]=void 0!=c?c:a.validator.messages[e];3>d.length&&a.validator.addClassRules(e,a.validator.normalizeRule(e))},methods:{required:function(e,d,c){if(!this.depend(c,d))return"dependency-mismatch";switch(d.nodeName.toLowerCase()){case "select":return(e=a(d).val())&&0<e.length;case "input":if(this.checkable(d))return 0<this.getLength(e,d);default:return 0<a.trim(e).length}},remote:function(e,d,c){if(this.optional(d))return"dependency-mismatch";var h=this.previousValue(d);
this.settings.messages[d.name]||(this.settings.messages[d.name]={});h.originalMessage=this.settings.messages[d.name].remote;this.settings.messages[d.name].remote=h.message;c="string"==typeof c&&{url:c}||c;if(h.old!==e){h.old=e;var b=this;this.startRequest(d);var g={};g[d.name]=e;a.ajax(a.extend(!0,{url:c,mode:"abort",port:"validate"+d.name,dataType:"json",data:g,success:function(c){b.settings.messages[d.name].remote=h.originalMessage;var g=!0===c;if(g){var p=b.formSubmitted;b.prepareElement(d);b.formSubmitted=
p;b.successList.push(d);b.showErrors()}else p={},c=h.message=c||b.defaultMessage(d,"remote"),p[d.name]=a.isFunction(c)?c(e):c,b.showErrors(p);h.valid=g;b.stopRequest(d,g)}},c));return"pending"}return this.pending[d.name]?"pending":h.valid},minlength:function(e,d,c){return this.optional(d)||this.getLength(a.trim(e),d)>=c},maxlength:function(e,d,c){return this.optional(d)||this.getLength(a.trim(e),d)<=c},rangelength:function(e,d,c){e=this.getLength(a.trim(e),d);return this.optional(d)||e>=c[0]&&e<=
c[1]},min:function(a,d,c){return this.optional(d)||a>=c},max:function(a,d,c){return this.optional(d)||a<=c},range:function(a,d,c){return this.optional(d)||a>=c[0]&&a<=c[1]},email:function(a,d){return this.optional(d)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(a)},
url:function(a,d){return this.optional(d)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,d){return this.optional(d)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,d){return this.optional(d)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,d){return this.optional(d)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,d){return this.optional(d)||/^\d+$/.test(a)},creditcard:function(a,d){if(this.optional(d))return"dependency-mismatch";if(/[^0-9-]+/.test(a))return!1;var c=0,h=0,b=!1;a=a.replace(/\D/g,"");for(var g=a.length-1;0<=g;g--)h=
a.charAt(g),h=parseInt(h,10),b&&9<(h*=2)&&(h-=9),c+=h,b=!b;return 0==c%10},accept:function(a,d,c){c="string"==typeof c?c.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(d)||a.match(new RegExp(".("+c+")$","i"))},equalTo:function(e,d,c){c=a(c).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(d).valid()});return e==c.val()}}});a.format=a.validator.format})(jQuery);
(function(a){var e=a.ajax,d={};a.ajax=function(c){c=a.extend(c,a.extend({},a.ajaxSettings,c));var h=c.port;return"abort"==c.mode?(d[h]&&d[h].abort(),d[h]=e.apply(this,arguments)):e.apply(this,arguments)}})(jQuery);
(function(a){a.each({focus:"focusin",blur:"focusout"},function(e,d){a.event.special[d]={setup:function(){if(a.browser.msie)return!1;this.addEventListener(e,a.event.special[d].handler,!0)},teardown:function(){if(a.browser.msie)return!1;this.removeEventListener(e,a.event.special[d].handler,!0)},handler:function(c){arguments[0]=a.event.fix(c);arguments[0].type=d;return a.event.handle.apply(this,arguments)}}});a.extend(a.fn,{delegate:function(e,d,c){return this.bind(e,function(e){var b=a(e.target);if(b.is(d))return c.apply(b,
arguments)})},triggerEvent:function(e,d){return this.triggerHandler(e,[a.event.fix({type:e,target:d})])}})})(jQuery);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function e(a){a=h.json?JSON.stringify(a):String(a);return h.raw?a:encodeURIComponent(a)}function d(b,d){var e;if(h.raw)e=b;else a:{var k=b;0===k.indexOf('"')&&(k=k.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{k=decodeURIComponent(k.replace(c," "));e=h.json?JSON.parse(k):k;break a}catch(p){}e=void 0}return a.isFunction(d)?d(e):e}var c=/\+/g,h=a.cookie=function(b,c,f){if(void 0!==c&&!a.isFunction(c)){f=
a.extend({},h.defaults,f);if("number"===typeof f.expires){var k=f.expires,p=f.expires=new Date;p.setTime(+p+864E5*k)}return document.cookie=[h.raw?b:encodeURIComponent(b),"=",e(c),f.expires?"; expires="+f.expires.toUTCString():"",f.path?"; path="+f.path:"",f.domain?"; domain="+f.domain:"",f.secure?"; secure":""].join("")}f=b?void 0:{};for(var k=document.cookie?document.cookie.split("; "):[],p=0,q=k.length;p<q;p++){var m=k[p].split("="),s;s=m.shift();s=h.raw?s:decodeURIComponent(s);m=m.join("=");if(b&&
b===s){f=d(m,c);break}b||void 0===(m=d(m))||(f[s]=m)}return f};h.defaults={};a.removeCookie=function(b,c){if(void 0===a.cookie(b))return!1;a.cookie(b,"",a.extend({},c,{expires:-1}));return!a.cookie(b)}});
(function(a){var e={},d={};a.manageAjax=function(){return{create:function(c,d){e[c]=new a.manageAjax._manager(c,d);return e[c]},destroy:function(a){e[a]&&(e[a].clear(!0),delete e[a])}}}();a.manageAjax._manager=function(c,d){this.requests={};this.inProgress=0;this.qName=this.name=c;this.opts=a.extend({},a.ajaxSettings,a.manageAjax.defaults,d);d&&d.queue&&!0!==d.queue&&"string"===typeof d.queue&&"clear"!==d.queue&&(this.qName=d.queue)};a.manageAjax._manager.prototype={add:function(c){c=a.extend({},
this.opts,c);var d=c.complete||a.noop,b=c.success||a.noop,e=c.beforeSend||a.noop,f=c.error||a.noop,k="string"==typeof c.data?c.data:a.param(c.data||{}),p=c.type+c.url+k,q=this,m=this._createAjax(p,c,b,d);if(!this.requests[p]||!c.preventDoubbleRequests)return m.xhrID=p,c.xhrID=p,c.beforeSend=function(a,b){var c=e.call(this,a,b);!1===c&&q._removeXHR(p);return c},c.complete=function(a,b){q._complete.call(q,this,d,a,b,p,c)},c.success=function(a,d,e){q._success.call(q,this,b,a,d,e,c)},c.error=function(a,
b,d){var e="",g="";"timeout"!==b&&a&&(e=a.status,g=a.responseXML||a.responseText);f?f.call(this,a,b,d,c):setTimeout(function(){throw b+"| status: "+e+" | URL: "+c.url+" | data: "+k+" | thrown: "+d+" | response: "+g;},0);a=null},"clear"===c.queue&&a(document).clearQueue(this.qName),c.queue?(a.queue(document,this.qName,m),this.inProgress<c.maxRequests&&a.dequeue(document,this.qName),p):m()},_createAjax:function(c,e,b,g){var f=this;return function(){if(!1!==e.beforeCreate.call(e.context||f,c,e))return f.inProgress++,
1===f.inProgress&&a.event.trigger(f.name+"AjaxStart"),e.cacheResponse&&d[c]?(f.requests[c]={},setTimeout(function(){f._complete.call(f,e.context||e,g,d[c],"success",c,e);f._success.call(f,e.context||e,b,d[c]._successData,"success",d[c],e)},0)):e.async?f.requests[c]=a.ajax(e):a.ajax(e),c}},_removeXHR:function(c){this.opts.queue&&a.dequeue(document,this.qName);this.inProgress--;this.requests[c]=null;delete this.requests[c]},_isAbort:function(a,d){return!(!d.abortIsNoSuccess||a&&0!==a.readyState&&this.lastAbort!==
d.xhrID)},_complete:function(c,d,b,e,f,k){this._isAbort(b,k)&&(e="abort",k.abort.call(c,b,e,k));d.call(c,b,e,k);a.event.trigger(this.name+"AjaxComplete",[b,e,k]);k.domCompleteTrigger&&a(k.domCompleteTrigger).trigger(this.name+"DOMComplete",[b,e,k]).trigger("DOMComplete",[b,e,k]);this._removeXHR(f);this.inProgress||a.event.trigger(this.name+"AjaxStop")},_success:function(c,e,b,g,f,k){var p=this;if(!this._isAbort(f,k)){k.abortOld&&a.each(this.requests,function(a){if(a===k.xhrID)return!1;p.abort(a)});
if(k.cacheResponse&&!d[k.xhrID]&&(d[k.xhrID]={status:f.status,statusText:f.statusText,responseText:f.responseText,responseXML:f.responseXML,_successData:b},f.getAllResponseHeaders)){var q=f.getAllResponseHeaders();a.extend(d[k.xhrID],{getAllResponseHeaders:function(){return q},getResponseHeader:function(){var b={};a.each(q.split("\n"),function(a,c){var d=c.indexOf(":");b[c.substr(0,d)]=c.substr(d+2)});return function(a){return b[a]}}()})}e.call(c,b,g,f,k);a.event.trigger(this.name+"AjaxSuccess",[f,
k,b]);k.domSuccessTrigger&&a(k.domSuccessTrigger).trigger(this.name+"DOMSuccess",[b,k]).trigger("DOMSuccess",[b,k])}f=null},getData:function(c){if(c){var d=this.requests[c];!d&&this.opts.queue&&(d=a.grep(a(document).queue(this.qName),function(a,d){return a.xhrID===c})[0]);return d}return{requests:this.requests,queue:this.opts.queue?a(document).queue(this.qName):[],inProgress:this.inProgress}},abort:function(c){var d;if(c)(d=this.getData(c))&&d.abort?(this.lastAbort=c,d.abort(),this.lastAbort=!1):
a(document).queue(this.qName,a.grep(a(document).queue(this.qName),function(a,b){return a!==d})),d=null;else{var b=this,e=[];a.each(this.requests,function(a){e.push(a)});a.each(e,function(a,c){b.abort(c)})}},clear:function(c){a(document).clearQueue(this.qName);c&&this.abort()}};a.manageAjax._manager.prototype.getXHR=a.manageAjax._manager.prototype.getData;a.manageAjax.defaults={beforeCreate:a.noop,abort:a.noop,abortIsNoSuccess:!0,maxRequests:1,cacheResponse:!1,domCompleteTrigger:!1,domSuccessTrigger:!1,
preventDoubbleRequests:!0,queue:!1};a.each(a.manageAjax._manager.prototype,function(c,d){0!==c.indexOf("_")&&a.isFunction(d)&&(a.manageAjax[c]=function(b,d){if(!e[b])if("add"===c)a.manageAjax.create(b,d);else return;var f=Array.prototype.slice.call(arguments,1);e[b][c].apply(e[b],f)})})})(jQuery);var Attacklab=Attacklab||{};Attacklab.showdown=Attacklab.showdown||{};
Attacklab.showdown.converter=function(){var a,e,d,c=0;this.makeHtml=function(c){if(null!==c)return a=[],e=[],d=[],c=c.replace(/~/g,"~T"),c=c.replace(/\$/g,"~D"),c=c.replace(/\r\n/g,"\n"),c=c.replace(/\r/g,"\n"),c="\n\n"+c+"\n\n",c=E(c),c=c.replace(/^[ \t]+$/mg,""),c=b(c),c=h(c),c=f(c),c=u(c),c=c.replace(/~D/g,"$$"),c=c.replace(/~T/g,"~"),c=c.replace(/https?\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!]/g,function(a,b){var d=c.slice(0,b),e=c.slice(b);return d.match(/<[^>]+$/)&&e.match(/^[^>]*>/)?a:"<a href='"+
a+"'>"+a+"</a>"}),c=c.replace(/[a-z0-9_\-+=.]+@[a-z0-9\-]+(\.[a-z0-9-]+)+/ig,function(a){return"<a href='mailto:"+a+"'>"+a+"</a>"})};var h=function(b){return b=b.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(b,c,d,f,g){c=c.toLowerCase();a[c]=C(d);if(f)return f+g;g&&(e[c]=g.replace(/"/g,"&quot;"));return""})},b=function(a){a=a.replace(/\n/g,"\n\n");a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,
g);a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,g);a=a.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,g);a=a.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,g);a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,g);return a=a.replace(/\n\n/g,"\n")},g=function(a,b){var c;c=b.replace(/\n\n/g,"\n");c=c.replace(/^\n/,"");c=c.replace(/\n+$/g,"");return c="\n\n~K"+
(d.push(c)-1)+"K\n\n"},f=function(a){a=s(a);var c=z("<hr />");a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,c);a=a.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,c);a=a.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,c);a=v(a);a=r(a);a=B(a);a=b(a);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");var e=a.split(/\n{2,}/g);a=[];for(var c=e.length,f=0;f<c;f++){var g=e[f];0<=g.search(/~K(\d+)K/g)?a.push(g):0<=g.search(/\S/)&&(g=k(g),g=g.replace(/\n/g,"<br />"),g=g.replace(/^([ \t]*)/g,"<p>"),g+="</p>",a.push(g))}c=
a.length;for(f=0;f<c;f++)for(;0<=a[f].search(/~K(\d+)K/);)e=d[RegExp.$1],e=e.replace(/\$/g,"$$$$"),a[f]=a[f].replace(/~K\d+K/,e);return a=a.join("\n\n")},k=function(a){a=x(a);a=p(a);a=a.replace(/\\(\\)/g,M);a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,M);a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,m);a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,m);a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,q);a=a.replace(/(\[((?:\[[^\]]*\]|\[\[[^\]]*\]\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,
q);a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,q);a=I(a);a=C(a);a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\1/g,"<strong>$2</strong>");a=a.replace(/(\w)_(\w)/g,"$1~E95E$2");a=a.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>");return a=a.replace(/  +\n/g," <br />\n")},p=function(a){return a=a.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi,function(a){a=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return a=K(a,"\\`*_")})},q=function(b,c,d,f,g,h,k,m){void 0==m&&(m="");b=f.toLowerCase();
if(""==g)if(""==b&&(b=d.toLowerCase().replace(/ ?\n/g," ")),void 0!=a[b])g=a[b],void 0!=e[b]&&(m=e[b]);else if(-1<c.search(/\(\s*\)$/m))g="";else return c;g=K(g,"*_");c='<a href="'+g+'"';""!=m&&(m=m.replace(/"/g,"&quot;"),m=K(m,"*_"),c+=' title="'+m+'"');return c+(">"+d+"</a>")},m=function(b,c,d,f,g,h,k,m){b=d;f=f.toLowerCase();m||(m="");if(""==g)if(""==f&&(f=b.toLowerCase().replace(/ ?\n/g," ")),void 0!=a[f])g=a[f],void 0!=e[f]&&(m=e[f]);else return c;b=b.replace(/"/g,"&quot;");g=K(g,"*_");c='<img src="'+
g+'" alt="'+b+'"';m=m.replace(/"/g,"&quot;");m=K(m,"*_");return c=c+(' title="'+m+'"')+" />"},s=function(a){a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,b){return z("<h1>"+k(b)+"</h1>")});a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,b){return z("<h2>"+k(b)+"</h2>")});return a=a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(a,b,c){a=b.length;return z("<h"+a+">"+k(c)+"</h"+a+">")})},t,v=function(a){a+="~0";var b=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;
c?a=a.replace(b,function(a,b,c){a=b;c=-1<c.search(/[*+-]/g)?"ul":"ol";a=a.replace(/\n{2,}/g,"\n\n\n");a=t(a);a=a.replace(/\s+$/,"");return"<"+c+">"+a+"</"+c+">\n"}):(b=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(b,function(a,b,c,d){a=c;d=-1<d.search(/[*+-]/g)?"ul":"ol";a=a.replace(/\n{2,}/g,"\n\n\n");a=t(a);return b+"<"+d+">\n"+a+"</"+d+">\n"}));return a=a.replace(/~0/,"")};t=function(a){c++;a=a.replace(/\n{2,}$/,"\n");a=(a+"~0").replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,
function(a,b,c,d,e){a=e;b||-1<a.search(/\n{2,}/)?a=f(A(a)):(a=v(A(a)),a=a.replace(/\n$/,""),a=k(a));return"<li>"+a+"</li>\n"});a=a.replace(/~0/g,"");c--;return a};var r=function(a){a=(a+"~0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){a=w(A(b));a=E(a);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");a="<pre><code>"+a+"\n</code></pre>";return z(a)+c});return a=a.replace(/~0/,"")},z=function(a){a=a.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(d.push(a)-1)+
"K\n\n"},x=function(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,d,e){a=d.replace(/^([ \t]*)/g,"");a=a.replace(/[ \t]*$/g,"");a=w(a);return b+"<code>"+a+"</code>"})},w=function(a){a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a=K(a,"*_{}[]\\",!1)},B=function(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c;c=b.replace(/^[ \t]*>[ \t]?/gm,"~0");c=c.replace(/~0/g,"");c=c.replace(/^[ \t]+$/gm,"");c=f(c);
c=c.replace(/(^|\n)/g,"$1  ");c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c;c=b.replace(/^  /mg,"~0");return c=c.replace(/~0/g,"")});return z("<blockquote>\n"+c+"\n</blockquote>")})},C=function(a){a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");return a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},I=function(a){a=a.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>');return a=a.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(a,b){return D(u(b))})},
D=function(a){var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){a=a.charCodeAt(0);return"&#x"+("0123456789ABCDEF".charAt(a>>4)+"0123456789ABCDEF".charAt(a&15))+";"},function(a){return a}];a=("mailto:"+a).replace(/./g,function(a){if("@"==a)a=b[Math.floor(2*Math.random())](a);else if(":"!=a){var c=Math.random();a=.9<c?b[2](a):.45<c?b[1](a):b[0](a)}return a});a='<a href="'+a+'">'+a+"</a>";return a=a.replace(/">.+:/g,'">')},u=function(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=
parseInt(b);return String.fromCharCode(c)})},A=function(a){a=a.replace(/^(\t|[ ]{1,4})/gm,"~0");return a=a.replace(/~0/g,"")},E=function(a){a=a.replace(/\t(?=\t)/g,"    ");a=a.replace(/\t/g,"~A~B");a=a.replace(/~B(.+?)~A/g,function(a,b,c){a=b;b=4-a.length%4;for(c=0;c<b;c++)a+=" ";return a});a=a.replace(/~A/g,"    ");return a=a.replace(/~B/g,"")},K=function(a,b,c){b="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";c&&(b="\\\\"+b);return a=a.replace(new RegExp(b,"g"),M)},M=function(a,b){return"~E"+b.charCodeAt(0)+
"E"}};var Showdown=Attacklab.showdown;Attacklab.fileLoaded&&Attacklab.fileLoaded("showdown.js");
(function(a,e){var d=a.document,c=a.navigator,h=a.setTimeout,b=a.clearTimeout,g=a.setInterval,f=a.clearInterval,k=a.getComputedStyle,p=a.encodeURIComponent,q=a.ActiveXObject,m=a.Error,s=a.Number.parseInt||a.parseInt,t=a.Number.parseFloat||a.parseFloat,v=a.Number.isNaN||a.isNaN,r=a.Date.now,z=a.Object.keys,x=a.Object.defineProperty,w=a.Object.prototype.hasOwnProperty,B=a.Array.prototype.slice,C=function(){var b=function(a){return a};if("function"===typeof a.wrap&&"function"===typeof a.unwrap)try{var c=
d.createElement("div"),e=a.unwrap(c);1===c.nodeType&&e&&1===e.nodeType&&(b=a.unwrap)}catch(f){}return b}(),I=function(a){return B.call(a,0)},D=function(){var a,b,c,d,f,g=I(arguments),h=g[0]||{};a=1;for(b=g.length;a<b;a++)if(null!=(c=g[a]))for(d in c)w.call(c,d)&&(f=c[d],h!==f&&f!==e&&(h[d]=f));return h},u=function(a){var b,c,d;if("object"!==typeof a||null==a||"number"===typeof a.nodeType)b=a;else if("number"===typeof a.length)for(b=[],c=0,d=a.length;c<d;c++)w.call(a,c)&&(b[c]=u(a[c]));else for(c in b=
{},a)w.call(a,c)&&(b[c]=u(a[c]));return b},A=function(a,b){if(a&&1===a.nodeType&&a.ownerDocument&&b&&(1===b.nodeType&&b.ownerDocument&&b.ownerDocument===a.ownerDocument||9===b.nodeType&&!b.ownerDocument&&b===a.ownerDocument)){do{if(a===b)return!0;a=a.parentNode}while(a)}return!1},E=function(a){var b;"string"===typeof a&&a&&(a.split("#")[0].split("?"),b=a.slice(0,a.lastIndexOf("/")+1));return b},K=function(){var a,b,c;if(d.currentScript&&(a=d.currentScript.src))return a;b=d.getElementsByTagName("script");
if(1===b.length)return b[0].src||e;if("readyState"in b[0])for(c=b.length;c--;)if("interactive"===b[c].readyState&&(a=b[c].src))return a;if("loading"===d.readyState&&(a=b[b.length-1].src))return a;var f;try{throw new m;}catch(g){b=g}if(b&&!(f=b.sourceURL||b.fileName)){f=b.stack;var h;"string"===typeof f&&f&&((b=f.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&b[1]?h=b[1]:(b=f.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&
b[1]&&(h=b[1]));f=h}return(a=f)?a:e},M=null==a.opener&&(!!a.top&&a!=a.top||!!a.parent&&a!=a.parent),y={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},T,Z={},n,W,J={},ea=null,aa=0,V=0,qa={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard",
"flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.",
"flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},
ta="flash-unavailable flash-degraded flash-overdue version-mismatch config-mismatch clipboard-error".split(" "),na="flash-disabled flash-outdated flash-sandboxed flash-unavailable flash-degraded flash-deactivated flash-overdue".split(" "),ya=new RegExp("^flash-("+na.map(function(a){return a.replace(/^flash-/,"")}).join("|")+")$"),Ba=new RegExp("^flash-("+na.slice(1).map(function(a){return a.replace(/^flash-/,"")}).join("|")+")$"),N={swfPath:function(){var a;if(!(a=E(K()))){var b,c,f=d.getElementsByTagName("script");
for(a=f.length;a--;){if(!(c=f[a].src)){b=null;break}c=E(c);if(null==b)b=c;else if(b!==c){b=null;break}}a=b||e}return(a||"")+"ZeroClipboard.swf"}(),trustedDomains:a.location.host?[a.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3E4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",
forceHandCursor:!1,title:null,zIndex:999999999},Ca=function(a){if("object"===typeof a&&null!==a)for(var b in a)if(w.call(a,b))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(b))N[b]=a[b];else if(null==y.bridge)if("containerId"===b||"swfObjectId"===b){var c=a[b];if("string"===typeof c&&c&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(c))N[b]=a[b];else throw Error("The specified `"+b+"` value is not valid as an HTML4 Element ID");}else N[b]=a[b];if("string"===typeof a&&a){if(w.call(N,a))return N[a]}else return u(N)},
fa=function(){$a();for(var a=["userAgent","platform","appName"],b={},d=0,e=a.length;d<e;d++)a[d]in c&&(b[a[d]]=c[a[d]]);var a=["bridge"],d={},f;for(f in y)-1===a.indexOf(f)&&(d[f]=y[f]);return{browser:b,flash:d,zeroclipboard:{version:H.version,config:H.config()}}},Oa=function(){return!!(y.disabled||y.outdated||y.sandboxed||y.unavailable||y.degraded||y.deactivated)},vb=function(a,b){var c,d,f,g={};if("string"===typeof a&&a)f=a.toLowerCase().split(/\s+/);else if("object"===typeof a&&a&&"undefined"===
typeof b)for(c in a)if(w.call(a,c)&&"string"===typeof c&&c&&"function"===typeof a[c])H.on(c,a[c]);if(f&&f.length){c=0;for(d=f.length;c<d;c++)a=f[c].replace(/^on/,""),g[a]=!0,Z[a]||(Z[a]=[]),Z[a].push(b);g.ready&&y.ready&&H.emit({type:"ready"});if(g.error){c=0;for(d=na.length;c<d;c++)if(!0===y[na[c].replace(/^flash-/,"")]){H.emit({type:"error",name:na[c]});break}T!==e&&H.version!==T&&H.emit({type:"error",name:"version-mismatch",jsVersion:H.version,swfVersion:T})}}return H},eb=function(a,b){var c,d,
e,f,g;if(0===arguments.length)f=z(Z);else if("string"===typeof a&&a)f=a.split(/\s+/);else if("object"===typeof a&&a&&"undefined"===typeof b)for(c in a)w.call(a,c)&&"string"===typeof c&&c&&"function"===typeof a[c]&&H.off(c,a[c]);if(f&&f.length)for(c=0,d=f.length;c<d;c++)if(a=f[c].toLowerCase().replace(/^on/,""),(g=Z[a])&&g.length)if(b)for(e=g.indexOf(b);-1!==e;)g.splice(e,1),e=g.indexOf(b,e);else g.length=0;return H},fb=function(a){return"string"===typeof a&&a?u(Z[a])||null:u(Z)},va=function(b){var c,
e,f;if(b=Pa(b)){c=b;var g=c.target||n||null,h="swf"===c._source;delete c._source;switch(c.type){case "error":!(g="flash-sandboxed"===c.name)&&(g=null,!1===M||c&&"error"===c.type&&c.name&&-1!==ta.indexOf(c.name))&&(g=!1);"boolean"===typeof g&&(y.sandboxed=g);-1!==na.indexOf(c.name)?D(y,{disabled:"flash-disabled"===c.name,outdated:"flash-outdated"===c.name,unavailable:"flash-unavailable"===c.name,degraded:"flash-degraded"===c.name,deactivated:"flash-deactivated"===c.name,overdue:"flash-overdue"===c.name,
ready:!1}):"version-mismatch"===c.name&&(T=c.swfVersion,D(y,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1}));Za();break;case "ready":T=c.swfVersion;g=!0===y.deactivated;D(y,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:g,ready:!g});Za();break;case "beforecopy":W=g;break;case "copy":var k,m,g=c.relatedTarget;!J["text/html"]&&!J["text/plain"]&&g&&(m=g.value||g.outerHTML||g.innerHTML)&&(k=g.value||g.textContent||g.innerText)?
(c.clipboardData.clearData(),c.clipboardData.setData("text/plain",k),m!==k&&c.clipboardData.setData("text/html",m)):!J["text/plain"]&&c.target&&(k=c.target.getAttribute("data-clipboard-text"))&&(c.clipboardData.clearData(),c.clipboardData.setData("text/plain",k));break;case "aftercopy":gb(c);H.clearData();if(k=g){var p;try{p=d.activeElement}catch(q){p=null}k=g!==p}k&&g.focus&&g.focus();break;case "_mouseover":H.focus(g);!0===N.bubbleEvents&&h&&(g&&g!==c.relatedTarget&&!A(c.relatedTarget,g)&&ia(D({},
c,{type:"mouseenter",bubbles:!1,cancelable:!1})),ia(D({},c,{type:"mouseover"})));break;case "_mouseout":H.blur();!0===N.bubbleEvents&&h&&(g&&g!==c.relatedTarget&&!A(c.relatedTarget,g)&&ia(D({},c,{type:"mouseleave",bubbles:!1,cancelable:!1})),ia(D({},c,{type:"mouseout"})));break;case "_mousedown":Ab(g,N.activeClass);!0===N.bubbleEvents&&h&&ia(D({},c,{type:c.type.slice(1)}));break;case "_mouseup":ba(g,N.activeClass);!0===N.bubbleEvents&&h&&ia(D({},c,{type:c.type.slice(1)}));break;case "_click":W=null;
!0===N.bubbleEvents&&h&&ia(D({},c,{type:c.type.slice(1)}));break;case "_mousemove":!0===N.bubbleEvents&&h&&ia(D({},c,{type:c.type.slice(1)}))}c=/^_(?:click|mouse(?:over|out|down|up|move))$/.test(c.type)?!0:void 0;if(!c){if("ready"===b.type&&!0===y.overdue)return H.emit({type:"error",name:"flash-overdue"});c=D({},b);if("object"===typeof c&&c&&c.type&&(g=Ma(c),(k=(Z["*"]||[]).concat(Z[c.type]||[]))&&k.length)){var r,s;m=0;for(p=k.length;m<p;m++)h=k[m],r=this,"string"===typeof h&&"function"===typeof a[h]&&
(h=a[h]),"object"===typeof h&&h&&"function"===typeof h.handleEvent&&(r=h,h=h.handleEvent),"function"===typeof h&&(s=D({},c),zb(h,r,[s],g))}if("copy"===b.type){e={};b={};if("object"===typeof J&&J){for(f in J)if(f&&w.call(J,f)&&"string"===typeof J[f]&&J[f])switch(f.toLowerCase()){case "text/plain":case "text":case "air:text":case "flash:text":e.text=J[f];b.text=f;break;case "text/html":case "html":case "air:html":case "flash:html":e.html=J[f];b.html=f;break;case "application/rtf":case "text/rtf":case "rtf":case "richtext":case "air:rtf":case "flash:rtf":e.rtf=
J[f],b.rtf=f}f={data:e,formatMap:b}}else f=void 0;e=f.data;ea=f.formatMap}return e}}},cc=function(){var a=y.sandboxed;$a();"boolean"!==typeof y.ready&&(y.ready=!1);y.sandboxed!==a&&!0===y.sandboxed?(y.ready=!1,H.emit({type:"error",name:"flash-sandboxed"})):H.isFlashUnusable()||null!==y.bridge||(a=N.flashLoadTimeout,"number"===typeof a&&0<=a&&(aa=h(function(){"boolean"!==typeof y.deactivated&&(y.deactivated=!0);!0===y.deactivated&&H.emit({type:"error",name:"flash-deactivated"})},a)),y.overdue=!1,sb())},
dc=function(){H.clearData();H.blur();H.emit("destroy");Pb();H.off()},wb=function(a,b){var c;if("object"===typeof a&&a&&"undefined"===typeof b)c=a,H.clearData();else if("string"===typeof a&&a)c={},c[a]=b;else return;for(var d in c)"string"===typeof d&&d&&w.call(c,d)&&"string"===typeof c[d]&&c[d]&&(J[d]=c[d])},ec=function(a){if("undefined"===typeof a){if(J)for(var b in J)w.call(J,b)&&delete J[b];ea=null}else"string"===typeof a&&w.call(J,a)&&delete J[a]},fc=function(a){if("undefined"===typeof a)return u(J);
if("string"===typeof a&&w.call(J,a))return J[a]},xb=function(a){if(a&&1===a.nodeType){n&&(ba(n,N.activeClass),n!==a&&ba(n,N.hoverClass));n=a;Ab(a,N.hoverClass);var b=a.getAttribute("title")||N.title;if("string"===typeof b&&b){var c=hb(y.bridge);c&&c.setAttribute("title",b)}a=!0===N.forceHandCursor||"pointer"===tb(a,"cursor");!0===y.ready&&(y.bridge&&"function"===typeof y.bridge.setHandCursor?y.bridge.setHandCursor(a):y.ready=!1);var d;n&&(d=hb(y.bridge))&&(a=Qa(n),D(d.style,{width:a.width+"px",height:a.height+
"px",top:a.top+"px",left:a.left+"px",zIndex:""+Ra(N.zIndex)}))}},gc=function(){var a=hb(y.bridge);a&&(a.removeAttribute("title"),a.style.left="0px",a.style.top="-9999px",a.style.width="1px",a.style.height="1px");n&&(ba(n,N.hoverClass),ba(n,N.activeClass),n=null)},yb=function(){return n||null},Pa=function(b){var c;"string"===typeof b&&b?(c=b,b={}):"object"===typeof b&&b&&"string"===typeof b.type&&b.type&&(c=b.type);if(c){c=c.toLowerCase();!b.target&&(/^(copy|aftercopy|_click)$/.test(c)||"error"===
c&&"clipboard-error"===b.name)&&(b.target=W);D(b,{type:c,target:b.target||n||null,relatedTarget:b.relatedTarget||null,currentTarget:y&&y.bridge||null,timeStamp:b.timeStamp||r()||null});c=qa[b.type];"error"===b.type&&b.name&&c&&(c=c[b.name]);c&&(b.message=c);"ready"===b.type&&D(b,{target:null,version:y.version});"error"===b.type&&(ya.test(b.name)&&D(b,{target:null,minimumVersion:"11.0.0"}),Ba.test(b.name)&&D(b,{version:y.version}));"copy"===b.type&&(b.clipboardData={setData:H.setData,clearData:H.clearData});
if("aftercopy"===b.type&&(c=ea,"object"===typeof b&&b&&"object"===typeof c&&c)){var f={},g;for(g in b)if(w.call(b,g))if("errors"===g){f[g]=b[g]?b[g].slice():[];for(var h=0,k=f[g].length;h<k;h++)f[g][h].format=c[f[g][h].format]}else if("success"!==g&&"data"!==g)f[g]=b[g];else{f[g]={};var h=b[g],m;for(m in h)m&&w.call(h,m)&&w.call(c,m)&&(f[g][c[m]]=h[m])}b=f}b.target&&!b.relatedTarget&&(g=b,m=(m=(m=b.target)&&m.getAttribute&&m.getAttribute("data-clipboard-target"))?d.getElementById(m):null,g.relatedTarget=
m);if((g=b)&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(g.type)){m=g.target;b="_mouseover"===g.type&&g.relatedTarget?g.relatedTarget:e;c="_mouseout"===g.type&&g.relatedTarget?g.relatedTarget:e;var h=Qa(m),f=h.left+("number"===typeof g._stageX?g._stageX:0),h=h.top+("number"===typeof g._stageY?g._stageY:0),k=f-(d.body.scrollLeft+d.documentElement.scrollLeft),p=h-(d.body.scrollTop+d.documentElement.scrollTop),q=(a.screenLeft||a.screenX||0)+k,s=(a.screenTop||a.screenY||0)+p,z="number"===typeof g.movementX?
g.movementX:0,t="number"===typeof g.movementY?g.movementY:0;delete g._stageX;delete g._stageY;D(g,{srcElement:m,fromElement:b,toElement:c,screenX:q,screenY:s,pageX:f,pageY:h,clientX:k,clientY:p,x:k,y:p,movementX:z,movementY:t,offsetX:0,offsetY:0,layerX:0,layerY:0})}return g}},Ma=function(a){return!/^(?:(?:before)?copy|destroy)$/.test(a&&"string"===typeof a.type&&a.type||"")},zb=function(a,b,c,d){d?h(function(){a.apply(b,c)},0):a.apply(b,c)},gb=function(a){if(a.errors&&0<a.errors.length){var b=u(a);
D(b,{type:"error",name:"clipboard-error"});delete b.success;h(function(){H.emit(b)},0)}},ia=function(b){if(b&&"string"===typeof b.type&&b){var c,e=b.target||null;c=e&&e.ownerDocument||d;b=D({view:c.defaultView||a,canBubble:!0,cancelable:!0,detail:"click"===b.type?1:0,button:"number"===typeof b.which?b.which-1:"number"===typeof b.button?b.button:c.createEvent?0:1},b);e&&c.createEvent&&e.dispatchEvent&&(b=[b.type,b.canBubble,b.cancelable,b.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,
b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget],c=c.createEvent("MouseEvents"),c.initMouseEvent&&(c.initMouseEvent.apply(c,b),c._source="js",e.dispatchEvent(c)))}},Kb=function(){var a=N.flashLoadTimeout;if("number"===typeof a&&0<=a){var a=Math.min(1E3,a/10),b=N.swfObjectId+"_fallbackContent";V=g(function(){var a;var c=d.getElementById(b);if(c){a=k(c,null);var e=0<t(a.height),f=0<t(a.width),g=0<=t(a.top),h=0<=t(a.left),m=e&&f&&g&&h,c=m?null:Qa(c);a="none"!==a.display&&"collapse"!==a.visibility&&
(m||!!c&&(e||0<c.height)&&(f||0<c.width)&&(g||0<=c.top)&&(h||0<=c.left))}else a=!1;a&&(Za(),y.deactivated=null,H.emit({type:"error",name:"swf-not-found"}))},a)}},hb=function(a){for(a=a&&a.parentNode;a&&"OBJECT"===a.nodeName&&a.parentNode;)a=a.parentNode;return a||null},sb=function(){var b,c=y.bridge,e=hb(c);if(!c){var c=Qb(a.location.host,N),f="never"===c?"none":"all",g,e=D({jsVersion:H.version},N),h,k,m,q="",n=[];e.trustedDomains&&("string"===typeof e.trustedDomains?g=[e.trustedDomains]:"object"===
typeof e.trustedDomains&&"length"in e.trustedDomains&&(g=e.trustedDomains));if(g&&g.length)for(h=0,k=g.length;h<k;h++)if(w.call(g,h)&&g[h]&&"string"===typeof g[h]&&(m=Ia(g[h]))){if("*"===m){n.length=0;n.push(m);break}n.push.apply(n,[m,"//"+m,a.location.protocol+"//"+m])}n.length&&(q+="trustedOrigins="+p(n.join(",")));!0===e.forceEnhancedClipboard&&(q+=(q?"&":"")+"forceEnhancedClipboard=true");"string"===typeof e.swfObjectId&&e.swfObjectId&&(q+=(q?"&":"")+"swfObjectId="+p(e.swfObjectId));"string"===
typeof e.jsVersion&&e.jsVersion&&(q+=(q?"&":"")+"jsVersion="+p(e.jsVersion));g=q;e=N.swfPath;h=null==N||N&&!0===N.cacheBust?(-1===N.swfPath.indexOf("?")?"?":"&")+"noCache="+r():"";h=e+h;e=d.createElement("div");e.id=N.containerId;e.className=N.containerClass;e.style.position="absolute";e.style.left="0px";e.style.top="-9999px";e.style.width="1px";e.style.height="1px";e.style.zIndex=""+Ra(N.zIndex);k=d.createElement("div");e.appendChild(k);d.body.appendChild(e);m=d.createElement("div");q="activex"===
y.pluginType;m.innerHTML='<object id="'+N.swfObjectId+'" name="'+N.swfObjectId+'" width="100%" height="100%" '+(q?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+h+'"')+">"+(q?'<param name="movie" value="'+h+'"/>':"")+'<param name="allowScriptAccess" value="'+c+'"/><param name="allowNetworking" value="'+f+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+g+'"/><div id="'+N.swfObjectId+
'_fallbackContent">&nbsp;</div></object>';c=m.firstChild;C(c).ZeroClipboard=H;e.replaceChild(c,k);Kb()}c||((c=d[N.swfObjectId])&&(b=c.length)&&(c=c[b-1]),!c&&e&&(c=e.firstChild));y.bridge=c||null;return c},Pb=function(){var a=y.bridge;if(a){var b=hb(a);b&&("activex"===y.pluginType&&"readyState"in a?(a.style.display="none",function wa(){if(4===a.readyState){for(var c in a)"function"===typeof a[c]&&(a[c]=null);a.parentNode&&a.parentNode.removeChild(a);b.parentNode&&b.parentNode.removeChild(b)}else h(wa,
10)}()):(a.parentNode&&a.parentNode.removeChild(a),b.parentNode&&b.parentNode.removeChild(b)));Za();y.ready=null;y.bridge=null;y.deactivated=null;T=e}},Ia=function(a){if(null==a||""===a)return null;a=a.replace(/^\s+|\s+$/g,"");if(""===a)return null;var b=a.indexOf("//");a=-1===b?a:a.slice(b+2);var c=a.indexOf("/");return(a=-1===c?a:-1===b||0===c?null:a.slice(0,c))&&".swf"===a.slice(-4).toLowerCase()?null:a||null},Qb=function(){return function(a,b){var c=Ia(b.swfPath);null===c&&(c=a);var d=b.trustedDomains,
e,f,g,h=[];"string"===typeof d&&(d=[d]);if("object"===typeof d&&d&&"number"===typeof d.length)for(e=0,f=d.length;e<f;e++)if(w.call(d,e)&&(g=Ia(d[e]))){if("*"===g){h.length=0;h.push("*");break}-1===h.indexOf(g)&&h.push(g)}d=h.length;if(0<d){if(1===d&&"*"===h[0])return"always";if(-1!==h.indexOf(a))return 1===d&&a===c?"sameDomain":"always"}return"never"}}(),Ab=function(a,b){var c,d,e,f=[];"string"===typeof b&&b&&(f=b.split(/\s+/));if(a&&1===a.nodeType&&0<f.length)if(a.classList)for(c=0,d=f.length;c<
d;c++)a.classList.add(f[c]);else if(a.hasOwnProperty("className")){e=" "+a.className+" ";c=0;for(d=f.length;c<d;c++)-1===e.indexOf(" "+f[c]+" ")&&(e+=f[c]+" ");a.className=e.replace(/^\s+|\s+$/g,"")}return a},ba=function(a,b){var c,d,e,f=[];"string"===typeof b&&b&&(f=b.split(/\s+/));if(a&&1===a.nodeType&&0<f.length)if(a.classList&&0<a.classList.length)for(c=0,d=f.length;c<d;c++)a.classList.remove(f[c]);else if(a.className){e=(" "+a.className+" ").replace(/[\r\n\t]/g," ");c=0;for(d=f.length;c<d;c++)e=
e.replace(" "+f[c]+" "," ");a.className=e.replace(/^\s+|\s+$/g,"")}return a},tb=function(a,b){var c=k(a,null).getPropertyValue(b);return"cursor"!==b||c&&"auto"!==c||"A"!==a.nodeName?c:"pointer"},Qa=function(b){var c={left:0,top:0,width:0,height:0};if(b.getBoundingClientRect){b=b.getBoundingClientRect();var e=a.pageXOffset,f=a.pageYOffset,g=d.documentElement.clientLeft||0,h=d.documentElement.clientTop||0,k=0,m=0;if("relative"===tb(d.body,"position"))var m=d.body.getBoundingClientRect(),p=d.documentElement.getBoundingClientRect(),
k=m.left-p.left||0,m=m.top-p.top||0;c.left=b.left+e-g-k;c.top=b.top+f-h-m;c.width="width"in b?b.width:b.right-b.left;c.height="height"in b?b.height:b.bottom-b.top}return c},Za=function(){b(aa);aa=0;f(V);V=0},Ra=function(a){if(/^(?:auto|inherit)$/.test(a))return a;var b;"number"!==typeof a||v(a)?"string"===typeof a&&(b=Ra(s(a,10))):b=a;return"number"===typeof b?b:"auto"},$a=function(b){var c,d,e,f=y.sandboxed,g=null;b=!0===b;if(!1===M)g=!1;else{try{d=a.frameElement||null}catch(h){e={name:h.name,message:h.message}}if(d&&
1===d.nodeType&&"IFRAME"===d.nodeName)try{g=d.hasAttribute("sandbox")}catch(k){g=null}else{try{c=document.domain||null}catch(m){c=null}if(null===c||e&&"SecurityError"===e.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(e.message.toLowerCase()))g=!0}}y.sandboxed=g;f===g||b||ja(q);return g},ja=function(a){function b(a){a=a.match(/[\d]+/g);a.length=3;return a.join(".")}function d(a){a&&(f=!0,a.version&&(k=b(a.version)),!k&&a.description&&(k=b(a.description)),a.filename&&(a=a.filename,h=
!!a&&(a=a.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(a)||"chrome.plugin"===a.slice(-13))))}var e,f=!1,g=!1,h=!1,k="";if(c.plugins&&c.plugins.length)a=c.plugins["Shockwave Flash"],d(a),c.plugins["Shockwave Flash 2.0"]&&(f=!0,k="2.0.0.11");else if(c.mimeTypes&&c.mimeTypes.length)a=(a=c.mimeTypes["application/x-shockwave-flash"])&&a.enabledPlugin,d(a);else if("undefined"!==typeof a){g=!0;try{e=new a("ShockwaveFlash.ShockwaveFlash.7"),f=!0,k=b(e.GetVariable("$version"))}catch(m){try{e=
new a("ShockwaveFlash.ShockwaveFlash.6"),f=!0,k="6.0.21"}catch(p){try{e=new a("ShockwaveFlash.ShockwaveFlash"),f=!0,k=b(e.GetVariable("$version"))}catch(q){g=!1}}}}y.disabled=!0!==f;y.outdated=k&&t(k)<t("11.0.0");y.version=k||"0.0.0";y.pluginType=h?"pepper":g?"activex":f?"netscape":"unknown"};ja(q);$a(!0);var H=function(){if(!(this instanceof H))return new H;"function"===typeof H._createClient&&H._createClient.apply(this,I(arguments))};x(H,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0});
H.config=function(){return Ca.apply(this,I(arguments))};H.state=function(){return fa.apply(this,I(arguments))};H.isFlashUnusable=function(){return Oa.apply(this,I(arguments))};H.on=function(){return vb.apply(this,I(arguments))};H.off=function(){return eb.apply(this,I(arguments))};H.handlers=function(){return fb.apply(this,I(arguments))};H.emit=function(){return va.apply(this,I(arguments))};H.create=function(){return cc.apply(this,I(arguments))};H.destroy=function(){return dc.apply(this,I(arguments))};
H.setData=function(){return wb.apply(this,I(arguments))};H.clearData=function(){return ec.apply(this,I(arguments))};H.getData=function(){return fc.apply(this,I(arguments))};H.focus=H.activate=function(){return xb.apply(this,I(arguments))};H.blur=H.deactivate=function(){return gc.apply(this,I(arguments))};H.activeElement=function(){return yb.apply(this,I(arguments))};var ab=0,ca={},Rb=0,ib={},Ga={};D(N,{autoActivate:!0});var Sb=function(a){var b=this;b.id=""+ab++;ca[b.id]={instance:b,elements:[],handlers:{}};
a&&b.clip(a);H.on("*",function(a){return b.emit(a)});H.on("destroy",function(){b.destroy()});H.create()},Bb=function(a,b){var c,d,f,g={},h=(d=ca[this.id])&&d.handlers;if(!d)throw Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"===typeof a&&a)f=a.toLowerCase().split(/\s+/);else if("object"===typeof a&&a&&"undefined"===typeof b)for(c in a)if(w.call(a,c)&&"string"===typeof c&&c&&"function"===typeof a[c])this.on(c,a[c]);if(f&&f.length){c=0;for(d=f.length;c<
d;c++)a=f[c].replace(/^on/,""),g[a]=!0,h[a]||(h[a]=[]),h[a].push(b);g.ready&&y.ready&&this.emit({type:"ready",client:this});if(g.error){c=0;for(d=na.length;c<d;c++)if(y[na[c].replace(/^flash-/,"")]){this.emit({type:"error",name:na[c],client:this});break}T!==e&&H.version!==T&&this.emit({type:"error",name:"version-mismatch",jsVersion:H.version,swfVersion:T})}}return this},hc=function(a,b){var c,d,e,f,g,h=(d=ca[this.id])&&d.handlers;if(!h)return this;if(0===arguments.length)f=z(h);else if("string"===
typeof a&&a)f=a.split(/\s+/);else if("object"===typeof a&&a&&"undefined"===typeof b)for(c in a)w.call(a,c)&&"string"===typeof c&&c&&"function"===typeof a[c]&&this.off(c,a[c]);if(f&&f.length)for(c=0,d=f.length;c<d;c++)if(a=f[c].toLowerCase().replace(/^on/,""),(g=h[a])&&g.length)if(b)for(e=g.indexOf(b);-1!==e;)g.splice(e,1),e=g.indexOf(b,e);else g.length=0;return this},Fa=function(a){var b=null,c=ca[this.id]&&ca[this.id].handlers;c&&(b="string"===typeof a&&a?c[a]?c[a].slice(0):[]:u(c));return b},Xa=
function(b){var c;var d=b;if(!d||!d.type||d.client&&d.client!==this)c=!1;else{var e=(c=ca[this.id])&&c.elements,f=!!e&&0<e.length,g=!d.target||f&&-1!==e.indexOf(d.target),e=d.relatedTarget&&f&&-1!==e.indexOf(d.relatedTarget),d=d.client&&d.client===this;c=c&&(g||e||d)?!0:!1}if(c&&("object"===typeof b&&b&&"string"===typeof b.type&&b.type&&(b=D({},b)),b=D({},Pa(b),{client:this}),g=ca[this.id],"object"===typeof b&&b&&b.type&&g&&(c=Ma(b),(g=(g&&g.handlers["*"]||[]).concat(g&&g.handlers[b.type]||[]))&&
g.length)))for(var h,k,d=0,e=g.length;d<e;d++)f=g[d],h=this,"string"===typeof f&&"function"===typeof a[f]&&(f=a[f]),"object"===typeof f&&f&&"function"===typeof f.handleEvent&&(h=f,f=f.handleEvent),"function"===typeof f&&(k=D({},b),zb(f,h,[k],c));return this},Tb=function(a){if(!ca[this.id])throw Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");a=Cb(a);for(var b=0;b<a.length;b++)if(w.call(a,b)&&a[b]&&1===a[b].nodeType){a[b].zcClippingId?-1===ib[a[b].zcClippingId].indexOf(this.id)&&
ib[a[b].zcClippingId].push(this.id):(a[b].zcClippingId="zcClippingId_"+Rb++,ib[a[b].zcClippingId]=[this.id],!0===N.autoActivate&&jb(a[b]));var c=ca[this.id]&&ca[this.id].elements;-1===c.indexOf(a[b])&&c.push(a[b])}return this},Ub=function(a){var b=ca[this.id];if(!b)return this;var b=b.elements,c;a="undefined"===typeof a?b.slice(0):Cb(a);for(var d=a.length;d--;)if(w.call(a,d)&&a[d]&&1===a[d].nodeType){for(c=0;-1!==(c=b.indexOf(a[d],c));)b.splice(c,1);var e=ib[a[d].zcClippingId];if(e){for(c=0;-1!==
(c=e.indexOf(this.id,c));)e.splice(c,1);if(0===e.length){if(!0===N.autoActivate&&(c=a[d])&&1===c.nodeType&&(e=Ga[c.zcClippingId],"object"===typeof e&&e)){for(var f=void 0,g=void 0,h=["move","leave","enter","out","over"],k=0,m=h.length;k<m;k++)f="mouse"+h[k],g=e[f],"function"===typeof g&&c.removeEventListener(f,g,!1);delete Ga[c.zcClippingId]}delete a[d].zcClippingId}}}return this},Sa=function(){var a=ca[this.id];return a&&a.elements?a.elements.slice(0):[]},Ya=function(){ca[this.id]&&(this.unclip(),
this.off(),delete ca[this.id])},Cb=function(a){"string"===typeof a&&(a=[]);return"number"!==typeof a.length?[a]:a},jb=function(b){if(b&&1===b.nodeType){var c=function(b){if(b||(b=a.event))"js"!==b._source&&(b.stopImmediatePropagation(),b.preventDefault()),delete b._source},d=function(d){if(d||(d=a.event))c(d),H.focus(b)};b.addEventListener("mouseover",d,!1);b.addEventListener("mouseout",c,!1);b.addEventListener("mouseenter",c,!1);b.addEventListener("mouseleave",c,!1);b.addEventListener("mousemove",
c,!1);Ga[b.zcClippingId]={mouseover:d,mouseout:c,mouseenter:c,mouseleave:c,mousemove:c}}};H._createClient=function(){Sb.apply(this,I(arguments))};H.prototype.on=function(){return Bb.apply(this,I(arguments))};H.prototype.off=function(){return hc.apply(this,I(arguments))};H.prototype.handlers=function(){return Fa.apply(this,I(arguments))};H.prototype.emit=function(){return Xa.apply(this,I(arguments))};H.prototype.clip=function(){return Tb.apply(this,I(arguments))};H.prototype.unclip=function(){return Ub.apply(this,
I(arguments))};H.prototype.elements=function(){return Sa.apply(this,I(arguments))};H.prototype.destroy=function(){return Ya.apply(this,I(arguments))};H.prototype.setText=function(a){if(!ca[this.id])throw Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");H.setData("text/plain",a);return this};H.prototype.setHtml=function(a){if(!ca[this.id])throw Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");H.setData("text/html",
a);return this};H.prototype.setRichText=function(a){if(!ca[this.id])throw Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");H.setData("application/rtf",a);return this};H.prototype.setData=function(){if(!ca[this.id])throw Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");H.setData.apply(this,I(arguments));return this};H.prototype.clearData=function(){if(!ca[this.id])throw Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");
H.clearData.apply(this,I(arguments));return this};H.prototype.getData=function(){if(!ca[this.id])throw Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return H.getData.apply(this,I(arguments))};"function"===typeof define&&define.amd?define(function(){return H}):"object"===typeof module&&module&&"object"===typeof module.exports&&module.exports?module.exports=H:a.ZeroClipboard=H})(function(){return this||window}());var Hogan={};
(function(a,e){function d(a){return""+(null===a||void 0===a?"":a)}a.Template=function(a,b,c,d){this.r=a||this.r;this.c=c;this.options=d;this.text=b||"";this.buf=e?[]:""};a.Template.prototype={r:function(){return""},v:function(a){a=d(a);return k.test(a)?a.replace(c,"&amp;").replace(h,"&lt;").replace(b,"&gt;").replace(g,"&#39;").replace(f,"&quot;"):a},t:d,render:function(a,b,c){return this.ri([a],b||{},c)},ri:function(a,b,c){return this.r(a,b,c)},rp:function(a,b,c,d){a=c[a];if(!a)return"";this.c&&"string"==
typeof a&&(a=this.c.compile(a,this.options));return a.ri(b,c,d)},rs:function(a,b,c){var d=a[a.length-1];if(p(d))for(var e=0;e<d.length;e++)a.push(d[e]),c(a,b,this),a.pop();else c(a,b,this)},s:function(a,b,c,d,e,f,g){if(p(a)&&0===a.length)return!1;"function"==typeof a&&(a=this.ls(a,b,c,d,e,f,g));c=""===a||!!a;!d&&c&&b&&b.push("object"==typeof a?a:b[b.length-1]);return c},d:function(a,b,c,d){var e=a.split("."),f=this.f(e[0],b,c,d),g=null;if("."===a&&p(b[b.length-2]))return b[b.length-1];for(a=1;a<e.length;a++)f&&
"object"==typeof f&&e[a]in f?(g=f,f=f[e[a]]):f="";if(d&&!f)return!1;!d&&"function"==typeof f&&(b.push(g),f=this.lv(f,b,c),b.pop());return f},f:function(a,b,c,d){for(var e=!1,f=null,g=!1,h=b.length-1;0<=h;h--)if((f=b[h])&&"object"==typeof f&&a in f){e=f[a];g=!0;break}if(!g)return d?!1:"";!d&&"function"==typeof e&&(e=this.lv(e,b,c));return e},ho:function(a,b,c,d,e){var f=this.c,g=this.options;g.delimiters=e;d=a.call(b,d);d=null==d?""+d:d.toString();this.b(f.compile(d,g).render(b,c));return!1},b:e?function(a){this.buf.push(a)}:
function(a){this.buf+=a},fl:e?function(){var a=this.buf.join("");this.buf=[];return a}:function(){var a=this.buf;this.buf="";return a},ls:function(a,b,c,d,e,f,g){b=b[b.length-1];var h=null;if(!d&&this.c&&0<a.length)return this.ho(a,b,c,this.text.substring(e,f),g);h=a.call(b);if("function"==typeof h){if(d)return!0;if(this.c)return this.ho(h,b,c,this.text.substring(e,f),g)}return h},lv:function(a,b,c){b=b[b.length-1];a=a.call(b);return"function"==typeof a&&(a=d(a.call(b)),this.c&&~a.indexOf("{{"))?
this.c.compile(a,this.options).render(b,c):d(a)}};var c=/&/g,h=/</g,b=/>/g,g=/\'/g,f=/\"/g,k=/[&<>\"\']/,p=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}})("undefined"!==typeof exports?exports:Hogan);
(function(a){function e(a){"}"===a.n.substr(a.n.length-1)&&(a.n=a.n.substring(0,a.n.length-1))}function d(a){return a.trim?a.trim():a.replace(/^\s*|\s*$/g,"")}function c(a,b,c){if(b.charAt(c)!=a.charAt(0))return!1;for(var d=1,e=a.length;d<e;d++)if(b.charAt(c+d)!=a.charAt(d))return!1;return!0}function h(a,b,c,d){b=[];for(var e=null,f=null;0<a.length;){f=a.shift();if(!(e="#"==f.tag)&&!(e="^"==f.tag))a:{for(var e=f,g=d,k=0,m=g.length;k<m;k++)if(g[k].o==e.n){e.tag="#";e=!0;break a}e=void 0}if(e)c.push(f),
f.nodes=h(a,f.tag,c,d);else if("/"==f.tag){if(0===c.length)throw Error("Closing tag without opener: /"+f.n);e=c.pop();if(a=f.n!=e.n){a:{a=0;for(c=d.length;a<c;a++)if(d[a].c==f.n&&d[a].o==e.n){d=!0;break a}d=void 0}a=!d}if(a)throw Error("Nesting error: "+e.n+" vs. "+f.n);e.end=f.i;return b}b.push(f)}if(0<c.length)throw Error("missing closing tag: "+c.pop().n);return b}function b(a){return a.replace(s,"\\\\").replace(p,'\\"').replace(q,"\\n").replace(m,"\\r")}function g(a){return~a.indexOf(".")?"d":
"f"}function f(a){for(var c="",d=0,e=a.length;d<e;d++){var h=a[d].tag;if("#"==h)var h=a[d].nodes,k=g(a[d].n),m=a[d].i,p=a[d].end,q=a[d].otag+" "+a[d].ctag,h="if(_.s(_."+k+'("'+b(a[d].n)+'",c,p,1),c,p,0,'+m+","+p+',"'+q+'")){_.rs(c,p,function(c,p,_){'+f(h)+"});c.pop();}",c=c+h;else"^"==h?(h=a[d].nodes,h="if(!_.s(_."+g(a[d].n)+'("'+b(a[d].n)+'",c,p,1),c,p,1,0,0,"")){'+f(h)+"};",c+=h):"<"==h||">"==h?c+='_.b(_.rp("'+b(a[d].n)+'",c,p,"'+(a[d].indent||"")+'"));':"{"==h||"&"==h?(h="_.b(_.t(_."+g(a[d].n)+
'("'+b(a[d].n)+'",c,p,0)));',c+=h):"\n"==h?c+='_.b("\\n"'+(a.length-1==d?"":" + i")+");":"_v"==h?(h="_.b(_.v(_."+g(a[d].n)+'("'+b(a[d].n)+'",c,p,0)));',c+=h):void 0===h&&(h='"'+b(a[d])+'"',c+="_.b("+h+");")}return c}var k=/\S/,p=/\"/g,q=/\n/g,m=/\r/g,s=/\\/g,t={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};a.scan=function(a,b){function f(){0<u.length&&(A.push(new String(u)),u="")}function g(a,b){f();var c;if(c=a)a:{c=!0;for(var d=M;d<A.length;d++)if(c=A[d].tag&&t[A[d].tag]<t._v||!A[d].tag&&
null===A[d].match(k),!c){c=!1;break a}}if(c){c=M;for(var e;c<A.length;c++)A[c].tag||((e=A[c+1])&&">"==e.tag&&(e.indent=A[c].toString()),A.splice(c,1))}else b||A.push({tag:"\n"});E=!1;M=A.length}function h(a,b){var c="="+T,e=a.indexOf(c,b),f=d(a.substring(a.indexOf("=",b)+1,e)).split(" ");y=f[0];T=f[1];return e+c.length-1}var m=a.length,p=0,q=null,s=null,u="",A=[],E=!1,K=0,M=0,y="{{",T="}}";b&&(b=b.split(" "),y=b[0],T=b[1]);for(K=0;K<m;K++)0==p?c(y,a,K)?(--K,f(),p=1):"\n"==a.charAt(K)?g(E):u+=a.charAt(K):
1==p?(K+=y.length-1,q=(s=t[a.charAt(K+1)])?a.charAt(K+1):"_v","="==q?(K=h(a,K),p=0):(s&&K++,p=2),E=K):c(T,a,K)?(A.push({tag:q,n:d(u),otag:y,ctag:T,i:"/"==q?E-T.length:K+y.length}),u="",K+=T.length-1,p=0,"{"==q&&("}}"==T?K++:e(A[A.length-1]))):u+=a.charAt(K);g(E,!0);return A};a.generate=function(b,c,d){b='var _=this;_.b(i=i||"");'+f(b)+"return _.fl();";return d.asString?"function(c,p,i){"+b+";}":new a.Template(new Function("c","p","i",b),c,a,d)};a.parse=function(a,b,c){c=c||{};return h(a,"",[],c.sectionTags||
[])};a.cache={};a.compile=function(a,b){b=b||{};var c=a+"||"+!!b.asString,d=this.cache[c];if(d)return d;d=this.generate(this.parse(this.scan(a,b.delimiters),a,b),a,b);return this.cache[c]=d}})("undefined"!==typeof exports?exports:Hogan);
(function(a){var e={key:null,endpoint:"oembed",secure:null,query:{},method:"replace",addImageStyles:!0,wrapElement:"div",className:"embed",batch:20,urlRe:null},d=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,c=function(a){return null===a||void 0===a},h=function(b,c){var d=[],e=[];a.each(b,function(a,b){e.push(b);e.length===c&&(d.push(e),e=[])});0!==e.length&&d.push(e);return d},b=function(b){return c(b)?[]:a.isArray(b)?b:[b]},g=function(b){return a.map(b[0],function(c,
d){return[a.map(b,function(a){return a[d]})]})},f=function(a,b,c){this.init(a,b,c)};f.prototype={init:function(b){this.urls=b;this.count=0;this.results={};this._deferred=a.Deferred()},notify:function(b){this.results[b.original_url]=b;this.count++;this._deferred.notify.apply(this._deferred,[b]);if(this.count===this.urls.length){var c=this;b=a.map(this.urls,function(a){return c.results[a]});this._deferred.resolve(b)}return this},state:function(){return this._deferred.state.apply(this._deferred,arguments)}};
window.Keeper=f;var k=function(){};k.prototype={defaults:{},log:function(a,b){c(window.console)||c(window.console[a])||window.console[a].apply(window.console,[b])},build:function(b,d,e){e=c(e)?{}:e;var f=e.secure;c(f)&&(f="https:"===window.location.protocol?!0:!1);b=(f?"https":"http")+"://api.embed.ly/"+("objectify"===b?"2/":"1/")+b;f=c(e.query)?{}:e.query;f.key=e.key;b+="?"+a.param(f);return b+="&urls="+a.map(d,encodeURIComponent).join(",")},ajax:function(k,p,q){q=a.extend({},e,a.embedly.defaults,
"object"===typeof q&&q);if(c(q.key))return this.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly"),null;p=b(p);var v=new f(p),r=[],z=[],x;a.each(p,function(a,b){x=!1;d.test(b)&&(x=!0,null!==q.urlRe&&q.urlRe.test&&!q.urlRe.test(b)&&(x=!1));!0===x?r.push(b):z.push({url:b,original_url:b,error:!0,invalid:!0,type:"error",error_message:'Invalid URL "'+b+'"'})});p=h(r,q.batch);var w=this;a.each(p,function(b,c){a.ajax({url:w.build(k,c,q),dataType:"jsonp",success:function(b){a.each(g([c,
b]),function(a,b){var c=b[1];c.original_url=b[0];c.invalid=!1;v.notify(c)})}})});z.length&&setTimeout(function(){a.each(z,function(a,b){v.notify(b)})},1);return v._deferred},oembed:function(a,b){return this.ajax("oembed",a,b)},preview:function(a,b){return this.ajax("preview",a,b)},objectify:function(a,b){return this.ajax("objectify",a,b)},extract:function(a,b){return this.ajax("extract",a,b)}};var p=function(){};p.prototype={build:function(b,d,e){e=a.extend({},a.embedly.defaults,"object"===typeof e&&
e);var f=e.secure;c(f)&&(f="https:"===window.location.protocol?!0:!1);b=(f?"https":"http")+"://i.embed.ly/"+("display"===b?"1/":"1/display/")+b;f=c(e.query)?{}:e.query;f.key=e.key;b+="?"+a.param(f);return b+="&url="+encodeURIComponent(d)},display:function(a,b){return this.build("display",a,b)},resize:function(a,b){return this.build("resize",a,b)},fill:function(a,b){return this.build("fill",a,b)},crop:function(a,b){return this.build("crop",a,b)}};var q=function(a,b,c){this.init(a,b,c)};q.prototype=
{init:function(b,c,d){this.elem=b;this.$elem=a(b);this.original_url=c;this.options=d;this.loaded=a.Deferred();var e=this;this.loaded.done(function(){e.$elem.trigger("loaded",[e])});this.$elem.trigger("initialized",[this])},progress:function(b){a.extend(this,b);this.options.display?this.options.display.apply(this.elem,[this,this.elem]):"oembed"===this.options.endpoint&&this.display();this.loaded.resolve(this)},imageStyle:function(){var a=[],b;this.options.addImageStyles&&(this.options.query.maxwidth&&
(b=isNaN(parseInt(this.options.query.maxwidth,10))?"":"px",a.push("max-width: "+this.options.query.maxwidth+b)),this.options.query.maxheight&&(b=isNaN(parseInt(this.options.query.maxheight,10))?"":"px",a.push("max-height: "+this.options.query.maxheight+b)));return a.join(";")},display:function(){if("error"===this.type)return!1;this.style=this.imageStyle();var a;"photo"===this.type?(a="<a href='"+this.original_url+"' target='_blank'>",a+="<img style='"+this.style+"' src='"+this.url+"' alt='"+this.title+
"' /></a>"):"video"===this.type||"rich"===this.type?a=this.html:(this.title=this.title||this.url,a=this.thumbnail_url?"<img src='"+this.thumbnail_url+"' class='thumb' style='"+this.style+"'/>":"",a+="<a href='"+this.original_url+"'>"+this.title+"</a>",a+=this.provider_name?"<a href='"+this.provider_url+"' class='provider'>"+this.provider_name+"</a>":"",a+=this.description?'<div class="description">'+this.description+"</div>":"");this.options.wrapElement&&(a="<"+this.options.wrapElement+' class="'+
this.options.className+'">'+a+"</"+this.options.wrapElement+">");this.code=a;"replace"===this.options.method?this.$elem.replaceWith(this.code):"after"===this.options.method?this.$elem.after(this.code):"afterParent"===this.options.method?this.$elem.parent().after(this.code):"replaceParent"===this.options.method&&this.$elem.parent().replaceWith(this.code);this.$elem.trigger("displayed",[this])}};a.embedly=new k;a.embedly.display=new p;a.fn.embedly=function(b){if(void 0===b||"object"===typeof b){b=a.extend({},
e,a.embedly.defaults,"object"===typeof b&&b);if(c(b.key))return a.embedly.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly"),this.each(a.noop);var d={},f=function(c){if(!a.data(a(c),"embedly")){var e=a(c).attr("href"),f=new q(c,e,b);a.data(c,"embedly",f);d.hasOwnProperty(e)?d[e].push(f):d[e]=[f]}},g=this.each(function(){c(a(this).attr("href"))?a(this).find("a").each(function(){c(a(this).attr("href"))||f(this)}):f(this)}),h=a.embedly.ajax(b.endpoint,a.map(d,
function(a,b){return b}),b).progress(function(b){a.each(d[b.original_url],function(a,c){c.progress(b)})});b.progress&&h.progress(b.progress);b.done&&h.done(b.done);return g}};a.expr[":"].embedly=function(b){return!c(a(b).data("embedly"))};a.fn.display=function(b,d){c(b)&&(b="display");if(void 0===d||"object"===typeof d){d=a.extend({},e,a.embedly.defaults,"object"===typeof d&&d);if(c(d.key))return a.embedly.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly/display"),
this.each(a.noop);var f=function(c){var e=a(c);if(!e.data("display")){var f=e.data("src")||e.attr("href"),f={original_url:f,url:a.embedly.display.build(b,f,d)};e.data("display",f);e.trigger("initialized",[c]);c="<img src='"+f.url+"' />";e.is("a")?e.append(c):e.replaceWith(c)}},g=function(b){return c(a(b).data("src"))&&c(a(b).attr("href"))?!1:!0};return this.each(function(){g(this)?f(this):a(this).find("img,a").each(function(){g(this)&&f(this)})})}};a.expr[":"].display=function(b){return!c(a(b).data("display"))}})(jQuery,
window);
(function(a){function e(e){function b(){e?k.removeData(e):t&&delete d[t]}function g(){p.id=setTimeout(function(){p.fn()},v)}var f=this,k,p={},q=e?a.fn:a,m=arguments,s=4,t=m[1],v=m[2],r=m[3];"string"!==typeof t&&(s--,t=e=0,v=m[1],r=m[2]);e?(k=f.eq(0),k.data(e,p=k.data(e)||{})):t&&(p=d[t]||(d[t]={}));p.id&&clearTimeout(p.id);delete p.id;if(r)p.fn=function(a){"string"===typeof r&&(r=q[r]);!0!==r.apply(f,c.call(m,s))||a?b():g()},g();else{if(p.fn)return void 0===v?b():p.fn(!1===v),!0;b()}}var d={},c=Array.prototype.slice;
a.doTimeout=function(){return e.apply(window,[0].concat(c.call(arguments)))};a.fn.doTimeout=function(){var a=c.call(arguments),b=e.apply(this,["doTimeout"+a[0]].concat(a));return"number"===typeof a[0]||"number"===typeof a[1]?this:b}})(jQuery);
(function(a){function e(){var b;b=a(this);if(!b.data("timeago")){b.data("timeago",{datetime:h.datetime(b)});var c=a.trim(b.text());0<c.length&&b.attr("title",c)}b=b.data("timeago");isNaN(b.datetime)||a(this).text(d(b.datetime));return this}function d(a){return h.inWords(c(a))}function c(a){return(new Date).getTime()-a.getTime()}a.timeago=function(b){return b instanceof Date?d(b):"string"==typeof b?d(a.timeago.parse(b)):d(a.timeago.datetime(b))};var h=a.timeago;a.extend(a.timeago,{settings:{refreshMillis:6E4,
allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},inWords:function(b){function c(b,e){return(a.isFunction(b)?b(e):b).replace(/%d/i,d.numbers&&d.numbers[e]||e)}var d=this.settings.strings,e=d.prefixAgo,h=d.suffixAgo;this.settings.allowFuture&&
(0>b&&(e=d.prefixFromNow,h=d.suffixFromNow),b=Math.abs(b));b/=1E3;var q=b/60,m=q/60,s=m/24,t=s/365;b=45>b&&c(d.seconds,Math.round(b))||90>b&&c(d.minute,1)||45>q&&c(d.minutes,Math.round(q))||90>q&&c(d.hour,1)||24>m&&c(d.hours,Math.round(m))||48>m&&c(d.day,1)||30>s&&c(d.days,Math.floor(s))||60>s&&c(d.month,1)||365>s&&c(d.months,Math.floor(s/30))||2>t&&c(d.year,1)||c(d.years,Math.floor(t));return a.trim([e,b,h].join(" "))},parse:function(b){b=a.trim(b);b=b.replace(/\.\d\d\d/,"");b=b.replace(/-/,"/").replace(/-/,
"/");b=b.replace(/T/," ").replace(/Z/," UTC");b=b.replace(/([\+-]\d\d)\:?(\d\d)/," $1$2");return new Date(b)},datetime:function(b){b="time"==a(b).get(0).tagName.toLowerCase()?a(b).attr("datetime"):a(b).attr("title");return h.parse(b)}});a.fn.timeago=function(){var a=this;a.each(e);var c=h.settings;0<c.refreshMillis&&setInterval(function(){a.each(e)},c.refreshMillis);return a};document.createElement("abbr");document.createElement("time")})(jQuery);
(function(a){var e={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},d="fontFamily fontSize fontWeight fontStyle letterSpacing textTransform wordSpacing textIndent whiteSpace".split(" "),c,h=a('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",
!0)[0];h.style.lineHeight="99px";"99px"===a(h).css("lineHeight")&&d.push("lineHeight");h.style.lineHeight="";a.fn.autosize=function(b){if(!this.length)return this;b=a.extend({},e,b||{});h.parentNode!==document.body&&a(document.body).append(h);return this.each(function(){function e(){var b,c=window.getComputedStyle?window.getComputedStyle(q,null):null;c?(b=parseFloat(c.width),"border-box"!==c.boxSizing&&"border-box"!==c.webkitBoxSizing&&"border-box"!==c.mozBoxSizing||a.each(["paddingLeft","paddingRight",
"borderLeftWidth","borderRightWidth"],function(a,d){b-=parseFloat(c[d])})):b=m.width();h.style.width=Math.max(b,0)+"px"}function f(){var f={};c=q;h.className=b.className;h.id=b.id;s=parseFloat(m.css("maxHeight"));a.each(d,function(a,b){f[b]=m.css(b)});a(h).css(f).attr("wrap",m.attr("wrap"));e();if(window.chrome){var k=q.style.width;q.style.width="0px";q.style.width=k}}function k(){var a,d;c!==q?f():e();h.value=!q.value&&b.placeholder?m.attr("placeholder")||"":q.value;h.value+=b.append||"";h.style.overflowY=
q.style.overflowY;d=parseFloat(q.style.height)||0;h.scrollTop=0;h.scrollTop=9E4;a=h.scrollTop;s&&a>s?(q.style.overflowY="scroll",a=s):(q.style.overflowY="hidden",a<t&&(a=t));a+=v;.01<Math.abs(d-a)&&(q.style.height=a+"px",h.className=h.className,r&&b.callback.call(q,q),m.trigger("autosize.resized"))}function p(){clearTimeout(x);x=setTimeout(function(){var a=m.width();a!==w&&(w=a,k())},parseInt(b.resizeDelay,10))}var q=this,m=a(q),s,t,v=0,r=a.isFunction(b.callback),z={height:q.style.height,overflow:q.style.overflow,
overflowY:q.style.overflowY,wordWrap:q.style.wordWrap,resize:q.style.resize},x,w=m.width(),B=m.css("resize");if(!m.data("autosize")){m.data("autosize",!0);if("border-box"===m.css("box-sizing")||"border-box"===m.css("-moz-box-sizing")||"border-box"===m.css("-webkit-box-sizing"))v=m.outerHeight()-m.height();t=Math.max(parseFloat(m.css("minHeight"))-v||0,m.height());m.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"});"vertical"===B?m.css("resize","none"):"both"===B&&m.css("resize","horizontal");
if("onpropertychange"in q)if("oninput"in q)m.on("input.autosize keyup.autosize",k);else m.on("propertychange.autosize",function(){"value"===event.propertyName&&k()});else m.on("input.autosize",k);if(!1!==b.resizeDelay)a(window).on("resize.autosize",p);m.on("autosize.resize",k);m.on("autosize.resizeIncludeStyle",function(){c=null;k()});m.on("autosize.destroy",function(){c=null;clearTimeout(x);a(window).off("resize",p);m.off("autosize").off(".autosize").css(z).removeData("autosize")});k()}})}})(jQuery||
$);
(function(a){function e(d){"string"===typeof d.data&&(d.data={keys:d.data});if(d.data&&d.data.keys&&"string"===typeof d.data.keys){var c=d.handler,e=d.data.keys.toLowerCase().split(" "),b="text password number email url range date month week time datetime datetime-local search color tel".split(" ");d.handler=function(g){if(d.data.allowInTextInputField||this===g.target||!(/textarea|select/i.test(g.target.nodeName)||-1<a.inArray(g.target.type,b)||a(g.target).prop("isContentEditable"))){var f=a.hotkeys.specialKeys[g.keyCode],k=
0<g.which&&String.fromCharCode(g.which).toLowerCase(),p="",q={};g.altKey&&"alt"!==f&&(p+="alt+");g.ctrlKey&&"ctrl"!==f&&(p+="ctrl+");g.metaKey&&!g.ctrlKey&&"meta"!==f&&(p+="meta+");g.shiftKey&&"shift"!==f&&(p+="shift+");f&&(q[p+f]=!0);k&&(q[p+k]=!0,q[p+a.hotkeys.shiftNums[k]]=!0,"shift+"===p&&(q[a.hotkeys.shiftNums[k]]=!0));f=0;for(k=e.length;f<k;f++)if(q[e[f]])return c.apply(this,arguments)}}}}a.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",
18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",186:";",191:"/",220:"\\",222:"'",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",
5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}};a.each(["keydown","keyup","keypress"],function(){a.event.special[this]={add:e}})})(this.jQuery);
(function(){function a(b,c){function e(a,b){return function(){return a.apply(b,arguments)}}var g;c=c||{};this.trackingClick=!1;this.trackingClickStart=0;this.targetElement=null;this.lastTouchIdentifier=this.touchStartY=this.touchStartX=0;this.touchBoundary=c.touchBoundary||10;this.layer=b;this.tapDelay=c.tapDelay||200;this.tapTimeout=c.tapTimeout||700;if(!a.notNeeded(b)){for(var h="onMouse onClick onTouchStart onTouchMove onTouchEnd onTouchCancel".split(" "),s=0,t=h.length;s<t;s++)this[h[s]]=e(this[h[s]],
this);d&&(b.addEventListener("mouseover",this.onMouse,!0),b.addEventListener("mousedown",this.onMouse,!0),b.addEventListener("mouseup",this.onMouse,!0));b.addEventListener("click",this.onClick,!0);b.addEventListener("touchstart",this.onTouchStart,!1);b.addEventListener("touchmove",this.onTouchMove,!1);b.addEventListener("touchend",this.onTouchEnd,!1);b.addEventListener("touchcancel",this.onTouchCancel,!1);Event.prototype.stopImmediatePropagation||(b.removeEventListener=function(a,c,d){var e=Node.prototype.removeEventListener;
"click"===a?e.call(b,a,c.hijacked||c,d):e.call(b,a,c,d)},b.addEventListener=function(a,c,d){var e=Node.prototype.addEventListener;"click"===a?e.call(b,a,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(b,a,c,d)});"function"===typeof b.onclick&&(g=b.onclick,b.addEventListener("click",function(a){g(a)},!1),b.onclick=null)}}var e=0<=navigator.userAgent.indexOf("Windows Phone"),d=0<navigator.userAgent.indexOf("Android")&&!e,c=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,h=
c&&/OS 4_\d(_\d)?/.test(navigator.userAgent),b=c&&/OS [6-7]_\d/.test(navigator.userAgent),g=0<navigator.userAgent.indexOf("BB10");a.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case "button":case "select":case "textarea":if(a.disabled)return!0;break;case "input":if(c&&"file"===a.type||a.disabled)return!0;break;case "label":case "iframe":case "video":return!0}return/\bneedsclick\b/.test(a.className)};a.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case "textarea":return!0;
case "select":return!d;case "input":switch(a.type){case "button":case "checkbox":case "file":case "image":case "radio":case "submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}};a.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur();d=b.changedTouches[0];c=document.createEvent("MouseEvents");c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,
!1,!1,!1,!1,0,null);c.forwardedTouchEvent=!0;a.dispatchEvent(c)};a.prototype.determineEventType=function(a){return d&&"select"===a.tagName.toLowerCase()?"mousedown":"click"};a.prototype.focus=function(a){var b;c&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type&&"month"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()};a.prototype.updateScrollParent=function(a){var b,c;b=a.fastClickScrollParent;if(!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c;a.fastClickScrollParent=
c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)};a.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a};a.prototype.onTouchStart=function(a){var b,d,e;if(1<a.targetTouches.length)return!0;b=this.getTargetElementFromEventTarget(a.target);d=a.targetTouches[0];if(c){e=window.getSelection();if(e.rangeCount&&!e.isCollapsed)return!0;if(!h){if(d.identifier&&d.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;
this.lastTouchIdentifier=d.identifier;this.updateScrollParent(b)}}this.trackingClick=!0;this.trackingClickStart=a.timeStamp;this.targetElement=b;this.touchStartX=d.pageX;this.touchStartY=d.pageY;a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault();return!0};a.prototype.touchHasMoved=function(a){a=a.changedTouches[0];var b=this.touchBoundary;return Math.abs(a.pageX-this.touchStartX)>b||Math.abs(a.pageY-this.touchStartY)>b?!0:!1};a.prototype.onTouchMove=function(a){if(!this.trackingClick)return!0;
if(this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))this.trackingClick=!1,this.targetElement=null;return!0};a.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};a.prototype.onTouchEnd=function(a){var e,g,q=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<
this.tapDelay)return this.cancelNextClick=!0;if(a.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;this.cancelNextClick=!1;this.lastClickTime=a.timeStamp;e=this.trackingClickStart;this.trackingClick=!1;this.trackingClickStart=0;b&&(g=a.changedTouches[0],q=document.elementFromPoint(g.pageX-window.pageXOffset,g.pageY-window.pageYOffset)||q,q.fastClickScrollParent=this.targetElement.fastClickScrollParent);g=q.tagName.toLowerCase();if("label"===g){if(e=this.findControl(q)){this.focus(q);if(d)return!1;
q=e}}else if(this.needsFocus(q)){if(100<a.timeStamp-e||c&&window.top!==window&&"input"===g)return this.targetElement=null,!1;this.focus(q);this.sendClick(q,a);c&&"select"===g||(this.targetElement=null,a.preventDefault());return!1}if(c&&!h&&(e=q.fastClickScrollParent)&&e.fastClickLastScrollTop!==e.scrollTop)return!0;this.needsClick(q)||(a.preventDefault(),this.sendClick(q,a));return!1};a.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};a.prototype.onMouse=function(a){return this.targetElement&&
!a.forwardedTouchEvent&&a.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0};a.prototype.onClick=function(a){if(this.trackingClick)return this.targetElement=null,this.trackingClick=!1,!0;if("submit"===a.target.type&&0===a.detail)return!0;a=this.onMouse(a);a||(this.targetElement=null);return a};a.prototype.destroy=function(){var a=this.layer;d&&(a.removeEventListener("mouseover",
this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0));a.removeEventListener("click",this.onClick,!0);a.removeEventListener("touchstart",this.onTouchStart,!1);a.removeEventListener("touchmove",this.onTouchMove,!1);a.removeEventListener("touchend",this.onTouchEnd,!1);a.removeEventListener("touchcancel",this.onTouchCancel,!1)};a.notNeeded=function(a){var b,c;if("undefined"===typeof window.ontouchstart)return!0;if(c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||
[,0])[1])if(d){if((b=document.querySelector("meta[name=viewport]"))&&(-1!==b.content.indexOf("user-scalable=no")||31<c&&document.documentElement.scrollWidth<=window.outerWidth))return!0}else return!0;return g&&(b=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),10<=b[1]&&3<=b[2]&&(b=document.querySelector("meta[name=viewport]"))&&(-1!==b.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===a.style.msTouchAction||"manipulation"===a.style.touchAction||
27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&(b=document.querySelector("meta[name=viewport]"))&&(-1!==b.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth)?!0:"none"===a.style.touchAction||"manipulation"===a.style.touchAction?!0:!1};a.attach=function(b,c){return new a(b,c)};"function"===typeof define&&"object"===typeof define.amd&&define.amd?define(function(){return a}):"undefined"!==typeof module&&module.exports?(module.exports=a.attach,
module.exports.FastClick=a):window.FastClick=a})();$(function(){FastClick.attach(document.body)});
(function e$$0(e,d,c){function h(f,g){if(!d[f]){if(!e[f]){var p="function"==typeof require&&require;if(!g&&p)return p(f,!0);if(b)return b(f,!0);p=Error("Cannot find module '"+f+"'");throw p.code="MODULE_NOT_FOUND",p;}p=d[f]={exports:{}};e[f][0].call(p.exports,function(b){var c=e[f][1][b];return h(c?c:b)},p,p.exports,e$$0,e,d,c)}return d[f].exports}for(var b="function"==typeof require&&require,g=0;g<c.length;g++)h(c[g]);return h})({1:[function(a,e,d){(function(c){var d,b;b=a("./util/merge.coffee");
d=function(){function a(b,c){this._projectId=0;this._projectKey="";this._host="https://api.airbrake.io";this._context={};this._params={};this._env={};this._session={};this._processor=b;this._reporters=[];this._filters=[];c&&this.addReporter(c)}a.prototype.setProject=function(a,b){this._projectId=a;return this._projectKey=b};a.prototype.setHost=function(a){return this._host=a};a.prototype.addContext=function(a){return b(this._context,a)};a.prototype.setEnvironmentName=function(a){return this._context.environment=
a};a.prototype.addParams=function(a){return b(this._params,a)};a.prototype.addEnvironment=function(a){return b(this._env,a)};a.prototype.addSession=function(a){return b(this._session,a)};a.prototype.addReporter=function(a){return this._reporters.push(a)};a.prototype.addFilter=function(a){return this._filters.push(a)};a.prototype.push=function(a){var d,e;d={language:"JavaScript",sourceMapEnabled:!0};null!=(e=c.navigator)&&e.userAgent&&(d.userAgent=c.navigator.userAgent);c.location&&(d.url=String(c.location));
return this._processor(a.error||a,function(c){return function(e,g){var h,p,r,z,x;p={notifier:{name:"airbrake-js-"+e,version:"0.3.10",url:"https://github.com/airbrake/airbrake-js"},errors:[g],context:b(d,c._context,a.context),params:b({},c._params,a.params),environment:b({},c._env,a.environment),session:b({},c._session,a.session)};x=c._filters;r=0;for(z=x.length;r<z;r++)if(h=x[r],!h(p))return;x=c._reporters;r=0;for(z=x.length;r<z;r++)h=x[r],h(p,{projectId:c._projectId,projectKey:c._projectKey,host:c._host})}}(this))};
a.prototype._wrapArguments=function(a){var b,c,d,e;c=d=0;for(e=a.length;d<e;c=++d)b=a[c],"function"===typeof b&&(a[c]=this.wrap(b));return a};a.prototype.wrap=function(a){var b,c,d;if(a.__airbrake__)return a;d=this;b=function(){var b,c;b=d._wrapArguments(arguments);try{return a.apply(this,b)}catch(e){return c=e,b=Array.prototype.slice.call(arguments),d.push({error:c,params:{arguments:b}}),null}};for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.__airbrake__=!0;b.__inner__=a;return b};return a}();e.exports=
d}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./util/merge.coffee":10}],2:[function(a,e,d){e="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};var c,h;a("./util/compat.coffee");d=a("./client.coffee");c=a("./processors/stack.coffee");h=a("./reporters/hybrid.coffee");d=new d(c,h);d.consoleReporter=a("./reporters/console.coffee");c=e.Airbrake;e.Airbrake=d;a("./util/slurp_config_from_dom.coffee")(d);
if(null!=c){null!=c.wrap&&(d.wrap=c.wrap);if(null!=c.onload)c.onload(d);e=0;for(h=c.length;e<h;e++)a=c[e],d.push(a)}},{"./client.coffee":1,"./processors/stack.coffee":3,"./reporters/console.coffee":4,"./reporters/hybrid.coffee":5,"./util/compat.coffee":8,"./util/slurp_config_from_dom.coffee":11}],3:[function(a,e,d){var c,h;c=[{name:"v8",re:/^\s*at\s(.+?)\s\((?:(?:(.+):(\d+):(\d+))|(.+))\)$/,fn:function(a){return{"function":a[1],file:a[2]||a[5],line:a[3]&&parseInt(a[3],10)||0,column:a[4]&&parseInt(a[4],
10)||0}}},{name:"firefox30",re:/^(.*)@(.+):(\d+):(\d+)$/,fn:function(a){var c,d,e;d=a[1];c=a[2];if(e=c.match(/^(\S+)\s(line\s\d+\s>\seval.*)$/))d=0<d.length?d+" "+e[2]:e[2],c=e[1];return{"function":d,file:c,line:parseInt(a[3],10),column:parseInt(a[4],10)}}},{name:"firefox14",re:/^(.*)@(.+):(\d+)$/,fn:function(a,c,d){c=0===c?d.columnNumber||0:0;return{"function":a[1],file:a[2],line:parseInt(a[3],10),column:c}}},{name:"v8-short",re:/^\s*at\s(.+):(\d+):(\d+)$/,fn:function(a){return{"function":"",file:a[1],
line:parseInt(a[2],10),column:parseInt(a[3],10)}}},{name:"default",re:/.+/,fn:function(a){return{"function":a[0],file:"",line:0,column:0}}}];h=/^\S+:\s.+$/;e.exports=function(a,d){var e,k,p,q,m,s,t,v,r,z,x;s="nostack";q=(a.stack||"").split("\n");e=[];k=v=0;for(z=q.length;v<z;k=++v)if(p=q[k],""!==p)for(r=0,x=c.length;r<x;r++)if(t=c[r],m=p.match(t.re)){s=t.name;e.push(t.fn(m,k,a));break}("v8"===s||"v8-short"===s)&&0<e.length&&e[0]["function"].match(h)&&(e=e.slice(1));0!==e.length||null==a.fileName&&
null==a.lineNumber&&null==a.columnNumber||e.push({"function":"",file:a.fileName||"",line:parseInt(a.lineNumber,10)||0,column:parseInt(a.columnNumber,10)||0});0!==e.length||null==a.filename&&null==a.lineno&&null==a.column&&null==a.colno||e.push({"function":"",file:a.filename||"",line:parseInt(a.lineno,10)||0,column:parseInt(a.column||a.colno,10)||0});k=null!=a.message?a.message:String(a);null!=a.name?(m=a.name,k=m+": "+k):(m=/^Uncaught\s(.+?):\s.+$/,m=(m=k.match(m))?m[1]:"");return d(s,{type:m,message:k,
backtrace:e})}},{}],4:[function(a,e,d){var c;c=function(a){var b,c,d,e;b=""+(a.message+"\n");e=a.backtrace;c=0;for(d=e.length;c<d;c++)a=e[c],""!==a["function"]&&(b+=" at "+a["function"]),""!==a.file&&(b+=" in "+a.file+":"+a.line,0!==a.column&&(b+=":"+a.column)),b+="\n";return b};e.exports=function(a){var b,d,e,k;e=a.errors;k=[];b=0;for(d=e.length;b<d;b++)a=e[b],k.push("undefined"!==typeof console&&null!==console?"function"===typeof console.log?console.log(c(a)):void 0:void 0);return k}},{}],5:[function(a,
e,d){e.exports="withCredentials"in new XMLHttpRequest?a("./xhr.coffee"):a("./jsonp.coffee")},{"./jsonp.coffee":6,"./xhr.coffee":7}],6:[function(a,e,d){(function(c){var d,b;b=a("../util/jsonify_notice.coffee");d=0;e.exports=function(a,e){var k,p,q,m,s;d++;k="airbrakeCb"+String(d);c[k]=function(a){"undefined"!==typeof console&&null!==console&&"function"===typeof console.debug&&console.debug("airbrake: error #%s was reported: %s",a.id,a.url);try{return delete c[k]}catch(b){return c[k]=void 0}};p=encodeURIComponent(b(a));
s=e.host+"/api/v3/projects/"+e.projectId+"/create-notice?key="+e.projectKey+"&callback="+k+"&body="+p;p=c.document;q=p.getElementsByTagName("head")[0];m=p.createElement("script");m.src=s;p=function(){return q.removeChild(m)};m.onload=p;m.onerror=p;return q.appendChild(m)}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../util/jsonify_notice.coffee":9}],7:[function(a,e,d){(function(c){var d;d=a("../util/jsonify_notice.coffee");
e.exports=function(a,e){var f,k,p;p=e.host+"/api/v3/projects/"+e.projectId+"/notices?key="+e.projectKey;f=d(a);k=new c.XMLHttpRequest;k.open("POST",p,!0);k.setRequestHeader("Content-Type","application/json");k.send(f);return k.onreadystatechange=function(){var a;if(4===k.readyState&&201===k.status&&null!=("undefined"!==typeof console&&null!==console?console.debug:void 0))return a=JSON.parse(k.responseText),console.debug("airbrake: error #%s was reported: %s",a.id,a.url)}}}).call(this,"undefined"!==
typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../util/jsonify_notice.coffee":9}],8:[function(a,e,d){Array.prototype.indexOf||(Array.prototype.indexOf=function(a,d){var b,e,f;b=e=d=d||0;for(f=this.length;d<=f?e<f:e>f;b=d<=f?++e:--e)if(this[b]===a)return b;return-1})},{}],9:[function(a,e,d){var c,h;c=a("./truncate.coffee");h=function(a,d){var e,h;null==d&&(d=1E3);e={};for(h in a)e[h]=c(a[h],d);return e};e.exports=function(a,c,d){var e;null==c&&(c=1E3);
for(null==d&&(d=64E3);;){a.params=h(a.params,c);a.environment=h(a.environment,c);a.session=h(a.session,c);e=JSON.stringify(a);if(e.length<d)return e;if(0===c)break;c=Math.floor(c/2)}throw Error("cannot jsonify notice (length="+e.length+" maxLength="+d+")");}},{"./truncate.coffee":12}],10:[function(a,e,d){e.exports=function(){var a,d,b,e,f,k;e=Array.prototype.slice.call(arguments);a=e.shift()||{};f=0;for(k=e.length;f<k;f++)for(d in b=e[f],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a}},
{}],11:[function(a,e,d){(function(a){var d;d=function(a,c){return a.getAttribute("data-airbrake-"+c)};e.exports=function(b){var e,f,k,p,q,m,s;p=a.document.getElementsByTagName("script");s=[];q=0;for(m=p.length;q<m;q++)f=p[q],e=d(f,"project-id"),k=d(f,"project-key"),e&&k&&b.setProject(e,k),(e=d(f,"environment-name"))&&b.setEnvironmentName(e),(e=d(f,"host"))&&b.setHost(e),(f=d(f,"onload"))?s.push(a[f](b)):s.push(void 0);return s}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?
self:"undefined"!==typeof window?window:{})},{}],12:[function(a,e,d){var c;c=function(a,b){try{return a[b]}catch(c){}};e.exports=function(a,b,d){var e,k,p,q,m;null==b&&(b=1E3);null==d&&(d=5);q=0;p=[];m=[];k=function(a){var b,d,e,f;d=m.indexOf(a);e=[p[d]];for(b=f=d;0>=d?0>=f:0<=f;b=0>=d?++f:--f)m[b]&&c(m[b],e[0])===a&&(a=m[b],e.unshift(p[b]));return"~"+e.join(".")};e=function(a,h,v){var r,z,x,w;null==h&&(h="");null==v&&(v=0);q++;if(q>b)return"[Truncated]";if(null===a||void 0===a)return a;switch(typeof a){case "boolean":case "number":case "string":case "function":return a;
case "object":break;default:return String(a)}if(a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp)return a;if(0<=m.indexOf(a))return"[Circular "+k(a)+"]";v++;if(v>d)return"[Truncated]";p.push(h);m.push(a);q--;if("[object Array]"===Object.prototype.toString.apply(a)){r=[];z=x=0;for(w=a.length;x<w;z=++x){h=a[z];q++;if(q>=b)break;r.push(e(h,z,v))}return r}r={};for(h in a)if(Object.prototype.hasOwnProperty.call(a,h)){q++;if(q>=b)break;z=c(a,h);void 0!==
z&&(r[h]=e(z,h,v))}return r};return e(a)}},{}]},{},[2]);
!function(a,e){"undefined"!=typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):this[a]=e()}("bowser",function(){function a(a){function c(b){return(b=a.match(b))&&1<b.length&&b[1]||""}function e(b){return(b=a.match(b))&&1<b.length&&b[2]||""}var b=c(/(ipod|iphone|ipad)/i).toLowerCase(),g=!/like android/i.test(a)&&/android/i.test(a),f=/CrOS/.test(a),k=c(/edge\/(\d+(\.\d+)?)/i),p=c(/version\/(\d+(\.\d+)?)/i),q=/tablet/i.test(a),m=!q&&/[^-]mobi/i.test(a);/opera|opr/i.test(a)?
f={name:"Opera",opera:!0,version:p||c(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(a)?f={name:"Yandex Browser",yandexbrowser:!0,version:p||c(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(a)?(f={name:"Windows Phone",windowsphone:!0},k?(f.msedge=!0,f.version=k):(f.msie=!0,f.version=c(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(a)?f={name:"Internet Explorer",msie:!0,version:c(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:f?f={name:"Chrome",chromeBook:!0,chrome:!0,version:c(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:
/chrome.+? edge/i.test(a)?f={name:"Microsoft Edge",msedge:!0,version:k}:/chrome|crios|crmo/i.test(a)?f={name:"Chrome",chrome:!0,version:c(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:b?(f={name:"iphone"==b?"iPhone":"ipad"==b?"iPad":"iPod"},p&&(f.version=p)):/sailfish/i.test(a)?f={name:"Sailfish",sailfish:!0,version:c(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(a)?f={name:"SeaMonkey",seamonkey:!0,version:c(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(a)?(f={name:"Firefox",firefox:!0,
version:c(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(a)&&(f.firefoxos=!0)):/silk/i.test(a)?f={name:"Amazon Silk",silk:!0,version:c(/silk\/(\d+(\.\d+)?)/i)}:g?f={name:"Android",version:p}:/phantom/i.test(a)?f={name:"PhantomJS",phantom:!0,version:c(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(a)||/rim\stablet/i.test(a)?f={name:"BlackBerry",blackberry:!0,version:p||c(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(a)?(f={name:"WebOS",
webos:!0,version:p||c(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(a)&&(f.touchpad=!0)):f=/bada/i.test(a)?{name:"Bada",bada:!0,version:c(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(a)?{name:"Tizen",tizen:!0,version:c(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||p}:/safari/i.test(a)?{name:"Safari",safari:!0,version:p}:{name:c(/^(.*)\/(.*) /),version:e(/^(.*)\/(.*) /)};!f.msedge&&/(apple)?webkit/i.test(a)?(f.name=f.name||"Webkit",f.webkit=!0,!f.version&&p&&(f.version=p)):!f.opera&&/gecko\//i.test(a)&&
(f.name=f.name||"Gecko",f.gecko=!0,f.version=f.version||c(/gecko\/(\d+(\.\d+)?)/i));f.msedge||!g&&!f.silk?b&&(f[b]=!0,f.ios=!0):f.android=!0;k="";f.windowsphone?k=c(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):b?(k=c(/os (\d+([_\s]\d+)*) like mac os x/i),k=k.replace(/[_\s]/g,".")):g?k=c(/android[ \/-](\d+(\.\d+)*)/i):f.webos?k=c(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):f.blackberry?k=c(/rim\stablet\sos\s(\d+(\.\d+)*)/i):f.bada?k=c(/bada\/(\d+(\.\d+)*)/i):f.tizen&&(k=c(/tizen[\/\s](\d+(\.\d+)*)/i));k&&(f.osversion=
k);k=k.split(".")[0];if(q||"ipad"==b||g&&(3==k||4==k&&!m)||f.silk)f.tablet=!0;else if(m||"iphone"==b||"ipod"==b||g||f.blackberry||f.webos||f.bada)f.mobile=!0;f.msedge||f.msie&&10<=f.version||f.yandexbrowser&&15<=f.version||f.chrome&&20<=f.version||f.firefox&&20<=f.version||f.safari&&6<=f.version||f.opera&&10<=f.version||f.ios&&f.osversion&&6<=f.osversion.split(".")[0]||f.blackberry&&10.1<=f.version?f.a=!0:f.msie&&10>f.version||f.chrome&&20>f.version||f.firefox&&20>f.version||f.safari&&6>f.version||
f.opera&&10>f.version||f.ios&&f.osversion&&6>f.osversion.split(".")[0]?f.c=!0:f.x=!0;return f}var e=a("undefined"!==typeof navigator?navigator.userAgent:"");e.test=function(a){for(var c=0;c<a.length;++c){var h=a[c];if("string"===typeof h&&h in e)return!0}return!1};e._detect=a;return e});
(function(a){a.fn.extend({autocomplete:function(e,d){var c="string"==typeof e;d=a.extend({},a.Autocompleter.defaults,{url:c?e:null,data:c?null:e,delay:c?a.Autocompleter.defaults.delay:10,max:d&&!d.scroll?10:150},d);d.highlight=d.highlight||function(a){return a};d.formatMatch=d.formatMatch||d.formatItem;return this.each(function(){new a.Autocompleter(this,d)})},result:function(a){return this.bind("result",a)},search:function(a){return this.trigger("search",[a])},flushCache:function(){return this.trigger("flushCache")},
setOptions:function(a){return this.trigger("setOptions",[a])},unautocomplete:function(){return this.trigger("unautocomplete")}});a.Autocompleter=function(e,d){function c(){var c=w.selected();if(!c)return!1;var g=c.result;t=g;if(d.multiple){var h=b(m.val());if(1<h.length){var k=d.multipleSeparator.length,p=a(e).selection().start,q,r=0;a.each(h,function(a,b){r+=b.length;if(p<=r)return q=a,!1;r+=k});h[q]=g;g=h.join(d.multipleSeparator)}g+=d.multipleSeparator}m.val(g);f();m.trigger("result",[c.data,c.value]);
return!0}function h(a,b){if(z==q.DEL)w.hide();else{var c=m.val();if(b||c!=t)t=c,c=g(c),c.length>=d.minChars?(m.addClass(d.loadingClass),d.matchCase||(c=c.toLowerCase()),p(c,k,f)):(m.removeClass(d.loadingClass),w.hide())}}function b(b){return b?d.multiple?a.map(b.split(d.multipleSeparator),function(c){return a.trim(b).length?a.trim(c):null}):[a.trim(b)]:[""]}function g(c){if(!d.multiple)return c;var f=b(c);if(1==f.length)return f[0];f=a(e).selection().start;f=f==c.length?b(c):b(c.replace(c.substring(f),
""));return f[f.length-1]}function f(){w.visible();w.hide();clearTimeout(s);m.removeClass(d.loadingClass);d.mustMatch&&m.search(function(a){a||(d.multiple?(a=b(m.val()).slice(0,-1),m.val(a.join(d.multipleSeparator)+(a.length?d.multipleSeparator:""))):(m.val(""),m.trigger("result",null)))})}function k(b,c){if(c&&c.length&&r){m.removeClass(d.loadingClass);w.display(c,b);var h=c[0].value;d.autoFill&&g(m.val()).toLowerCase()==b.toLowerCase()&&z!=q.BACKSPACE&&(m.val(m.val()+h.substring(g(t).length)),a(e).selection(t.length,
t.length+h.length));w.show()}else f()}function p(b,c,f){d.matchCase||(b=b.toLowerCase());var h=v.load(b);if(h&&h.length)c(b,h);else if("string"==typeof d.url&&0<d.url.length){var k={timestamp:+new Date};a.each(d.extraParams,function(a,b){k[a]="function"==typeof b?b():b});a.ajax({mode:"abort",port:"autocomplete"+e.name,dataType:d.dataType,url:d.url,data:a.extend({q:g(b),limit:d.max},k),success:function(e){var f;if(!(f=d.parse&&d.parse(e))){f=[];e=e.split("\n");for(var g=0;g<e.length;g++){var h=a.trim(e[g]);
h&&(h=h.split("|"),f[f.length]={data:h,value:h[0],result:d.formatResult&&d.formatResult(h,h[0])||h[0]})}}v.add(b,f);c(b,f)}})}else w.emptyList(),f(b)}var q={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8},m=a(e).attr("autocomplete","off").addClass(d.inputClass),s,t="",v=a.Autocompleter.Cache(d),r=0,z,x={mouseDownOnSelect:!1},w=a.Autocompleter.Select(d,e,c,x),B;a.browser.opera&&a(e.form).bind("submit.autocomplete",function(){if(B)return B=!1});m.bind((a.browser.opera?
"keypress":"keydown")+".autocomplete",function(b){r=1;z=b.keyCode;switch(b.keyCode){case q.UP:b.preventDefault();w.visible()?w.prev():h(0,!0);break;case q.DOWN:b.preventDefault();w.visible()?w.next():h(0,!0);break;case q.PAGEUP:b.preventDefault();w.visible()?w.pageUp():h(0,!0);break;case q.PAGEDOWN:b.preventDefault();w.visible()?w.pageDown():h(0,!0);break;case d.multiple&&","==a.trim(d.multipleSeparator)&&q.COMMA:case q.TAB:case q.RETURN:if(c())return b.preventDefault(),B=!0,!1;break;case q.ESC:w.hide();
break;default:clearTimeout(s),s=setTimeout(h,d.delay)}}).focus(function(){r++}).blur(function(){r=0;x.mouseDownOnSelect||(clearTimeout(s),s=setTimeout(f,200))}).click(function(){1<r++&&!w.visible()&&h(0,!0)}).bind("search",function(){function c(a,b){var e;if(b&&b.length)for(var f=0;f<b.length;f++)if(b[f].result.toLowerCase()==a.toLowerCase()){e=b[f];break}"function"==typeof d?d(e):m.trigger("result",e&&[e.data,e.value])}var d=1<arguments.length?arguments[1]:null;a.each(b(m.val()),function(a,b){p(b,
c,c)})}).bind("flushCache",function(){v.flush()}).bind("setOptions",function(b,c){a.extend(d,c);"data"in c&&v.populate()}).bind("unautocomplete",function(){w.unbind();m.unbind();a(e.form).unbind(".autocomplete")})};a.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:!1,matchSubset:!0,matchContains:!1,cacheLength:10,max:100,mustMatch:!1,extraParams:{},selectFirst:!0,formatItem:function(a){return a[0]},formatMatch:null,autoFill:!1,
width:0,multiple:!1,multipleSeparator:", ",highlight:function(a,d){return a.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+d.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:!0,scrollHeight:180};a.Autocompleter.Cache=function(e){function d(a,b){e.matchCase||(a=a.toLowerCase());var c=a.indexOf(b);"word"==e.matchContains&&(c=a.toLowerCase().search("\\b"+b.toLowerCase()));return-1==c?!1:0==c||e.matchContains}function c(a,c){f>e.cacheLength&&
b();g[a]||f++;g[a]=c}function h(){if(!e.data)return!1;var b={},d=0;e.url||(e.cacheLength=1);b[""]=[];for(var f=0,g=e.data.length;f<g;f++){var h=e.data[f],h="string"==typeof h?[h]:h,t=e.formatMatch(h,f+1,e.data.length);if(!1!==t){var v=t.charAt(0).toLowerCase();b[v]||(b[v]=[]);h={value:t,data:h,result:e.formatResult&&e.formatResult(h)||t};b[v].push(h);d++<e.max&&b[""].push(h)}}a.each(b,function(a,b){e.cacheLength++;c(a,b)})}function b(){g={};f=0}var g={},f=0;setTimeout(h,25);return{flush:b,add:c,populate:h,
load:function(b){if(!e.cacheLength||!f)return null;if(!e.url&&e.matchContains){var c=[],h;for(h in g)if(0<h.length){var m=g[h];a.each(m,function(a,e){d(e.value,b)&&c.push(e)})}return c}if(g[b])return g[b];if(e.matchSubset)for(h=b.length-1;h>=e.minChars;h--)if(m=g[b.substr(0,h)])return c=[],a.each(m,function(a,e){d(e.value,b)&&(c[c.length]=e)}),c;return null}}};a.Autocompleter.Select=function(e,d,c,h){function b(){t&&(v=a("<div/>").hide().addClass(e.resultsClass).css("position","absolute").appendTo(document.body),
r=a("<ul/>").appendTo(v).mouseover(function(b){g(b).nodeName&&"LI"==g(b).nodeName.toUpperCase()&&(q=a("li",r).removeClass(k.ACTIVE).index(g(b)),a(g(b)).addClass(k.ACTIVE))}).click(function(b){a(g(b)).addClass(k.ACTIVE);c();d.focus();return!1}).mousedown(function(){h.mouseDownOnSelect=!0}).mouseup(function(){h.mouseDownOnSelect=!1}),0<e.width&&v.css("width",e.width),t=!1)}function g(a){for(a=a.target;a&&"LI"!=a.tagName;)a=a.parentNode;return a?a:[]}function f(a){p.slice(q,q+1).removeClass(k.ACTIVE);
q+=a;0>q?q=p.size()-1:q>=p.size()&&(q=0);a=p.slice(q,q+1).addClass(k.ACTIVE);if(e.scroll){var b=0;p.slice(0,q).each(function(){b+=this.offsetHeight});b+a[0].offsetHeight-r.scrollTop()>r[0].clientHeight?r.scrollTop(b+a[0].offsetHeight-r.innerHeight()):b<r.scrollTop()&&r.scrollTop(b)}}var k={ACTIVE:"ac_over"},p,q=-1,m,s="",t=!0,v,r;return{display:function(c,d){b();m=c;s=d;r.empty();var f;f=m.length;f=e.max&&e.max<f?e.max:f;for(var g=0;g<f;g++)if(m[g]){var h=e.formatItem(m[g].data,g+1,f,m[g].value,s);
!1!==h&&(h=a("<li/>").html(e.highlight(h,s)).addClass(0==g%2?"ac_even":"ac_odd").appendTo(r)[0],a.data(h,"ac_data",m[g]))}p=r.find("li");e.selectFirst&&(p.slice(0,1).addClass(k.ACTIVE),q=0);a.fn.bgiframe&&r.bgiframe()},next:function(){f(1)},prev:function(){f(-1)},pageUp:function(){0!=q&&0>q-8?f(-q):f(-8)},pageDown:function(){q!=p.size()-1&&q+8>p.size()?f(p.size()-1-q):f(8)},hide:function(){v&&v.hide();p&&p.removeClass(k.ACTIVE);q=-1},visible:function(){return v&&v.is(":visible")},current:function(){return this.visible()&&
(p.filter("."+k.ACTIVE)[0]||e.selectFirst&&p[0])},show:function(){var b=a(d).offset();v.css({width:"string"==typeof e.width||0<e.width?e.width:a(d).width(),top:b.top+d.offsetHeight,left:b.left}).show();if(e.scroll&&(r.scrollTop(0),r.css({maxHeight:e.scrollHeight,overflow:"auto"}),a.browser.msie&&"undefined"===typeof document.body.style.maxHeight)){var c=0;p.each(function(){c+=this.offsetHeight});b=c>e.scrollHeight;r.css("height",b?e.scrollHeight:c);b||p.width(r.width()-parseInt(p.css("padding-left"))-
parseInt(p.css("padding-right")))}},selected:function(){var b=p&&p.filter("."+k.ACTIVE).removeClass(k.ACTIVE);return b&&b.length&&a.data(b[0],"ac_data")},emptyList:function(){r&&r.empty()},unbind:function(){v&&v.remove()}}};a.fn.selection=function(a,d){if(void 0!==a)return this.each(function(){if(this.createTextRange){var b=this.createTextRange();void 0===d||a==d?b.move("character",a):(b.collapse(!0),b.moveStart("character",a),b.moveEnd("character",d));b.select()}else this.setSelectionRange?this.setSelectionRange(a,
d):this.selectionStart&&(this.selectionStart=a,this.selectionEnd=d)});var c=this[0];if(c.createTextRange){var h=document.selection.createRange(),b=c.value,g=h.text.length;h.text="<->";h=c.value.indexOf("<->");c.value=b;this.selection(h,h+g);return{start:h,end:h+g}}if(void 0!==c.selectionStart)return{start:c.selectionStart,end:c.selectionEnd}}})(jQuery);
(function(){void 0===Function.prototype.scopedTo&&(Function.prototype.scopedTo=function(a,d){var c=this;return function(){return c.apply(a,Array.prototype.slice.call(d||[]).concat(Array.prototype.slice.call(arguments)))}});var a=function(e,d){this.options=d||{};this.key=e;this.channels=new a.Channels;this.global_emitter=new a.EventsDispatcher;var c=this;this.checkAppKey();this.connection=new a.Connection(this.key,this.options);this.connection.bind("connected",function(){c.subscribeAll()}).bind("message",
function(a){var b=0===a.event.indexOf("pusher_internal:");if(a.channel){var d;(d=c.channel(a.channel))&&d.emit(a.event,a.data)}b||c.global_emitter.emit(a.event,a.data)}).bind("disconnected",function(){c.channels.disconnect()}).bind("error",function(c){a.warn("Error",c)});a.instances.push(this);a.isReady&&c.connect()};a.instances=[];a.prototype={channel:function(a){return this.channels.find(a)},connect:function(){this.connection.connect()},disconnect:function(){this.connection.disconnect()},bind:function(a,
d){this.global_emitter.bind(a,d);return this},bind_all:function(a){this.global_emitter.bind_all(a);return this},subscribeAll:function(){for(channelName in this.channels.channels)this.channels.channels.hasOwnProperty(channelName)&&this.subscribe(channelName)},subscribe:function(a){var d=this,c=this.channels.add(a,this);"connected"===this.connection.state&&c.authorize(this.connection.socket_id,this.options,function(h,b){h?c.emit("pusher:subscription_error",b):d.send_event("pusher:subscribe",{channel:a,
auth:b.auth,channel_data:b.channel_data})});return c},unsubscribe:function(a){this.channels.remove(a);"connected"===this.connection.state&&this.send_event("pusher:unsubscribe",{channel:a})},send_event:function(a,d,c){return this.connection.send_event(a,d,c)},checkAppKey:function(){null!==this.key&&void 0!==this.key||a.warn("Warning","You must pass your app key when you instantiate Pusher.")}};a.Util={extend:function d(a,h){for(var b in h)a[b]=h[b]&&h[b].constructor&&h[b].constructor===Object?d(a[b]||
{},h[b]):h[b];return a},stringify:function(){for(var a=["Pusher"],c=0;c<arguments.length;c++)"string"===typeof arguments[c]?a.push(arguments[c]):void 0==window.JSON?a.push(arguments[c].toString()):a.push(JSON.stringify(arguments[c]));return a.join(" : ")},arrayIndexOf:function(a,c){var h=Array.prototype.indexOf;if(null==a)return-1;if(h&&a.indexOf===h)return a.indexOf(c);i=0;for(l=a.length;i<l;i++)if(a[i]===c)return i;return-1}};a.debug=function(){a.log&&a.log(a.Util.stringify.apply(this,arguments))};
a.warn=function(){window.console&&window.console.warn?window.console.warn(a.Util.stringify.apply(this,arguments)):a.log&&a.log(a.Util.stringify.apply(this,arguments))};a.VERSION="1.12.1";a.host="ws.pusherapp.com";a.ws_port=80;a.wss_port=443;a.channel_auth_endpoint="/pusher/auth";a.cdn_http="http://js.pusher.com/";a.cdn_https="https://d3dy5gmtp8yhk7.cloudfront.net/";a.dependency_suffix=".min";a.channel_auth_transport="ajax";a.activity_timeout=12E4;a.pong_timeout=3E4;a.isReady=!1;a.ready=function(){a.isReady=
!0;for(var d=0,c=a.instances.length;d<c;d++)a.instances[d].connect()};this.Pusher=a}).call(this);
(function(){function a(a){this.callbacks={};this.global_callbacks=[];this.failThrough=a}a.prototype.bind=function(a,d){this.callbacks[a]=this.callbacks[a]||[];this.callbacks[a].push(d);return this};a.prototype.unbind=function(a,d){if(this.callbacks[a]){var c=Pusher.Util.arrayIndexOf(this.callbacks[a],d);this.callbacks[a].splice(c,1)}return this};a.prototype.emit=function(a,d){for(var c=0;c<this.global_callbacks.length;c++)this.global_callbacks[c](a,d);var h=this.callbacks[a];if(h)for(c=0;c<h.length;c++)h[c](d);
else this.failThrough&&this.failThrough(a,d);return this};a.prototype.bind_all=function(a){this.global_callbacks.push(a);return this};this.Pusher.EventsDispatcher=a}).call(this);
(function(){function a(a,d,b){if(void 0!==d[a])d[a](b)}function e(a,e,b){d.EventsDispatcher.call(this);this.state=void 0;this.errors=[];this.stateActions=b;this.transitions=e;this.transition(a)}var d=this.Pusher;e.prototype.transition=function(c,e){var b=this.state,g=this.stateActions;if(b&&-1==d.Util.arrayIndexOf(this.transitions[b],c))throw this.emit("invalid_transition_attempt",{oldState:b,newState:c}),Error("Invalid transition ["+b+" to "+c+"]");a(b+"Exit",g,e);a(b+"To"+(c.substr(0,1).toUpperCase()+
c.substr(1)),g,e);a(c+"Pre",g,e);this.state=c;this.emit("state_change",{oldState:b,newState:c});a(c+"Post",g,e)};e.prototype.is=function(a){return this.state===a};e.prototype.isNot=function(a){return this.state!==a};d.Util.extend(e.prototype,d.EventsDispatcher.prototype);this.Pusher.Machine=e}).call(this);
(function(){var a=function(){var a=this;Pusher.EventsDispatcher.call(this);void 0!==window.addEventListener&&(window.addEventListener("online",function(){a.emit("online",null)},!1),window.addEventListener("offline",function(){a.emit("offline",null)},!1))};a.prototype.isOnLine=function(){return void 0===window.navigator.onLine?!0:window.navigator.onLine};Pusher.Util.extend(a.prototype,Pusher.EventsDispatcher.prototype);this.Pusher.NetInfo=a}).call(this);
(function(){function a(a){a.connectionWait=0;a.openTimeout="flash"===d.TransportType?5E3:2E3;a.connectedTimeout=2E3;a.connectionSecure=a.compulsorySecure;a.connectionAttempts=0}function e(e,m){function s(){u.connectionWait<f&&(u.connectionWait+=h);u.openTimeout<k&&(u.openTimeout+=b);u.connectedTimeout<p&&(u.connectedTimeout+=g);!0!==u.compulsorySecure&&(u.connectionSecure=!u.connectionSecure);u.connectionAttempts++}function t(){u._machine.transition("impermanentlyClosing")}function v(){u._activityTimer&&
clearTimeout(u._activityTimer);u._activityTimer=setTimeout(function(){u.send_event("pusher:ping",{});u._activityTimer=setTimeout(function(){u.socket.close()},u.options.pong_timeout||d.pong_timeout)},u.options.activity_timeout||d.activity_timeout)}function r(){var a=u.connectionWait;if(0===a&&u.connectedAt){var b=(new Date).getTime()-u.connectedAt;1E3>b&&(a=1E3-b)}return a}function z(){u._machine.transition("open")}function x(a){a=B(a);if(void 0!==a)if("pusher:connection_established"===a.event)u._machine.transition("connected",
a.data.socket_id);else if("pusher:error"===a.event){var b=a.data.code;u.emit("error",{type:"PusherError",data:{code:b,message:a.data.message}});4E3===b?(u.compulsorySecure=!0,u.connectionSecure=!0,u.options.encrypted=!0,t()):4100>b?u._machine.transition("permanentlyClosing"):4200>b?(u.connectionWait=1E3,u._machine.transition("waiting")):4300>b?t():u._machine.transition("permanentlyClosing")}}function w(a){v();a=B(a);if(void 0!==a){d.debug("Event recd",a);switch(a.event){case "pusher:error":u.emit("error",
{type:"PusherError",data:a.data});break;case "pusher:ping":u.send_event("pusher:pong",{})}u.emit("message",a)}}function B(a){try{var b=JSON.parse(a.data);if("string"===typeof b.data)try{b.data=JSON.parse(b.data)}catch(c){if(!(c instanceof SyntaxError))throw c;}return b}catch(d){u.emit("error",{type:"MessageParseError",error:d,data:a.data})}}function C(){u._machine.transition("waiting")}function I(a){u.emit("error",{type:"WebSocketError",error:a})}function D(a,b){var c=u.state;u.state=a;c!==a&&(d.debug("State changed",
c+" -> "+a),u.emit("state_change",{previous:c,current:a}),u.emit(a,b))}var u=this;d.EventsDispatcher.call(this);this.options=d.Util.extend({encrypted:!1},m);this.netInfo=new d.NetInfo;this.netInfo.bind("online",function(){u._machine.is("waiting")&&(u._machine.transition("connecting"),D("connecting"))});this.netInfo.bind("offline",function(){u._machine.is("connected")&&(u.socket.onclose=void 0,u.socket.onmessage=void 0,u.socket.onerror=void 0,u.socket.onopen=void 0,u.socket.close(),u.socket=void 0,
u._machine.transition("waiting"))});this._machine=new d.Machine("initialized",c,{initializedPre:function(){u.compulsorySecure=u.options.encrypted;u.key=e;u.socket=null;u.socket_id=null;u.state="initialized"},waitingPre:function(){0<u.connectionWait&&u.emit("connecting_in",u.connectionWait);u.netInfo.isOnLine()&&4>=u.connectionAttempts?D("connecting"):D("unavailable");u.netInfo.isOnLine()&&(u._waitingTimer=setTimeout(function(){u._machine.transition("connecting")},r()))},waitingExit:function(){clearTimeout(u._waitingTimer)},
connectingPre:function(){if(!1===u.netInfo.isOnLine())u._machine.transition("waiting"),D("unavailable");else{var a;a=d.ws_port;var b="ws://";if(u.connectionSecure||"https:"===document.location.protocol)a=d.wss_port,b="wss://";a=b+d.host+":"+a+"/app/"+u.key+"?protocol=5&client=js&version="+d.VERSION+"&flash="+("flash"===d.TransportType?"true":"false");d.debug("Connecting",a);u.socket=new d.Transport(a);u.socket.onopen=z;u.socket.onclose=C;u.socket.onerror=I;u._connectingTimer=setTimeout(t,u.openTimeout)}},
connectingExit:function(){clearTimeout(u._connectingTimer);u.socket.onopen=void 0},connectingToWaiting:function(){s()},connectingToImpermanentlyClosing:function(){s()},openPre:function(){u.socket.onmessage=x;u.socket.onerror=I;u.socket.onclose=C;u._openTimer=setTimeout(t,u.connectedTimeout)},openExit:function(){clearTimeout(u._openTimer);u.socket.onmessage=void 0},openToWaiting:function(){s()},openToImpermanentlyClosing:function(){s()},connectedPre:function(b){u.socket_id=b;u.socket.onmessage=w;u.socket.onerror=
I;u.socket.onclose=C;a(u);u.connectedAt=(new Date).getTime();v()},connectedPost:function(){D("connected")},connectedExit:function(){u._activityTimer&&clearTimeout(u._activityTimer);D("disconnected")},impermanentlyClosingPost:function(){u.socket&&(u.socket.onclose=C,u.socket.close())},permanentlyClosingPost:function(){u.socket?(u.socket.onclose=function(){a(u);u._machine.transition("permanentlyClosed")},u.socket.close()):(a(u),u._machine.transition("permanentlyClosed"))},failedPre:function(){D("failed");
d.debug("WebSockets are not available in this browser.")},permanentlyClosedPost:function(){D("disconnected")}})}var d=this.Pusher,c={initialized:["waiting","failed"],waiting:["connecting","permanentlyClosed"],connecting:["open","permanentlyClosing","impermanentlyClosing","waiting"],open:["connected","permanentlyClosing","impermanentlyClosing","waiting"],connected:["permanentlyClosing","waiting"],impermanentlyClosing:["waiting","permanentlyClosing"],permanentlyClosing:["permanentlyClosed"],permanentlyClosed:["waiting"],
failed:["permanentlyClosed"]},h=2E3,b=2E3,g=2E3,f=5*h,k=5*b,p=5*g;e.prototype.connect=function(){null===d.Transport||void 0===d.Transport?this._machine.transition("failed"):this._machine.is("initialized")?(a(this),this._machine.transition("waiting")):this._machine.is("waiting")&&!0===this.netInfo.isOnLine()?this._machine.transition("connecting"):this._machine.is("permanentlyClosed")&&(a(this),this._machine.transition("waiting"))};e.prototype.send=function(a){if(this._machine.is("connected")){var b=
this;setTimeout(function(){b.socket.send(a)},0);return!0}return!1};e.prototype.send_event=function(a,b,c){a={event:a,data:b};c&&(a.channel=c);d.debug("Event sent",a);return this.send(JSON.stringify(a))};e.prototype.disconnect=function(){this._machine.is("permanentlyClosed")||(this._machine.is("waiting")||this._machine.is("failed")?this._machine.transition("permanentlyClosed"):this._machine.transition("permanentlyClosing"))};d.Util.extend(e.prototype,d.EventsDispatcher.prototype);this.Pusher.Connection=
e}).call(this);
(function(){Pusher.Channels=function(){this.channels={}};Pusher.Channels.prototype={add:function(a,d){var c=this.find(a);c||(c=Pusher.Channel.factory(a,d),this.channels[a]=c);return c},find:function(a){return this.channels[a]},remove:function(a){delete this.channels[a]},disconnect:function(){for(var a in this.channels)this.channels[a].disconnect()}};Pusher.Channel=function(a,d){var c=this;Pusher.EventsDispatcher.call(this,function(c){Pusher.debug("No callbacks on "+a+" for "+c)});this.pusher=d;this.name=
a;this.subscribed=!1;this.bind("pusher_internal:subscription_succeeded",function(a){c.onSubscriptionSucceeded(a)})};Pusher.Channel.prototype={init:function(){},disconnect:function(){this.subscribed=!1;this.emit("pusher_internal:disconnected")},onSubscriptionSucceeded:function(){this.subscribed=!0;this.emit("pusher:subscription_succeeded")},authorize:function(a,d,c){return c(!1,{})},trigger:function(a,d){return this.pusher.send_event(a,d,this.name)}};Pusher.Util.extend(Pusher.Channel.prototype,Pusher.EventsDispatcher.prototype);
Pusher.Channel.PrivateChannel={authorize:function(a,d,c){var h=this;return(new Pusher.Channel.Authorizer(this,Pusher.channel_auth_transport,d)).authorize(a,function(a,d){a||h.emit("pusher_internal:authorized",d);c(a,d)})}};Pusher.Channel.PresenceChannel={init:function(){this.members=new a(this)},onSubscriptionSucceeded:function(){this.subscribed=!0}};var a=function(a){var d=this,c=function(){this._members_map={};this.count=0;this.me=null};c.call(this);a.bind("pusher_internal:authorized",function(c){var b=
JSON.parse(c.channel_data);a.bind("pusher_internal:subscription_succeeded",function(c){d._members_map=c.presence.hash;d.count=c.presence.count;d.me=d.get(b.user_id);a.emit("pusher:subscription_succeeded",d)})});a.bind("pusher_internal:member_added",function(c){null===d.get(c.user_id)&&d.count++;d._members_map[c.user_id]=c.user_info;a.emit("pusher:member_added",d.get(c.user_id))});a.bind("pusher_internal:member_removed",function(c){var b=d.get(c.user_id);b&&(delete d._members_map[c.user_id],d.count--,
a.emit("pusher:member_removed",b))});a.bind("pusher_internal:disconnected",function(){c.call(d)})};a.prototype={each:function(a){for(var d in this._members_map)a(this.get(d))},get:function(a){return this._members_map.hasOwnProperty(a)?{id:a,info:this._members_map[a]}:null}};Pusher.Channel.factory=function(a,d){var c=new Pusher.Channel(a,d);0===a.indexOf("private-")?Pusher.Util.extend(c,Pusher.Channel.PrivateChannel):0===a.indexOf("presence-")&&(Pusher.Util.extend(c,Pusher.Channel.PrivateChannel),
Pusher.Util.extend(c,Pusher.Channel.PresenceChannel));c.init();return c}}).call(this);
(function(){Pusher.Channel.Authorizer=function(a,e,d){this.channel=a;this.type=e;this.authOptions=(d||{}).auth||{}};Pusher.Channel.Authorizer.prototype={composeQuery:function(a){a="&socket_id="+encodeURIComponent(a)+"&channel_name="+encodeURIComponent(this.channel.name);for(var e in this.authOptions.params)a+="&"+encodeURIComponent(e)+"="+encodeURIComponent(this.authOptions.params[e]);return a},authorize:function(a,e){return Pusher.authorizers[this.type].call(this,a,e)}};Pusher.auth_callbacks={};
Pusher.authorizers={ajax:function(a,e){var d;d=Pusher.XHR?new Pusher.XHR:window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");d.open("POST",Pusher.channel_auth_endpoint,!0);d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var c in this.authOptions.headers)d.setRequestHeader(c,this.authOptions.headers[c]);d.onreadystatechange=function(){if(4==d.readyState)if(200==d.status){var a,b=!1;try{a=JSON.parse(d.responseText),b=!0}catch(c){e(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+
d.responseText)}b&&e(!1,a)}else Pusher.warn("Couldn't get auth info from your webapp",d.status),e(!0,d.status)};d.send(this.composeQuery(a));return d},jsonp:function(a,e){void 0!==this.authOptions.headers&&Pusher.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var d=document.createElement("script");Pusher.auth_callbacks[this.channel.name]=function(a){e(!1,a)};d.src=Pusher.channel_auth_endpoint+"?callback="+encodeURIComponent("Pusher.auth_callbacks['"+this.channel.name+
"']")+this.composeQuery(a);var c=document.getElementsByTagName("head")[0]||document.documentElement;c.insertBefore(d,c.firstChild)}}}).call(this);
var _require=function(){var a;a=document.addEventListener?function(a,d){a.addEventListener("load",d,!1)}:function(a,d){a.attachEvent("onreadystatechange",function(){"loaded"!=a.readyState&&"complete"!=a.readyState||d()})};return function(e,d){function c(c,d){d=d||function(){};var e=document.getElementsByTagName("head")[0],g=document.createElement("script");g.setAttribute("src",c);g.setAttribute("type","text/javascript");g.setAttribute("async",!0);a(g,function(){var a=d;h++;b==h&&setTimeout(a,0)});
e.appendChild(g)}for(var h=0,b=e.length,g=0;g<b;g++)c(e[g],d)}}();
(function(){var a=("http:"==document.location.protocol?Pusher.cdn_http:Pusher.cdn_https)+Pusher.VERSION,e=[];void 0===window.JSON&&e.push(a+"/json2"+Pusher.dependency_suffix+".js");void 0===window.WebSocket&&void 0===window.MozWebSocket&&(window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0,e.push(a+"/flashfallback"+Pusher.dependency_suffix+".js"));var d=function(){return void 0===window.WebSocket&&void 0===window.MozWebSocket?function(){void 0!==window.WebSocket&&void 0===window.MozWebSocket?(Pusher.Transport=
window.WebSocket,Pusher.TransportType="flash",window.WEB_SOCKET_SWF_LOCATION=a+"/WebSocketMain.swf",WebSocket.__addTask(function(){Pusher.ready()}),WebSocket.__initialize()):(Pusher.Transport=null,Pusher.TransportType="none",Pusher.ready())}:function(){Pusher.Transport=void 0!==window.MozWebSocket?window.MozWebSocket:window.WebSocket;Pusher.TransportType="native";Pusher.ready()}}(),c=function(a){var c=function(){document.body?a():setTimeout(c,0)};c()},h=function(){c(d)};0<e.length?_require(e,h):h()})();
(function(){function a(a,b,c){"addEventListener"in window?a.addEventListener(b,c,!1):"attachEvent"in window&&a.attachEvent("on"+b,c)}function e(a){qa&&"object"===typeof window.console&&console.log("[iFrameSizer]["+ta+"] "+a)}function d(a){"object"===typeof window.console&&console.warn("[iFrameSizer]["+ta+"] "+a)}function c(){var a=aa.substr(13).split(":");ta=a[0];M=void 0!==a[1]?Number(a[1]):M;Z=void 0!==a[2]?"true"===a[2]?!0:!1:Z;qa=void 0!==a[3]?"true"===a[3]?!0:!1:qa;V=void 0!==a[4]?Number(a[4]):
V;na=void 0!==a[5]?"true"===a[5]?!0:!1:na;E=void 0!==a[6]?"true"===a[6]?!0:!1:E;y=a[7];J=void 0!==a[8]?a[8]:J;K=a[9];T=a[10];Ca=void 0!==a[11]?Number(a[11]):Ca}function h(a,b){-1!==b.indexOf("-")&&(d("Negative CSS value ignored for "+a),b="");return b}function b(a,b){void 0!==b&&""!==b&&"null"!==b&&(document.body.style[a]=b,e("Body "+a+' set to "'+b+'"'))}function g(){a(window,"resize",function(){I("resize","Window resized")})}function f(){a(window,"click",function(){I("click","Window clicked")})}
function k(){"offset"!==J&&(J in Oa||(d(J+" is not a valid option for heightCalculationMethod."),J="bodyScroll"),e('Height calculation method set to "'+J+'"'))}function p(){var a=document.createElement("div");a.style.clear="both";a.style.display="block";document.body.appendChild(a)}function q(){na&&(e("Enable public methods"),window.parentIFrame={close:function(){I("close","parentIFrame.close()",0,0)},getId:function(){return ta},reset:function(){u("parentIFrame.size")},scrollTo:function(a,b){A(b,
a,"scrollTo")},scrollToOffset:function(a,b){A(b,a,"scrollToOffset")},sendMessage:function(a,b){A(0,0,"message",JSON.stringify(a),b)},setHeightCalculationMethod:function(a){J=a;k()},setTargetOrigin:function(a){e("Set targetOrigin: "+a);Ba=a},size:function(a,b){I("size","parentIFrame.size("+(""+(a?a:"")+(b?","+b:""))+")",a,b)}})}function m(){0!==V&&(e("setInterval: "+V+"ms"),setInterval(function(){I("interval","setInterval: "+V)},Math.abs(V)))}function s(b){function c(b){if(void 0===b.height||void 0===
b.width||0===b.height||0===b.width)e("Attach listerner to "+b.src),a(b,"load",function(){I("imageLoad","Image loaded")})}b.forEach(function(a){"attributes"===a.type&&"src"===a.attributeName?c(a.target):"childList"===a.type&&(a=a.target.querySelectorAll("img"),Array.prototype.forEach.call(a,function(a){c(a)}))})}function t(){function b(a){"height"!==a.propertyName&&"width"!==a.propertyName||I("transitionend","Transition end")}a(window,"transitionend",b);a(window,"webkitTransitionEnd",b);a(window,"oTransitionEnd",
b);a(window,"otransitionend",b)}function v(){function a(){var c=document.querySelector("body"),d=new b(function(a){I("mutationObserver","mutationObserver: "+a[0].target+" "+a[0].type);s(a)});e("Enable MutationObserver");d.observe(c,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})}var b=window.MutationObserver||window.WebKitMutationObserver;b?0>V?m():a():(d("MutationObserver not supported in this browser!"),m())}function r(){function a(b){var c=
document.body,d=0;if("defaultView"in document&&"getComputedStyle"in document.defaultView)d=document.defaultView.getComputedStyle(c,null),d=null!==d?d[b]:0;else if(b=c.currentStyle[b],/^\d+(px)?$/i.test(b))d=parseInt(b,10);else{var d=c.style.left,e=c.runtimeStyle.left;c.runtimeStyle.left=c.currentStyle.left;c.style.left=b||0;b=c.style.pixelLeft;c.style.left=d;c.runtimeStyle.left=e;d=b}return parseInt(d,10)}return document.body.offsetHeight+a("marginTop")+a("marginBottom")}function z(){return document.body.scrollHeight}
function x(){return document.documentElement.offsetHeight}function w(){return document.documentElement.scrollHeight}function B(){for(var a=document.querySelectorAll("body *"),b=a.length,c=0,d=(new Date).getTime(),f=0;f<b;f++)a[f].getBoundingClientRect().bottom>c&&(c=a[f].getBoundingClientRect().bottom);d=(new Date).getTime()-d;e("Parsed "+b+" HTML elements");e("LowestElement bottom position calculated in "+d+"ms");return c}function C(){return Math.max.apply(null,[r(),z(),x(),w()])}function I(a,b,
c,d){function f(){a in{reset:1,resetPage:1,init:1}||e("Trigger event: "+b)}c=void 0!==c?c:Oa[J]();d=void 0!==d?d:Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);Math.abs(n-c)<=Ca&&(!Z||Math.abs(fa-d)<=Ca)?!(a in{init:1,interval:1,size:1})&&J in ya?u(b):a in{interval:1}||(f(),e("No change in size detected")):(f(),n=c,fa=d,A(n,fa,a),e("--"))}function D(a){n=Oa[J]();fa=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);A(n,fa,a)}function u(a){var b=J;J=
"offset";e("Reset trigger event: "+a);D("reset");J=b}function A(a,b,c,d,f){void 0===f?f=Ba:e("Message targetOrigin: "+f);a=ta+":"+(a+":"+b)+":"+c+(void 0!==d?":"+d:"");e("Sending message to host page ("+a+")");N.postMessage("[iFrameSizer]"+a,f)}var E=!0,K="",M=0,y="",T="",Z=!1,n=1,W=!0,J="offset",ea=!0,aa="",V=32,qa=!1,ta="",na=!1,ya={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},Ba="*",N=window.parent,Ca=0,fa=1,Oa={offset:r,bodyOffset:r,bodyScroll:z,documentElementOffset:x,scroll:w,documentElementScroll:w,
max:C,min:function(){return Math.min.apply(null,[r(),z(),x(),w()])},grow:C,lowestElement:function(){return Math.max(r(),B())}};a(window,"message",function(a){function m(){aa=a.data;N=a.source;e("Initialising iFrame");c();void 0===y&&(y=M+"px");h("margin",y);b("margin",y);b("background",K);b("padding",T);p();k();document.documentElement.style.height="";document.body.style.height="";e('HTML & body height set to "auto"');q();!0===E?(g(),f(),t(),v()):e("Auto Resize disabled");I("init","Init message from host page");
W=!1;setTimeout(function(){ea=!1},128)}"[iFrameSizer]"===(""+a.data).substr(0,13)&&(W&&a.data.split(":")[2]in{"true":1,"false":1}?m():"reset"===a.data.split("]")[1]?ea?e("Page reset ignored by init"):(e("Page size reset by host page"),D("resetPage")):a.data===aa||"iFrameResize"in window||d("Unexpected message ("+a.data+")"))})})();
(function(){if(!window["com.genius.Genius"].require){var a={},e={},d=function(h,b){var g=c(b,h),f=c(g,"./index"),k;if(k=e[g]||e[f])return k;if(f=a[g]||a[g=f])return k={id:g,exports:{}},e[g]=k.exports,f(k.exports,function(a){return d(a,g.split("/").slice(0,-1).join("/"))},k),e[g]=k.exports;throw"module "+h+" not found";},c=function(a,b){var c=[],d,e;d=/^\.\.?(\/|$)/.test(b)?[a,b].join("/").split("/"):b.split("/");for(var p=0,q=d.length;p<q;p++)e=d[p],".."==e?c.pop():"."!=e&&""!=e&&c.push(e);return c.join("/")};
window["com.genius.Genius"].require=function(a){return d(a,"")};window["com.genius.Genius"].require.define=function(c){for(var b in c)a[b]=c[b]};window["com.genius.Genius"].require.modules=a;window["com.genius.Genius"].require.cache=e}return window["com.genius.Genius"].require}).call(this);
(function(){window["com.genius.Genius"].require.define({jschannel:function(a,e,d){a=function(){function a(b,c,d,f){function h(a){for(var c=0;c<a.length;c++)if(a[c].win===b)return!0;return!1}var k=!1;if("*"===c)for(var r in e){if(e.hasOwnProperty(r)&&"*"!==r&&"object"===typeof e[r][d]&&(k=h(e[r][d])))break}else e["*"]&&e["*"][d]&&(k=h(e["*"][d])),!k&&e[c]&&e[c][d]&&(k=h(e[c][d]));if(k)throw"A channel is already bound to the same window which overlaps with origin '"+c+"' and has scope '"+d+"'";"object"!=
typeof e[c]&&(e[c]={});"object"!=typeof e[c][d]&&(e[c][d]=[]);e[c][d].push({win:b,handler:f})}function d(a){return Array.isArray?Array.isArray(a):-1!=a.constructor.toString().indexOf("Array")}var b=Math.floor(1000001*Math.random()),e={},f={},k=function(a){try{var b=JSON.parse(a.data);if("object"!==typeof b||null===b)throw"malformed";}catch(c){return}var d=a.source;a=a.origin;var h,k,r;"string"===typeof b.method&&(r=b.method.split("::"),2==r.length?(h=r[0],r=r[1]):r=b.method);"undefined"!==typeof b.id&&
(k=b.id);if("string"===typeof r){k=!1;if(e[a]&&e[a][h])for(var z=0;z<e[a][h].length;z++)if(e[a][h][z].win===d){e[a][h][z].handler(a,r,b);k=!0;break}if(!k&&e["*"]&&e["*"][h])for(z=0;z<e["*"][h].length;z++)if(e["*"][h][z].win===d){e["*"][h][z].handler(a,r,b);break}}else if("undefined"!=typeof k&&f[k])f[k](a,r,b)};window.addEventListener?window.addEventListener("message",k,!1):window.attachEvent&&window.attachEvent("onmessage",k);return{build:function(k){var q=function(a){if(k.debugOutput&&window.console&&
window.console.log){try{"string"!==typeof a&&(a=JSON.stringify(a))}catch(b){}console.log("["+t+"] "+a)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if("object"!=typeof k)throw"Channel build invoked without a proper object argument";if(!k.window||!k.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===
k.window)throw"target window is same as present window -- not allowed";var m=!1;if("string"===typeof k.origin){var s;"*"===k.origin?m=!0:null!==(s=k.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))&&(k.origin=s[0].toLowerCase(),m=!0)}if(!m)throw"Channel.build() called with an invalid origin";if("undefined"!==typeof k.scope){if("string"!==typeof k.scope)throw"scope, when specified, must be a string";if(1<k.scope.split("::").length)throw"scope may not contain double colons: '::'";}var t=function(){for(var a=
"",b=0;5>b;b++)a+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return a}(),v={},r={},z={},x=!1,w=[],B=function(a,b,c){var d=!1,e=!1;return{origin:b,invoke:function(b,d){if(!z[a])throw"attempting to invoke a callback of a nonexistent transaction: "+a;for(var e=!1,f=0;f<c.length;f++)if(b===c[f]){e=!0;break}if(!e)throw"request supports no such callback '"+b+"'";u({id:a,callback:b,params:d})},error:function(b,c){e=!0;if(!z[a])throw"error called for nonexistent message: "+
a;delete z[a];u({id:a,error:b,message:c})},complete:function(b){e=!0;if(!z[a])throw"complete called for nonexistent message: "+a;delete z[a];u({id:a,result:b})},delayReturn:function(a){"boolean"===typeof a&&(d=!0===a);return d},completed:function(){return e}}},C=function(a,b,c){return window.setTimeout(function(){if(r[a]){var d="timeout ("+b+"ms) exceeded on method '"+c+"'";(1,r[a].error)("timeout_error",d);delete r[a];delete f[a]}},b)},I=function(a,b,c){if("function"===typeof k.gotMessageObserver)try{k.gotMessageObserver(a,
c)}catch(e){q("gotMessageObserver() raised an exception: "+e.toString())}if(c.id&&b){if(v[b]){var g=B(c.id,a,c.callbacks?c.callbacks:[]);z[c.id]={};try{if(c.callbacks&&d(c.callbacks)&&0<c.callbacks.length)for(a=0;a<c.callbacks.length;a++){for(var m=c.callbacks[a],n=c.params,s=m.split("/"),w=0;w<s.length-1;w++){var x=s[w];"object"!==typeof n[x]&&(n[x]={});n=n[x]}n[s[s.length-1]]=function(){var a=m;return function(b){return g.invoke(a,b)}}()}var t=v[b](g,c.params);g.delayReturn()||g.completed()||g.complete(t)}catch(C){b=
"runtime_error";c=null;"string"===typeof C?c=C:"object"===typeof C&&(C&&d(C)&&2==C.length?(b=C[0],c=C[1]):"string"===typeof C.error&&(b=C.error,C.message?"string"===typeof C.message?c=C.message:C=C.message:c=""));if(null===c)try{c=JSON.stringify(C),"undefined"==typeof c&&(c=C.toString())}catch(u){c=C.toString()}g.error(b,c)}}}else if(c.id&&c.callback)if(r[c.id]&&r[c.id].callbacks&&r[c.id].callbacks[c.callback])r[c.id].callbacks[c.callback](c.params);else q("ignoring invalid callback, id:"+c.id+" ("+
c.callback+")");else if(c.id)r[c.id]?(c.error?(1,r[c.id].error)(c.error,c.message):void 0!==c.result?(1,r[c.id].success)(c.result):(1,r[c.id].success)(),delete r[c.id],delete f[c.id]):q("ignoring invalid response: "+c.id);else if(b&&v[b])v[b]({origin:a},c.params)};a(k.window,k.origin,"string"===typeof k.scope?k.scope:"",I);var D=function(a){"string"===typeof k.scope&&k.scope.length&&(a=[k.scope,a].join("::"));return a},u=function(a,b){if(!a)throw"postMessage called with null message";q((x?"post  ":
"queue ")+" message: "+JSON.stringify(a));if(b||x){if("function"===typeof k.postMessageObserver)try{k.postMessageObserver(k.origin,a)}catch(c){q("postMessageObserver() raised an exception: "+c.toString())}k.window.postMessage(JSON.stringify(a),k.origin)}else w.push(a)},A={unbind:function(a){if(v[a]){if(!delete v[a])throw"can't delete method: "+a;return!0}return!1},bind:function(a,b){if(!a||"string"!==typeof a)throw"'method' argument to bind must be string";if(!b||"function"!==typeof b)throw"callback missing from bind params";
if(v[a])throw"method '"+a+"' is already bound!";v[a]=b;return this},call:function(a){if(!a)throw"missing arguments to call function";if(!a.method||"string"!==typeof a.method)throw"'method' argument to call must be string";if(!a.success||"function"!==typeof a.success)throw"'success' callback missing from call";var c={},d=[],e=[],g=function(a,b){if(0<=e.indexOf(b))throw"params cannot be a recursive data structure";e.push(b);if("object"===typeof b)for(var f in b)if(b.hasOwnProperty(f)){var h=a+(a.length?
"/":"")+f;"function"===typeof b[f]?(c[h]=b[f],d.push(h),delete b[f]):"object"===typeof b[f]&&g(h,b[f])}};g("",a.params);var h={id:b,method:D(a.method),params:a.params};d.length&&(h.callbacks=d);a.timeout&&C(b,a.timeout,D(a.method));r[b]={callbacks:c,error:a.error,success:a.success};f[b]=I;b++;u(h)},notify:function(a){if(!a)throw"missing arguments to notify function";if(!a.method||"string"!==typeof a.method)throw"'method' argument to notify must be string";u({method:D(a.method),params:a.params})},
destroy:function(){for(var a=k.window,b=k.origin,c="string"===typeof k.scope?k.scope:"",d=e[b][c],f=0;f<d.length;f++)d[f].win===a&&d.splice(f,1);0===e[b][c].length&&delete e[b][c];window.removeEventListener?window.removeEventListener("message",I,!1):window.detachEvent&&window.detachEvent("onmessage",I);x=!1;v={};z={};r={};k.origin=null;w=[];q("channel destroyed");t=""}};A.bind("__ready",function(a,b){q("ready msg received");if(x)throw"received ready message while in ready state.  help!";t="ping"===
b?t+"-R":t+"-L";A.unbind("__ready");x=!0;q("ready msg accepted.");for("ping"===b&&A.notify({method:"__ready",params:"pong"});w.length;)u(w.pop());if("function"===typeof k.onReady)k.onReady(A)});setTimeout(function(){u({method:D("__ready"),params:"ping"},!0)},0);return A}}}();d.exports=a}})})();window.app=window.app||{};
$.extend(window.app,{load_vidyard_players:function(a,e,d){var c;"function"===typeof a?(c=a,a=$("body")):(a=$(a||"body"),c=d||$.noop);d=a.find(".vidyard_container[data-vidyard-id]");e||(d=d.filter(":visible"));d.each(function(){var a=$(this),b=a.attr("data-vidyard-id"),d=$("#vidyard_"+b+":first");d.length?(a.replaceWith(d.remove()),c()):(a.attr("id","vidyard_"+b).removeAttr("data-vidyard-id"),d=MOBILE_DEVICE||window.RG_EMBEDDED_PAGE?"?width="+a.parent().width():"",$.getScript("//embed.vidyard.com/embed/"+
b+"/iframe/"+d,function(){a.removeClass("loading_with_indicator");c()}))})}});window.app=window.app||{};window.app.twitterURLre=/((http:\/\/(twitter\.com\/.*\/status\/.*\/photo\/.*|twitter\.com\/.*\/statuses\/.*\/photo|pic\.twitter\.com\/.*|www\.twitter\.com\/.*\/statuses\/.*\/photo\/.*|mobile\.twitter\.com\/.*\/status\/.*\/photo\/.*|mobile\.twitter\.com\/.*\/statuses\/.*\/photo\/.*|twitter\.com\/.*\/status\/.*|twitter\.com\/.*\/statuses\/.*|www\.twitter\.com\/.*\/status\/.*|www\.twitter\.com\/.*\/statuses\/.*|mobile\.twitter\.com\/.*\/status\/.*|mobile\.twitter\.com\/.*\/statuses\/.*))|(https:\/\/(twitter\.com\/.*\/status\/.*\/photo\/.*|twitter\.com\/.*\/statuses\/.*\/photo\/.*|www\.twitter\.com\/.*\/status\/.*\/photo\/.*|www\.twitter\.com\/.*\/statuses\/.*\/photo\/.*|mobile\.twitter\.com\/.*\/status\/.*\/photo\/.*|mobile\.twitter\.com\/.*\/statuses\/.*\/photo\/.*|twitter\.com\/.*\/status\/.*|twitter\.com\/.*\/statuses\/.*|www\.twitter\.com\/.*\/status\/.*|www\.twitter\.com\/.*\/statuses\/.*|mobile\.twitter\.com\/.*\/status\/.*|mobile\.twitter\.com\/.*\/statuses\/.*)))/i;
window.app.rgURLre=/^(https?:\/\/(.+\.)?((?:rap)?genius\.com|genius\.com)\/(\d+)(?:\/|\?|$))/i;window.app.embedlyURLre=/((https?:\/\/(.*yfrog\..*\/.*|www\.flickr\.com\/photos\/.*|flic\.kr\/.*|twitpic\.com\/.*|www\.twitpic\.com\/.*|twitpic\.com\/photos\/.*|www\.twitpic\.com\/photos\/.*|.*imgur\.com\/.*|.*\.posterous\.com\/.*|post\.ly\/.*|twitgoo\.com\/.*|i.*\.photobucket\.com\/albums\/.*|s.*\.photobucket\.com\/albums\/.*|phodroid\.com\/.*\/.*\/.*|www\.mobypicture\.com\/user\/.*\/view\/.*|moby\.to\/.*|xkcd\.com\/.*|www\.xkcd\.com\/.*|imgs\.xkcd\.com\/.*|www\.asofterworld\.com\/index\.php\?id=.*|www\.asofterworld\.com\/.*\.jpg|asofterworld\.com\/.*\.jpg|www\.qwantz\.com\/index\.php\?comic=.*|23hq\.com\/.*\/photo\/.*|www\.23hq\.com\/.*\/photo\/.*|.*dribbble\.com\/shots\/.*|drbl\.in\/.*|.*\.smugmug\.com\/.*|.*\.smugmug\.com\/.*#.*|emberapp\.com\/.*\/images\/.*|emberapp\.com\/.*\/images\/.*\/sizes\/.*|emberapp\.com\/.*\/collections\/.*\/.*|emberapp\.com\/.*\/categories\/.*\/.*\/.*|embr\.it\/.*|picasaweb\.google\.com.*\/.*\/.*#.*|picasaweb\.google\.com.*\/lh\/photo\/.*|picasaweb\.google\.com.*\/.*\/.*|dailybooth\.com\/.*\/.*|brizzly\.com\/pic\/.*|pics\.brizzly\.com\/.*\.jpg|img\.ly\/.*|www\.tinypic\.com\/view\.php.*|tinypic\.com\/view\.php.*|www\.tinypic\.com\/player\.php.*|tinypic\.com\/player\.php.*|www\.tinypic\.com\/r\/.*\/.*|tinypic\.com\/r\/.*\/.*|.*\.tinypic\.com\/.*\.jpg|.*\.tinypic\.com\/.*\.png|meadd\.com\/.*\/.*|meadd\.com\/.*|.*\.deviantart\.com\/art\/.*|.*\.deviantart\.com\/gallery\/.*|.*\.deviantart\.com\/#\/.*|fav\.me\/.*|.*\.deviantart\.com|.*\.deviantart\.com\/gallery|.*\.deviantart\.com\/.*\/.*\.jpg|.*\.deviantart\.com\/.*\/.*\.gif|.*\.deviantart\.net\/.*\/.*\.jpg|.*\.deviantart\.net\/.*\/.*\.gif|www\.fotopedia\.com\/.*\/.*|fotopedia\.com\/.*\/.*|photozou\.jp\/photo\/show\/.*\/.*|photozou\.jp\/photo\/photo_only\/.*\/.*|instagr\.am\/p\/.*|instagram\.com\/p\/.*|skitch\.com\/.*\/.*\/.*|img\.skitch\.com\/.*|share\.ovi\.com\/media\/.*\/.*|www\.questionablecontent\.net\/|questionablecontent\.net\/|www\.questionablecontent\.net\/view\.php.*|questionablecontent\.net\/view\.php.*|questionablecontent\.net\/comics\/.*\.png|www\.questionablecontent\.net\/comics\/.*\.png|picplz\.com\/user\/.*\/pic\/.*\/|twitrpix\.com\/.*|.*\.twitrpix\.com\/.*|www\.someecards\.com\/.*\/.*|someecards\.com\/.*\/.*|some\.ly\/.*|www\.some\.ly\/.*|pikchur\.com\/.*|achewood\.com\/.*|www\.achewood\.com\/.*|achewood\.com\/index\.php.*|www\.achewood\.com\/index\.php.*|www\.whosay\.com\/content\/.*|www\.whosay\.com\/photos\/.*|www\.whosay\.com\/videos\/.*|say\.ly\/.*|ow\.ly\/i\/.*|color\.com\/s\/.*|bnter\.com\/convo\/.*|mlkshk\.com\/p\/.*|lockerz\.com\/s\/.*|soundcloud\.com\/.*|soundcloud\.com\/.*\/.*|soundcloud\.com\/.*\/sets\/.*|soundcloud\.com\/groups\/.*|snd\.sc\/.*|www\.last\.fm\/music\/.*|www\.last\.fm\/music\/+videos\/.*|www\.last\.fm\/music\/+images\/.*|www\.last\.fm\/music\/.*\/_\/.*|www\.last\.fm\/music\/.*\/.*|www\.mixcloud\.com\/.*\/.*\/|www\.radionomy\.com\/.*\/radio\/.*|radionomy\.com\/.*\/radio\/.*|www\.hark\.com\/clips\/.*|www\.rdio\.com\/#\/artist\/.*\/album\/.*|www\.rdio\.com\/artist\/.*\/album\/.*|www\.zero-inch\.com\/.*|.*\.bandcamp\.com\/|.*\.bandcamp\.com\/track\/.*|.*\.bandcamp\.com\/album\/.*|freemusicarchive\.org\/music\/.*|www\.freemusicarchive\.org\/music\/.*|freemusicarchive\.org\/curator\/.*|www\.freemusicarchive\.org\/curator\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/templates\/story\/story\.php.*|huffduffer\.com\/.*\/.*|www\.audioboo\.fm\/boos\/.*|audioboo\.fm\/boos\/.*|boo\.fm\/b.*|www\.xiami\.com\/song\/.*|xiami\.com\/song\/.*|www\.saynow\.com\/playMsg\.html.*|www\.saynow\.com\/playMsg\.html.*|grooveshark\.com\/s\/.*|listen\.grooveshark\.com\/s\/.*|radioreddit\.com\/songs.*|www\.radioreddit\.com\/songs.*|radioreddit\.com\/\?q=songs.*|www\.radioreddit\.com\/\?q=songs.*|www\.gogoyoko\.com\/song\/.*|.*amazon\..*\/gp\/product\/.*|.*amazon\..*\/.*\/dp\/.*|.*amazon\..*\/dp\/.*|.*amazon\..*\/o\/ASIN\/.*|.*amazon\..*\/gp\/offer-listing\/.*|.*amazon\..*\/.*\/ASIN\/.*|.*amazon\..*\/gp\/product\/images\/.*|.*amazon\..*\/gp\/aw\/d\/.*|www\.amzn\.com\/.*|amzn\.com\/.*|www\.shopstyle\.com\/browse.*|www\.shopstyle\.com\/action\/apiVisitRetailer.*|api\.shopstyle\.com\/action\/apiVisitRetailer.*|www\.shopstyle\.com\/action\/viewLook.*|gist\.github\.com\/.*|twitter\.com\/.*\/status\/.*|twitter\.com\/.*\/statuses\/.*|www\.twitter\.com\/.*\/status\/.*|www\.twitter\.com\/.*\/statuses\/.*|mobile\.twitter\.com\/.*\/status\/.*|mobile\.twitter\.com\/.*\/statuses\/.*|www\.crunchbase\.com\/.*\/.*|crunchbase\.com\/.*\/.*|www\.slideshare\.net\/.*\/.*|www\.slideshare\.net\/mobile\/.*\/.*|slidesha\.re\/.*|scribd\.com\/doc\/.*|www\.scribd\.com\/doc\/.*|scribd\.com\/mobile\/documents\/.*|www\.scribd\.com\/mobile\/documents\/.*|screenr\.com\/.*|polldaddy\.com\/community\/poll\/.*|polldaddy\.com\/poll\/.*|answers\.polldaddy\.com\/poll\/.*|www\.5min\.com\/Video\/.*|www\.howcast\.com\/videos\/.*|www\.screencast\.com\/.*\/media\/.*|screencast\.com\/.*\/media\/.*|www\.screencast\.com\/t\/.*|screencast\.com\/t\/.*|issuu\.com\/.*\/docs\/.*|www\.kickstarter\.com\/projects\/.*\/.*|www\.scrapblog\.com\/viewer\/viewer\.aspx.*|ping\.fm\/p\/.*|chart\.ly\/symbols\/.*|chart\.ly\/.*|maps\.google\.com\/maps\?.*|maps\.google\.com\/\?.*|maps\.google\.com\/maps\/ms\?.*|.*\.craigslist\.org\/.*\/.*|my\.opera\.com\/.*\/albums\/show\.dml\?id=.*|my\.opera\.com\/.*\/albums\/showpic\.dml\?album=.*&picture=.*|tumblr\.com\/.*|.*\.tumblr\.com\/post\/.*|www\.polleverywhere\.com\/polls\/.*|www\.polleverywhere\.com\/multiple_choice_polls\/.*|www\.polleverywhere\.com\/free_text_polls\/.*|www\.quantcast\.com\/wd:.*|www\.quantcast\.com\/.*|siteanalytics\.compete\.com\/.*|statsheet\.com\/statplot\/charts\/.*\/.*\/.*\/.*|statsheet\.com\/statplot\/charts\/e\/.*|statsheet\.com\/.*\/teams\/.*\/.*|statsheet\.com\/tools\/chartlets\?chart=.*|.*\.status\.net\/notice\/.*|identi\.ca\/notice\/.*|brainbird\.net\/notice\/.*|shitmydadsays\.com\/notice\/.*|www\.studivz\.net\/Profile\/.*|www\.studivz\.net\/l\/.*|www\.studivz\.net\/Groups\/Overview\/.*|www\.studivz\.net\/Gadgets\/Info\/.*|www\.studivz\.net\/Gadgets\/Install\/.*|www\.studivz\.net\/.*|www\.meinvz\.net\/Profile\/.*|www\.meinvz\.net\/l\/.*|www\.meinvz\.net\/Groups\/Overview\/.*|www\.meinvz\.net\/Gadgets\/Info\/.*|www\.meinvz\.net\/Gadgets\/Install\/.*|www\.meinvz\.net\/.*|www\.schuelervz\.net\/Profile\/.*|www\.schuelervz\.net\/l\/.*|www\.schuelervz\.net\/Groups\/Overview\/.*|www\.schuelervz\.net\/Gadgets\/Info\/.*|www\.schuelervz\.net\/Gadgets\/Install\/.*|www\.schuelervz\.net\/.*|myloc\.me\/.*|pastebin\.com\/.*|pastie\.org\/.*|www\.pastie\.org\/.*|redux\.com\/stream\/item\/.*\/.*|redux\.com\/f\/.*\/.*|www\.redux\.com\/stream\/item\/.*\/.*|www\.redux\.com\/f\/.*\/.*|cl\.ly\/.*|cl\.ly\/.*\/content|speakerdeck\.com\/u\/.*\/p\/.*|www\.kiva\.org\/lend\/.*|www\.timetoast\.com\/timelines\/.*|storify\.com\/.*\/.*|.*meetup\.com\/.*|meetu\.ps\/.*|www\.dailymile\.com\/people\/.*\/entries\/.*|.*\.kinomap\.com\/.*|www\.metacdn\.com\/api\/users\/.*\/content\/.*|www\.metacdn\.com\/api\/users\/.*\/media\/.*|prezi\.com\/.*\/.*|.*\.uservoice\.com\/.*\/suggestions\/.*|formspring\.me\/.*|www\.formspring\.me\/.*|formspring\.me\/.*\/q\/.*|www\.formspring\.me\/.*\/q\/.*|twitlonger\.com\/show\/.*|www\.twitlonger\.com\/show\/.*|tl\.gd\/.*|www\.qwiki\.com\/q\/.*|crocodoc\.com\/.*|.*\.crocodoc\.com\/.*|.*youtube\.com\/watch.*|.*\.youtube\.com\/v\/.*|youtu\.be\/.*|.*\.youtube\.com\/user\/.*|.*\.youtube\.com\/.*#.*\/.*|m\.youtube\.com\/watch.*|m\.youtube\.com\/index.*|.*\.youtube\.com\/profile.*|.*\.youtube\.com\/view_play_list.*|.*\.youtube\.com\/playlist.*|www\.vevo\.com\/watch\/.*|www\.vevo\.com\/video\/.*|.*justin\.tv\/.*|.*justin\.tv\/.*\/b\/.*|.*justin\.tv\/.*\/w\/.*|www\.ustream\.tv\/recorded\/.*|www\.ustream\.tv\/channel\/.*|www\.ustream\.tv\/.*|qik\.com\/video\/.*|qik\.com\/.*|qik\.ly\/.*|.*revision3\.com\/.*|.*\.dailymotion\.com\/video\/.*|.*\.dailymotion\.com\/.*\/video\/.*|collegehumor\.com\/video:.*|collegehumor\.com\/video\/.*|www\.collegehumor\.com\/video:.*|www\.collegehumor\.com\/video\/.*|.*twitvid\.com\/.*|www\.break\.com\/.*\/.*|vids\.myspace\.com\/index\.cfm\?fuseaction=vids\.individual&videoid.*|www\.myspace\.com\/index\.cfm\?fuseaction=.*&videoid.*|www\.metacafe\.com\/watch\/.*|www\.metacafe\.com\/w\/.*|blip\.tv\/file\/.*|.*\.blip\.tv\/file\/.*|video\.google\.com\/videoplay\?.*|.*revver\.com\/video\/.*|video\.yahoo\.com\/watch\/.*\/.*|video\.yahoo\.com\/network\/.*|.*viddler\.com\/explore\/.*\/videos\/.*|liveleak\.com\/view\?.*|www\.liveleak\.com\/view\?.*|animoto\.com\/play\/.*|dotsub\.com\/view\/.*|www\.overstream\.net\/view\.php\?oid=.*|www\.livestream\.com\/.*|www\.worldstarhiphop\.com\/videos\/video.*\.php\?v=.*|worldstarhiphop\.com\/videos\/video.*\.php\?v=.*|teachertube\.com\/viewVideo\.php.*|www\.teachertube\.com\/viewVideo\.php.*|www1\.teachertube\.com\/viewVideo\.php.*|www2\.teachertube\.com\/viewVideo\.php.*|bambuser\.com\/v\/.*|bambuser\.com\/channel\/.*|bambuser\.com\/channel\/.*\/broadcast\/.*|www\.schooltube\.com\/video\/.*\/.*|bigthink\.com\/ideas\/.*|bigthink\.com\/series\/.*|sendables\.jibjab\.com\/view\/.*|sendables\.jibjab\.com\/originals\/.*|www\.xtranormal\.com\/watch\/.*|socialcam\.com\/v\/.*|www\.socialcam\.com\/v\/.*|dipdive\.com\/media\/.*|dipdive\.com\/member\/.*\/media\/.*|dipdive\.com\/v\/.*|.*\.dipdive\.com\/media\/.*|.*\.dipdive\.com\/v\/.*|v\.youku\.com\/v_show\/.*\.html|v\.youku\.com\/v_playlist\/.*\.html|www\.snotr\.com\/video\/.*|snotr\.com\/video\/.*|video\.jardenberg\.se\/.*|www\.clipfish\.de\/.*\/.*\/video\/.*|www\.myvideo\.de\/watch\/.*|www\.whitehouse\.gov\/photos-and-video\/video\/.*|www\.whitehouse\.gov\/video\/.*|wh\.gov\/photos-and-video\/video\/.*|wh\.gov\/video\/.*|www\.hulu\.com\/watch.*|www\.hulu\.com\/w\/.*|hulu\.com\/watch.*|hulu\.com\/w\/.*|.*crackle\.com\/c\/.*|www\.fancast\.com\/.*\/videos|www\.funnyordie\.com\/videos\/.*|www\.funnyordie\.com\/m\/.*|funnyordie\.com\/videos\/.*|funnyordie\.com\/m\/.*|www\.vimeo\.com\/groups\/.*\/videos\/.*|www\.vimeo\.com\/.*|vimeo\.com\/groups\/.*\/videos\/.*|vimeo\.com\/.*|vimeo\.com\/m\/#\/.*|www\.ted\.com\/talks\/.*\.html.*|www\.ted\.com\/talks\/lang\/.*\/.*\.html.*|www\.ted\.com\/index\.php\/talks\/.*\.html.*|www\.ted\.com\/index\.php\/talks\/lang\/.*\/.*\.html.*|.*nfb\.ca\/film\/.*|www\.thedailyshow\.com\/watch\/.*|www\.thedailyshow\.com\/full-episodes\/.*|www\.thedailyshow\.com\/collection\/.*\/.*\/.*|movies\.yahoo\.com\/movie\/.*\/video\/.*|movies\.yahoo\.com\/movie\/.*\/trailer|movies\.yahoo\.com\/movie\/.*\/video|www\.colbertnation\.com\/the-colbert-report-collections\/.*|www\.colbertnation\.com\/full-episodes\/.*|www\.colbertnation\.com\/the-colbert-report-videos\/.*|www\.comedycentral\.com\/videos\/index\.jhtml\?.*|www\.theonion\.com\/video\/.*|theonion\.com\/video\/.*|wordpress\.tv\/.*\/.*\/.*\/.*\/|www\.traileraddict\.com\/trailer\/.*|www\.traileraddict\.com\/clip\/.*|www\.traileraddict\.com\/poster\/.*|www\.escapistmagazine\.com\/videos\/.*|www\.trailerspy\.com\/trailer\/.*\/.*|www\.trailerspy\.com\/trailer\/.*|www\.trailerspy\.com\/view_video\.php.*|www\.atom\.com\/.*\/.*\/|fora\.tv\/.*\/.*\/.*\/.*|www\.spike\.com\/video\/.*|www\.gametrailers\.com\/video\/.*|gametrailers\.com\/video\/.*|www\.koldcast\.tv\/video\/.*|www\.koldcast\.tv\/#video:.*|techcrunch\.tv\/watch.*|techcrunch\.tv\/.*\/watch.*|mixergy\.com\/.*|video\.pbs\.org\/video\/.*|www\.zapiks\.com\/.*|tv\.digg\.com\/diggnation\/.*|tv\.digg\.com\/diggreel\/.*|tv\.digg\.com\/diggdialogg\/.*|www\.trutv\.com\/video\/.*|www\.nzonscreen\.com\/title\/.*|nzonscreen\.com\/title\/.*|app\.wistia\.com\/embed\/medias\/.*|hungrynation\.tv\/.*\/episode\/.*|www\.hungrynation\.tv\/.*\/episode\/.*|hungrynation\.tv\/episode\/.*|www\.hungrynation\.tv\/episode\/.*|indymogul\.com\/.*\/episode\/.*|www\.indymogul\.com\/.*\/episode\/.*|indymogul\.com\/episode\/.*|www\.indymogul\.com\/episode\/.*|channelfrederator\.com\/.*\/episode\/.*|www\.channelfrederator\.com\/.*\/episode\/.*|channelfrederator\.com\/episode\/.*|www\.channelfrederator\.com\/episode\/.*|tmiweekly\.com\/.*\/episode\/.*|www\.tmiweekly\.com\/.*\/episode\/.*|tmiweekly\.com\/episode\/.*|www\.tmiweekly\.com\/episode\/.*|99dollarmusicvideos\.com\/.*\/episode\/.*|www\.99dollarmusicvideos\.com\/.*\/episode\/.*|99dollarmusicvideos\.com\/episode\/.*|www\.99dollarmusicvideos\.com\/episode\/.*|ultrakawaii\.com\/.*\/episode\/.*|www\.ultrakawaii\.com\/.*\/episode\/.*|ultrakawaii\.com\/episode\/.*|www\.ultrakawaii\.com\/episode\/.*|barelypolitical\.com\/.*\/episode\/.*|www\.barelypolitical\.com\/.*\/episode\/.*|barelypolitical\.com\/episode\/.*|www\.barelypolitical\.com\/episode\/.*|barelydigital\.com\/.*\/episode\/.*|www\.barelydigital\.com\/.*\/episode\/.*|barelydigital\.com\/episode\/.*|www\.barelydigital\.com\/episode\/.*|threadbanger\.com\/.*\/episode\/.*|www\.threadbanger\.com\/.*\/episode\/.*|threadbanger\.com\/episode\/.*|www\.threadbanger\.com\/episode\/.*|vodcars\.com\/.*\/episode\/.*|www\.vodcars\.com\/.*\/episode\/.*|vodcars\.com\/episode\/.*|www\.vodcars\.com\/episode\/.*|confreaks\.net\/videos\/.*|www\.confreaks\.net\/videos\/.*|video\.allthingsd\.com\/video\/.*|videos\.nymag\.com\/.*|aniboom\.com\/animation-video\/.*|www\.aniboom\.com\/animation-video\/.*|clipshack\.com\/Clip\.aspx\?.*|www\.clipshack\.com\/Clip\.aspx\?.*|grindtv\.com\/.*\/video\/.*|www\.grindtv\.com\/.*\/video\/.*|ifood\.tv\/recipe\/.*|ifood\.tv\/video\/.*|ifood\.tv\/channel\/user\/.*|www\.ifood\.tv\/recipe\/.*|www\.ifood\.tv\/video\/.*|www\.ifood\.tv\/channel\/user\/.*|logotv\.com\/video\/.*|www\.logotv\.com\/video\/.*|lonelyplanet\.com\/Clip\.aspx\?.*|www\.lonelyplanet\.com\/Clip\.aspx\?.*|streetfire\.net\/video\/.*\.htm.*|www\.streetfire\.net\/video\/.*\.htm.*|trooptube\.tv\/videos\/.*|www\.trooptube\.tv\/videos\/.*|sciencestage\.com\/v\/.*\.html|sciencestage\.com\/a\/.*\.html|www\.sciencestage\.com\/v\/.*\.html|www\.sciencestage\.com\/a\/.*\.html|www\.godtube\.com\/featured\/video\/.*|godtube\.com\/featured\/video\/.*|www\.godtube\.com\/watch\/.*|godtube\.com\/watch\/.*|www\.tangle\.com\/view_video.*|mediamatters\.org\/mmtv\/.*|www\.clikthrough\.com\/theater\/video\/.*|espn\.go\.com\/video\/clip.*|espn\.go\.com\/.*\/story.*|abcnews\.com\/.*\/video\/.*|abcnews\.com\/video\/playerIndex.*|abcnews\.go\.com\/.*\/video\/.*|abcnews\.go\.com\/video\/playerIndex.*|washingtonpost\.com\/wp-dyn\/.*\/video\/.*\/.*\/.*\/.*|www\.washingtonpost\.com\/wp-dyn\/.*\/video\/.*\/.*\/.*\/.*|www\.boston\.com\/video.*|boston\.com\/video.*|www\.facebook\.com\/photo\.php.*|www\.facebook\.com\/video\/video\.php.*|www\.facebook\.com\/v\/.*|www\.facebook\.com\/.*\/videos\/.*|cnbc\.com\/id\/.*\?.*video.*|www\.cnbc\.com\/id\/.*\?.*video.*|cnbc\.com\/id\/.*\/play\/1\/video\/.*|www\.cnbc\.com\/id\/.*\/play\/1\/video\/.*|cbsnews\.com\/video\/watch\/.*|www\.google\.com\/buzz\/.*\/.*\/.*|www\.google\.com\/buzz\/.*|www\.google\.com\/profiles\/.*|google\.com\/buzz\/.*\/.*\/.*|google\.com\/buzz\/.*|google\.com\/profiles\/.*|www\.cnn\.com\/video\/.*|edition\.cnn\.com\/video\/.*|money\.cnn\.com\/video\/.*|today\.msnbc\.msn\.com\/id\/.*\/vp\/.*|www\.msnbc\.msn\.com\/id\/.*\/vp\/.*|www\.msnbc\.msn\.com\/id\/.*\/ns\/.*|today\.msnbc\.msn\.com\/id\/.*\/ns\/.*|multimedia\.foxsports\.com\/m\/video\/.*\/.*|msn\.foxsports\.com\/video.*|www\.globalpost\.com\/video\/.*|www\.globalpost\.com\/dispatch\/.*|guardian\.co\.uk\/.*\/video\/.*\/.*\/.*\/.*|www\.guardian\.co\.uk\/.*\/video\/.*\/.*\/.*\/.*|bravotv\.com\/.*\/.*\/videos\/.*|www\.bravotv\.com\/.*\/.*\/videos\/.*|video\.nationalgeographic\.com\/.*\/.*\/.*\.html|dsc\.discovery\.com\/videos\/.*|animal\.discovery\.com\/videos\/.*|health\.discovery\.com\/videos\/.*|investigation\.discovery\.com\/videos\/.*|military\.discovery\.com\/videos\/.*|planetgreen\.discovery\.com\/videos\/.*|science\.discovery\.com\/videos\/.*|tlc\.discovery\.com\/videos\/.*|video\.forbes\.com\/fvn\/.*|vine\.co\/v\/.*|www\.vine\.co\/v\/.*|video\.foxnews\.com\/v\/.*|nbcnews\.com\/.*|www\.nbcnews\.com\/.*)))/i;
window.app=window.app||{};
app.templates={ajax_error_message:'<h1>Whoops, our bad!!!</h1>       <h3>Something went wrong; we have to reload the page</h3>       <p class="callout"><a class="facebox" href="/feedback/new">Contact us</a> if this keeps happening</p>',link_injection_error_message:"<h1>Something weird is going on!</h1>       <p>We noticed some links on the page that shouldn't be there. It's       possible you have a malicious browser extension installed that is       putting spam on the page.</p>",twitter_embed:Hogan.compile('<blockquote class="twitter-tweet"><a href="{{tweet_url}}"></a></blockquote>'),
cosign_message:function(){var a=null;return function(){a||(a=Hogan.compile('<li class="cosign_message" data-user-id="{{user_id}}" data-uncosign-path="{{uncosign_path}}"><a href="{{artist_url}}" class="cosigner">You</a> cosigned this '+app.sc("annotation.singular_noun")+' {{#moderator}}<a href="#" class="remove_cosign">Remove</a>{{/moderator}}</li>'));return a}}(),rg_standalone_annotation_embed:function(){var a=null;return function(){a||(a=Hogan.compile('<blockquote class="rg_standalone_container" data-src="//'+
CANONICAL_DOMAIN+"/annotations/{{annotation_id}}/standalone_embed"+("undefined"!==typeof RG_EMBEDDED_PAGE&&RG_EMBEDDED_PAGE?"":"?dark=1")+'"></blockquote>'));return a}}()};window.app=window.app||{};$.expr[":"].inner_text_matches=function(a,e,d){return(new RegExp(d[3],"i")).test($.trim($(a).text()))};
$.extend(window.app,{setup_embedly_pro:function(a,e){var d,c;"function"===typeof a?(c=a,d=$(".embedly_pro:visible")):(c=e||$.noop,d=$(a||".embedly_pro:visible"));d.find("a:inner_text_matches(^https?://)").each(function(){if(app.embedlyURLre.test(this.href))return!0;var a=$(this);a.embedly({key:EMBEDLY_KEY,width:"",secure:!0,query:{secure:"true"},display:function(b){if(b.description&&a.parent().contents().last()[0]===a[0]&&a.is(":only-child")){var d='<div class="embedly_preview"><img class="thumb" src="'+
(b.thumbnail_url||"")+'">           <div class="text"><a class="title" href="'+b.original_url+'">'+b.title+'</a>           <a class="provider" href="'+b.provider_url+'">'+b.provider_name+'</a>           <div class="description">'+b.description+"</div></div></div>";b.thumbnail_url||(d=$(d).removeClass("has_thumb").find("img.thumb").remove().end().outer_html());a.replaceWith(d)}else a.text(b.title);c()}})})},setup_embedly:function(a,e){var d,c;"function"===typeof a?(c=a,d=$(".embedly:visible")):(c=
e||$.noop,d=$(a||".embedly:visible"));d.find("a:inner_text_matches(^https?://)").each(function(){var a=$(this),b;if(a.parent().is(".embedly_preview"))return!0;if(app.twitterURLre.test(this.href))a.replaceWith($(app.templates.twitter_embed.render({tweet_url:this.href}))),$.getScript("//platform.twitter.com/widgets.js",c);else if(app.rgURLre.test(this.href)&&this.href===a.text()&&!a.closest(".embedded_annotation.standalone_embed").length)b=app.rgURLre.exec(this.href).pop(),a.replaceWith($(app.templates.rg_standalone_annotation_embed().render({annotation_id:b}))),
$.getScript("//"+CANONICAL_DOMAIN+"/annotations/load_standalone_embeds.js",c);else{if(b=this.href.match(/https?:\/\/embed\.vidyard\.com\/(landingpage|share)\/(.*)/i))return a.addClass("vidyard_container").attr("data-vidyard-id",b[2]).removeAttr("href"),app.load_vidyard_players(d,!1,c),!0;if(app.embedlyURLre.test(this.href))b=a.closest("[data-embedly-width]").attr("data-embedly-width")||a.parent().width()-10,MOBILE_DEVICE&&(b=a.parent().width()),a.embedly({addImageStyles:!1,className:"embedly_preview",
secure:!0,query:{maxwidth:b,luxe:!MOBILE_DEVICE,secure:"true"},key:EMBEDLY_KEY,width:"",display:function(a){var b=a.html;/soundcloud\.com/.test(b)&&(a.html=b.replace("visual%3Dtrue","visual%3Dfalse").replace(/height="\d+"/,'height="165"'),a.height=165);a.display();c()}});else return!0}a.text("Loading embed...")});app.setup_embedly_pro(a,c)}});
window.Modernizr=function(a,e,d){function c(a,b){for(var c in a){var e=a[c];if(!~(""+e).indexOf("-")&&k[e]!==d)return"pfx"==b?e:!0}return!1}function h(a,b,e){var f=a.charAt(0).toUpperCase()+a.slice(1),g=(a+" "+q.join(f+" ")+f).split(" ");if("string"===typeof b||"undefined"===typeof b)b=c(g,b);else a:{g=(a+" "+m.join(f+" ")+f).split(" "),a=g;for(var h in a)if(f=b[a[h]],f!==d){b=!1===e?a[h]:"function"===typeof f?f.bind(e||b):f;break a}b=!1}return b}var b={},g=e.documentElement,f=e.createElement("modernizr"),
k=f.style,p=" -webkit- -moz- -o- -ms- ".split(" "),q=["Webkit","Moz","O","ms"],m=["webkit","moz","o","ms"],f={},s=[],t=s.slice,v,r=function(a,b,c,d){var f,h,k,m,p=e.createElement("div"),q=e.body,r=q||e.createElement("body");if(parseInt(c,10))for(;c--;)k=e.createElement("div"),k.id=d?d[c]:"modernizr"+(c+1),p.appendChild(k);return f=['&#173;<style id="smodernizr">',a,"</style>"].join(""),p.id="modernizr",(q?p:r).innerHTML+=f,r.appendChild(p),q||(r.style.background="",r.style.overflow="hidden",m=g.style.overflow,
g.style.overflow="hidden",g.appendChild(r)),h=b(p,a),q?p.parentNode.removeChild(p):(r.parentNode.removeChild(r),g.style.overflow=m),!!h},z={}.hasOwnProperty,x;"undefined"===typeof z||"undefined"===typeof z.call?x=function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]}:x=function(a,b){return z.call(a,b)};Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=t.call(arguments,1),d=function(){if(this instanceof
d){var e=function(){};e.prototype=b.prototype;var e=new e,f=b.apply(e,c.concat(t.call(arguments)));return Object(f)===f?f:e}return b.apply(a,c.concat(t.call(arguments)))};return d});f.flexbox=function(){return h("flexWrap")};f.flexboxlegacy=function(){return h("boxDirection")};f.touch=function(){var b;return"ontouchstart"in a||a.DocumentTouch&&e instanceof DocumentTouch?b=!0:r(["@media (",p.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(a){b=9===a.offsetTop}),
b};f.history=function(){return!!a.history&&!!history.pushState};f.csstransforms=function(){return!!h("transform")};f.csstransforms3d=function(){var a=!!h("perspective");return a&&"webkitPerspective"in g.style&&r("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=9===b.offsetLeft&&3===b.offsetHeight}),a};for(var w in f)x(f,w)&&(v=w.toLowerCase(),b[v]=f[w](),s.push((b[v]?"":"no-")+v));b.addTest=function(a,c){if("object"==typeof a)for(var e in a)x(a,
e)&&b.addTest(e,a[e]);else{a=a.toLowerCase();if(b[a]!==d)return b;c="function"==typeof c?c():c;g.className+=" "+(c?"":"no-")+a;b[a]=c}return b};k.cssText="";return f=null,function(a,b){function c(){var a=w.elements;return"string"==typeof a?a.split(" "):a}function d(a){var b=r[a[q]];return b||(b={},n++,a[q]=n,r[n]=b),b}function e(a,c,f){c||(c=b);if(s)return c.createElement(a);f||(f=d(c));var g;return f.cache[a]?g=f.cache[a].cloneNode():m.test(a)?g=(f.cache[a]=f.createElem(a)).cloneNode():g=f.createElem(a),
!g.canHaveChildren||k.test(a)||g.tagUrn?g:f.frag.appendChild(g)}function f(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag());a.createElement=function(c){return w.shivMethods?e(c,a,b):b.createElem(c)};a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(w,
b.frag)}function g(a){a||(a=b);var c=d(a);if(w.shivCSS&&!p&&!c.hasCSS){var e,h=a;e=h.createElement("p");h=h.getElementsByTagName("head")[0]||h.documentElement;e=(e.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>",h.insertBefore(e.lastChild,h.firstChild));c.hasCSS=!!e}return s||f(a,c),a}var h=a.html5||{},k=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
m=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p,q="_html5shiv",n=0,r={},s;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>";p="hidden"in a;var c;if(!(c=1==a.childNodes.length)){b.createElement("a");var d=b.createDocumentFragment();c="undefined"==typeof d.cloneNode||"undefined"==typeof d.createDocumentFragment||"undefined"==typeof d.createElement}s=c}catch(e){s=p=!0}})();var w={elements:h.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",
version:"3.7.0",shivCSS:!1!==h.shivCSS,supportsUnknownElements:s,shivMethods:!1!==h.shivMethods,type:"default",shivDocument:g,createElement:e,createDocumentFragment:function(a,e){a||(a=b);if(s)return a.createDocumentFragment();e=e||d(a);for(var f=e.frag.cloneNode(),g=0,h=c(),k=h.length;g<k;g++)f.createElement(h[g]);return f}};a.html5=w;g(b)}(this,e),b._version="2.8.3",b._prefixes=p,b._domPrefixes=m,b._cssomPrefixes=q,b.testProp=function(a){return c([a])},b.testAllProps=h,b.testStyles=r,g.className=
g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+s.join(" ")),b}(this,this.document);
(function(a,e,d){function c(a){return"[object Function]"==v.call(a)}function h(a){return"string"==typeof a}function b(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function f(){var a=r.shift();z=1;a?a.t?s(function(){("c"==a.t?M.injectCss:M.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),f()):z=0}function k(a,b,c,d,h,k,m){function p(c){if(!x&&g(q.readyState)&&(C.r=x=1,!z&&f(),q.onload=q.onreadystatechange=null,c)){"img"!=a&&s(function(){B.removeChild(q)},50);for(var d in A[b])A[b].hasOwnProperty(d)&&
A[b][d].onload()}}m=m||M.errorTimeout;var q=e.createElement(a),x=0,v=0,C={t:c,s:b,e:h,a:k,x:m};1===A[b]&&(v=1,A[b]=[]);"object"==a?q.data=b:(q.src=b,q.type=a);q.width=q.height="0";q.onerror=q.onload=q.onreadystatechange=function(){p.call(this,v)};r.splice(d,0,C);"img"!=a&&(v||2===A[b]?(B.insertBefore(q,w?null:t),s(p,m)):A[b].push(q))}function p(a,b,c,d,e){return z=0,b=b||"j",h(a)?k("c"==b?I:C,a,b,this.i++,c,d,e):(r.splice(this.i++,0,a),1==r.length&&f()),this}function q(){var a=M;return a.loader={load:p,
i:0},a}var m=e.documentElement,s=a.setTimeout,t=e.getElementsByTagName("script")[0],v={}.toString,r=[],z=0,x="MozAppearance"in m.style,w=x&&!!e.createRange().compareNode,B=w?m:t.parentNode,m=a.opera&&"[object Opera]"==v.call(a.opera),m=!!e.attachEvent&&!m,C=x?"object":m?"script":"img",I=m?"script":C,D=Array.isArray||function(a){return"[object Array]"==v.call(a)},u=[],A={},E={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},K,M;M=function(a){function e(a){a=a.split("!");var b=u.length,c=
a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},f,g,h;for(g=0;g<d;g++)h=a[g].split("="),(f=E[h.shift()])&&(c=f(c,h));for(g=0;g<b;g++)c=u[g](c);return c}function f(a,b,g,h,k){var m=e(a),p=m.autoCallback;m.url.split(".").pop().split("?").shift();m.bypass||(b&&(b=c(b)?b:b[a]||b[h]||b[a.split("/").pop().split("?")[0]]),m.instead?m.instead(a,b,g,h,k):(A[m.url]?m.noexec=!0:A[m.url]=1,g.load(m.url,m.forceCSS||!m.forceJS&&"css"==m.url.split(".").pop().split("?").shift()?"c":d,m.noexec,m.attrs,m.timeout),
(c(b)||c(p))&&g.load(function(){q();b&&b(m.origUrl,k,h);p&&p(m.origUrl,k,h);A[m.url]=2})))}function g(a,d){function e(a,b){if(a)if(h(a))b||(p=function(){var a=[].slice.call(arguments);n.apply(this,a);q()}),f(a,p,d,0,k);else{if(Object(a)===a)for(s in r=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(s)&&(!b&&!--r&&(c(p)?p=function(){var a=[].slice.call(arguments);n.apply(this,a);q()}:p[s]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,
b);q()}}(n[s])),f(a[s],p,d,s,k))}else!b&&q()}var k=!!a.test,m=a.load||a.both,p=a.callback||b,n=p,q=a.complete||b,r,s;e(k?a.yep:a.nope,!!m);m&&e(m)}var k,m,p=this.yepnope.loader;if(h(a))f(a,0,p,0);else if(D(a))for(k=0;k<a.length;k++)m=a[k],h(m)?f(m,0,p,0):D(m)?M(m):Object(m)===m&&g(m,p);else Object(a)===a&&g(a,p)};M.addPrefix=function(a,b){E[a]=b};M.addFilter=function(a){u.push(a)};M.errorTimeout=1E4;null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",
K=function(){e.removeEventListener("DOMContentLoaded",K,0);e.readyState="complete"},0));a.yepnope=q();a.yepnope.executeStack=f;a.yepnope.injectJs=function(a,c,d,h,k,m){var p=e.createElement("script"),q,r;h=h||M.errorTimeout;p.src=a;for(r in d)p.setAttribute(r,d[r]);c=m?f:c||b;p.onreadystatechange=p.onload=function(){!q&&g(p.readyState)&&(q=1,c(),p.onload=p.onreadystatechange=null)};s(function(){q||(q=1,c(1))},h);k?p.onload():t.parentNode.insertBefore(p,t)};a.yepnope.injectCss=function(a,c,d,g,h,k){g=
e.createElement("link");var m;c=k?f:c||b;g.href=a;g.rel="stylesheet";g.type="text/css";for(m in d)g.setAttribute(m,d[m]);h||(t.parentNode.insertBefore(g,t),s(c,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};Modernizr.addTest("cssfilters",function(){var a=document.createElement("div");return a.style.cssText=Modernizr._prefixes.join("filter:blur(2px); "),!!a.style.length&&(void 0===document.documentMode||9<document.documentMode)});
(function(a,e){function d(c,d){var b=function(e){if(!d.is(":not(:visible)"))if(a(e.target).closest(d).length)a(document).one("click",b);else return c.toggle_target(!1),!a(e.target).is_toggle_target_control_for(d)};a(document).one("click",b)}a.fn.scroll_lock=function(){return a(this).on("DOMMouseScroll mousewheel",function(c){var d=a(this),b=this.scrollTop,e=this.scrollHeight,f=d.height(),k="DOMMouseScroll"==c.type?-40*c.originalEvent.detail:c.originalEvent.wheelDelta,p=0<k,q=function(){c.stopPropagation();
c.preventDefault();return c.returnValue=!1};if(!p&&-k>e-f-b)return d.scrollTop(e),q();if(p&&k>b)return d.scrollTop(0),q()})};a.fn.scroll_release=function(){return a(this).off("DOMMouseScroll mousewheel")};a.fn.outer_html=function(){return this[0].outerHTML};a.fn.unique_items_in_array=function(){var c=[];a.each(this,function(d,b){-1==a.inArray(b,c)&&c.push(b)});return c};a.fn.force_reflow=function(){this[0].offsetHeight;return this};a.fn.is_scrolled_into_view=function(){return this.is_scrolled_vertically_into_view()&&
this.is_scrolled_horizontally_into_view()};a.fn.is_scrolled_vertically_into_view=function(){var a=this[0].getBoundingClientRect();return 0<=a.top&&a.bottom<=window.innerHeight};a.fn.is_scrolled_horizontally_into_view=function(){var a=this[0].getBoundingClientRect();return 0<=a.left&&a.right<=window.innerWidth};a.fn.scroll_bottom=function(){var a=this.prop("innerHeight");if(void 0!==a)return a+this.scrollTop()};a.fn.get_bounding_client_rect=function(){for(var a=this[0].getBoundingClientRect(),a={top:a.top,
bottom:a.bottom,left:a.left,right:a.right},d=1;d<this.length;d++){var b=this[d].getBoundingClientRect();a.top=Math.min(a.top,b.top);a.bottom=Math.max(a.bottom,b.bottom);a.left=Math.min(a.left,b.left);a.right=Math.max(a.right,b.right)}a.height=a.bottom-a.top;a.width=a.right-a.left;return a};a.fn.closest_block_level_element=function(){return this.parents().filter(function(){return"block"===a(this).css("display")}).first()};a.fn.is_block_level_element=function(){var c=a(this).css("display");return void 0===
c?!1:!("inline"===c||"none"===c)};a.fn.on_screen=function(c){a(this).waypoint(c,{offset:"150%",triggerOnce:!0})};a.fn.auto_load_more_on_scroll=function(){a(this).scroll(function(){a.doTimeout("context_scroll",250,function(){Waypoint.refreshAll();var c=a("a.more:visible:not(.loading, .no_auto_more a)");c.on_screen(function(){c.click()})})});return this};a.fn.scrollToCenterOfScreen=function(c){c=c||{};if(!this.length)return this;var d=a(c.scroller||(MOBILE_DEVICE?"#container":document)),b=a(window).height(),
e=this.height();d.scrollTo(this,{offset:e/2-b/2,onAfter:c.onAfter||function(){}});return this};a.fn.retainingScrollPosition=function(a,d){if(!a.length)return d(),this;var b=a.offset().top,e=this.scrollTop();d();var f=a.offset().top;if(f===b)return this;this.scrollTop(e+(f-b));return this};a.fn.reloadTooltip=function(){var a;try{a=this.qtip("api")}catch(d){return this}a.updateContent("Loading...");a.loadContent(a.options.content.url);return this};a.fn.reset_editable=function(){this.length&&"function"==
typeof this[0].reset&&this[0].reset()};a.fn.counter_value=function(){return parseInt(this.text().replace(/[^0-9]/g,""))};a.fn.change_counter_value_by=function(a){this.text(this.text().replace(/[0-9]+/,this.counter_value()+a))};a.fn.detect=function(a){var d=null;this.each(function(){if(a.call(this))return d=this,!1});return d};a.fn.insertAtCursor=function(a){return this.each(function(){if(this.selectionStart||"0"==this.selectionStart){var d=this.selectionStart,b=this.selectionEnd,e=this.scrollTop;
this.value=this.value.substring(0,d)+a+this.value.substring(b,this.value.length);this.focus();this.selectionStart=d+a.length;this.selectionEnd=d+a.length;this.scrollTop=e}else this.value+=a,this.focus()})};a.fn.submitWithAjaxQueue=function(c){var d=(c||{}).complete||a.noop;return this.each(function(){var b=a(this);app.ajaxQueue.add(a.extend({type:this.method,url:this.action,data:b.serialize()},c,{complete:function(){b.trigger("ajax:complete");d.apply(this,arguments)}}))})};a.referents_for_this_annotation=
{settings:{selector:function(a){return'a[data-id="'+a+'"]'},attribute:"data-id"}};a.fn.referents_for_this_annotation=function(){var c=this.attr(a.referents_for_this_annotation.settings.attribute),d=a.referents_for_this_annotation.settings.selector;return void 0===c?this:a(d(c))};a.fn.hydrate_diff=function(){a(this).each(function(){var c=a(this),d=new diff_match_patch,b=d.diff_main(c.data("before"),c.data("after"));d.diff_cleanupSemantic(b);c.html(d.diff_prettyHtml(b).replace(/&para;/g,""))});return this};
a.fn.chosen_auto_choose=function(c){var d=a(this),b=d.find('option[value="'+c+'"]');d.find("option.auto-selected").removeAttr("selected").removeClass("auto-selected");b.is(":selected")||b.attr("selected",!0).addClass("auto-selected");setTimeout(function(){var a=d.parent().find("ul.chzn-choices"),c=a.parent().attr("id");a.find("#"+c+"_c_"+b.index()).addClass("locked").siblings().removeClass("locked")},0);d.trigger("liszt:updated")};a.fn.toggle_target=function(c){var e=a(this).toggleClass("pressed",
c),b=e.attr("data-relative")?e.find(e.attr("data-target")):a(e.attr("data-target")),g=e.attr("data-show-with-class");g?b.toggleClass(g,c):b.toggle(c);(c=b.is(":visible"))&&app.process_auto_load_containers&&app.process_auto_load_containers();void 0!==e.attr("data-hide-on-blur")&&d(e,b);e.attr("data-hide-siblings")&&(b.is(":visible")?(b.siblings(":visible").addClass("toggle_target_hidden_sibling"),g?b.siblings().removeClass(g):b.siblings(":visible").hide()):b.siblings().removeClass("toggle_target_hidden_sibling"),
e.siblings(".toggle_target").removeClass("pressed"));g=e.attr("data-toggles-to-hide");void 0!==g&&c&&a(g).not(e).toggle_target(!1);(e=e.attr("data-focus"))&&a(e).focus();b.trigger(c?"toggle_target:visible":"toggle_target:hidden")};a.fn.is_toggle_target_control_for=function(c){var d=a(this).closest(".toggle_target");return d.length&&c.is(d.attr("data-target"))};a.fn.dirtyable=function(){if("undefined"===typeof this.data("dirty")){var c=this;this.data("dirty",!1);this.on("dirtyable:changed",function(a,
b){c.data("dirty",b).toggleClass("dirty",b)});this.on("input propertychange",function(){c.trigger("dirtyable:changed",!!c.val())});this.each(function(){var c=a(this),b=c.closest("form")[0];if(b){var d="function"===typeof b.onsubmit?b.onsubmit.bind(b):function(){return!0};b.onsubmit=function(){c.trigger("dirtyable:changed",!1);return d()};var e="function"===typeof b.onreset?b.onreset.bind(b):function(){return!0};b.onreset=function(){c.trigger("dirtyable:changed",!1);return e()}}})}};a.fn.values_for_attribute=
function(c){return a.map(a(this),function(d){return a(d).attr(c)})};a.when_all=function(c){return a.when.apply(a,c)};a.fn.toggle_boolean_attribute=function(c){var d=a(this);d.attr(c)?d.removeAttr(c):d.attr(c,!0)};a.trim=function(a){return(a||"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};a.html_to_text=function(c){return a("<div>").prop("innerHTML",c).text()};a.capitalize_first_letter=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};a.hyphen_compatible_titleize=function(a){return a.replace(/\b('?[a-z])/g,
function(a){return a.toUpperCase()})};a.trim_to_length=function(c,d){return c.length>d?a.trim(c).substring(0,d).split(" ").slice(0,-1).join(" ")+"...":c};a.fn.unwrap_contents=function(){return a(this).contents().unwrap()};a.fn.acts_like_input=function(){var c=a(this);return c.is(":input")||c.prop("isContentEditable")};a.fn.cache_iframe_contents=function(){this.each(function(){this.src||this.srcdoc||!this.contentWindow||(this.srcdoc=this.contentWindow.document.documentElement.outerHTML)})};a.fn.capture=
function(c){var d,b;2===arguments.length?b=arguments[1]:(d=arguments[1],b=arguments[2]);var e=function(c,e){var g=c.originalEvent,q;if(q=d?a(g.target).closest(d)[0]:e)g=a.extend(a.event.fix(g),{currentTarget:q,delegateTarget:e,target:g.target}),!1===b.call(q,g)&&(g.stopPropagation(),g.preventDefault())};this.each(function(){var b=a(this),d=b.data("_capture_event_listener");d||(d=a({}),b.data("_capture_event_listener",d));d.prop(c)||(d.prop(c,!0),this.addEventListener(c,function(b){d.triggerHandler(a.Event(b),
this)},!0));d.on(c,e)});return this};void 0!==a.facebox&&(a.facebox_then_reload=function(c,d){a.facebox(c);a(document).bind("close.facebox",function(){(d||PRODUCTION_ENV)&&window.location.reload(!0)})});a.ajax_with_retry=function(c){c=a.extend({},{retry_limit:2,type:"get",dataType:"html",success:function(){},data:{}},c);a.ajax({url:c.url,type:c.type,data:c.data,dataType:c.dataType,try_count:0,retry_limit:c.retry_limit,success:c.success,error:function(){this.try_count++;this.try_count<=this.retry_limit&&
a.ajax(this)}})};a.event_emitter={ensure_jquery_wrapper:function(){return this.jquery_wrapper||(this.jquery_wrapper=a(this))},emit:function(a,d){this.ensure_jquery_wrapper().triggerHandler(a,d)},once:function(a,d){this.ensure_jquery_wrapper().one(a,d)},on:function(a,d){this.ensure_jquery_wrapper().bind(a,d)},off:function(a,d){this.ensure_jquery_wrapper().unbind(a,d)}};a.get_selection=function(){var c=(window.getSelection||document.getSelection||a.noop)();if("undefined"!==typeof c&&c.rangeCount&&!c.isCollapsed)return c};
a.get_selection_range=function(){return getSelection().getRangeAt(0)};a.on_body_available=function(){var c=a.Deferred();if(document.body)c.resolve();else{var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!d)return a;(new d(function(a,d){document.body&&(d.disconnect(),c.resolve())})).observe(document.documentElement,{childList:!0})}d=c.promise();return d.done.bind(d)}();a(function(){var c=function(){var b=a.get_selection();if(b)return a("<div>").append(b.getRangeAt(0).cloneContents()).html()};
a(document).on("mouseup",function(){setTimeout(function(){var b=a.get_selection();if(b)for(var c=0;c<b.rangeCount;c++){for(var d=b.getRangeAt(c),e=d.commonAncestorContainer;e.nodeType!==Node.ELEMENT_NODE;)e=e.parentNode;var h=a.Event("textselected",{selection:b,range:d,triggering_event:h});a(e).trigger(h)}},0)});if(e.touch){var d=function(b){c()&&a(b.target).trigger("textselected",{triggering_event:b});window.setImmediate(function(){a(document).one("selectionchange",d)})};a(document).one("selectionchange",
d)}})})(jQuery,Modernizr);
(function(){var a=[].slice;(function(a){return"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)})(function(e){var d,c,h,b,g,f,k,p,q;return h=function(){function a(b){this.current_flag=null;this.controllers={};this.$inputor=e(b);this.listen()}return a.prototype.controller=function(a){return this.controllers[a||this.current_flag]},a.prototype.set_context_for=function(a){return this.current_flag=a,this},a.prototype.reg=function(a,c){var d,e;return d=(e=this.controllers)[a]||
(e[a]=new b(this,a)),c.alias&&(this.controllers[c.alias]=d),d.init(c),this},a.prototype.listen=function(){var a=this;return this.$inputor.on("keyup.atwho",function(b){return a.on_keyup(b)}).on("keydown.atwho",function(b){return a.on_keydown(b)}).on("scroll.atwho",function(b){var c;return null!=(c=a.controller())?c.view.hide():void 0}).on("blur.atwho",function(b){if(b=a.controller())return b.view.hide(b.get_opt("display_timeout"))})},a.prototype.dispatch=function(){var a=this;return e.map(this.controllers,
function(b){if(b.look_up())return a.set_context_for(b.key)})},a.prototype.on_keyup=function(a){var b;switch(a.keyCode){case k.ESC:a.preventDefault();null!=(b=this.controller())&&b.view.hide();break;case k.DOWN:case k.UP:e.noop();break;default:this.dispatch()}},a.prototype.on_keydown=function(a){var b,c;if((b=null!=(c=this.controller())?c.view:void 0)&&b.visible())switch(a.keyCode){case k.ESC:a.preventDefault();b.hide();break;case k.UP:a.preventDefault();b.prev();break;case k.DOWN:a.preventDefault();
b.next();break;case k.TAB:case k.ENTER:if(!b.visible())break;a.preventDefault();b.choose();break;default:e.noop()}},a}(),b=function(){function b(a,f){this.app=a;this.key=f;this.$inputor=this.app.$inputor;this.id=this.$inputor[0].id||c();this.query=this.setting=null;this.pos=0;d.append(this.$el=e("<div id='atwho-ground-"+this.id+"'></div>"));this.model=new p(this);this.view=new q(this)}var c,f;return f=0,c=function(){return f+=1},b.prototype.init=function(a){return this.setting=e.extend({},this.setting||
e.fn.atwho["default"],a),this.model.reload(this.setting.data)},b.prototype.super_call=function(){var b,c;c=arguments[0];b=2<=arguments.length?a.call(arguments,1):[];try{return g[c].apply(this,b)}catch(d){return e.error(""+d+" Or maybe At.js doesn't have function "+c)}},b.prototype.trigger=function(a,b){var c,d;return b.push(this),c=this.get_opt("alias"),d=c?""+a+"-"+c+".atwho":""+a+".atwho",this.$inputor.trigger(d,b)},b.prototype.callbacks=function(a){return this.get_opt("callbacks")[a]||g[a]},b.prototype.get_opt=
function(a,b){try{return this.setting[a]}catch(c){return null}},b.prototype.catch_query=function(){var a,b,c,d,e,f;return b=this.$inputor.val(),a=this.$inputor.caret("pos"),f=b.slice(0,a),d=this.callbacks("matcher").call(this,this.key,f),"string"==typeof d&&d.length<=this.get_opt("max_len",20)?(e=a-d.length,c=e+d.length,this.pos=e,d={text:d.toLowerCase(),head_pos:e,end_pos:c},this.trigger("matched",[this.key,d.text])):this.view.hide(),this.query=d},b.prototype.rect=function(){var a,b;return a=this.$inputor.caret("offset",
this.pos-1),b=document.selection?0:2,{left:a.left,top:a.top,bottom:a.top+a.height+b}},b.prototype.insert=function(a){var b,c,d,e,f;return b=this.$inputor,a=""+a,d=b.val(),c=this.get_opt("display_flag")?0:this.key.length,e=d.slice(0,(this.query.head_pos||0)-c),f=""+e+a+" "+d.slice(this.query.end_pos||0),b.val(f),b.caret("pos",e.length+a.length+1),b.change()},b.prototype.render_view=function(a){var b;return b=this.get_opt("search_key"),a=this.callbacks("sorter").call(this,this.query.text,a.slice(0,
1001),b),this.view.render(a.slice(0,this.get_opt("limit")))},b.prototype.look_up=function(){var a,b;if(a=this.catch_query())return b=function(a){return a&&0<a.length?this.render_view(a):this.view.hide()},this.model.query(a.text,e.proxy(b,this)),a},b}(),p=function(){function a(b){this.context=b;this.key=this.context.key}var b;return b={},a.prototype.saved=function(){return 0<this.fetch()},a.prototype.query=function(a,b){var c,d,e;c=this.fetch();d=this.context.get_opt("search_key");b(c=this.context.callbacks("filter").call(this.context,
a,c,d));if(!(c&&0<c.length))return null!=(e=this.context.callbacks("remote_filter"))?e.call(this.context,a,b):void 0},a.prototype.fetch=function(){return b[this.key]||[]},a.prototype.save=function(a){return b[this.key]=this.context.callbacks("before_save").call(this.context,a||[])},a.prototype.load=function(a){if(!this.saved()&&a)return this._load(a)},a.prototype.reload=function(a){return this._load(a)},a.prototype._load=function(a){var b=this;return"string"==typeof a?e.ajax(a,{dataType:"json"}).done(function(a){return b.save(a)}):
this.save(a)},a}(),q=function(){function a(b){this.context=b;this.key=this.context.key;this.id=this.context.get_opt("alias")||"at-view-"+this.key.charCodeAt(0);this.$el=e("<div id='"+this.id+"' class='atwho-view'><ul id='"+this.id+"-ul' class='atwho-view-url'></ul></div>");this.timeout_id=null;this.context.$el.append(this.$el);this.bind_event()}return a.prototype.bind_event=function(){var a,b=this;return a=this.$el.find("ul"),a.on("mouseenter.view","li",function(b){return a.find(".cur").removeClass("cur"),
e(b.currentTarget).addClass("cur")}).on("click",function(a){return b.choose(),a.preventDefault()})},a.prototype.visible=function(){return this.$el.is(":visible")},a.prototype.choose=function(){var a;return a=this.$el.find(".cur"),this.context.insert(this.context.callbacks("before_insert").call(this.context,a.data("value"),a)),this.context.trigger("inserted",[a]),this.hide()},a.prototype.reposition=function(){var a,b;return b=this.context.rect(),b.bottom+this.$el.height()-e(window).scrollTop()>e(window).height()&&
(b.bottom=b.top-this.$el.height()),a={left:b.left,top:b.bottom},this.$el.offset(a),this.context.trigger("reposition",[a])},a.prototype.next=function(){var a,b;return a=this.$el.find(".cur").removeClass("cur"),b=a.next(),b.length||(b=this.$el.find("li:first")),b.addClass("cur")},a.prototype.prev=function(){var a,b;return a=this.$el.find(".cur").removeClass("cur"),b=a.prev(),b.length||(b=this.$el.find("li:last")),b.addClass("cur")},a.prototype.show=function(){return this.visible()||this.$el.show(),
this.reposition()},a.prototype.hide=function(a){var b,c=this;return isNaN(a&&this.visible())?this.$el.hide():(b=function(){return c.hide()},clearTimeout(this.timeout_id),this.timeout_id=setTimeout(b,a))},a.prototype.render=function(a){var b,c,d,g,h,k;if(e.isArray(a||0>=a.length)){this.$el.find("ul").empty();c=this.$el.find("ul");g=this.context.get_opt("tpl",f);h=0;for(k=a.length;h<k;h++)d=a[h],b=this.context.callbacks("tpl_eval").call(this.context,g,d),b=e(this.context.callbacks("highlighter").call(this.context,
b,this.context.query.text)),b.data("atwho-info",d),c.append(b);return this.show(),c.find("li:first").addClass("cur")}this.hide()},a}(),k={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13},g={before_save:function(a){var b,c,d,f;if(!e.isArray(a))return a;f=[];c=0;for(d=a.length;c<d;c++)b=a[c],e.isPlainObject(b)?f.push(b):f.push({name:b});return f},matcher:function(a,b){var c,d;return a="(?:^|\\s)"+a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),d=new RegExp(a+"([A-Za-z0-9_+-]*)$|"+a+"([^\\x00-\\xff]*)$",
"gi"),c=d.exec(b),c?c[2]||c[1]:null},filter:function(a,b,c){var d,e,f,g;g=[];e=0;for(f=b.length;e<f;e++)d=b[e],~d[c].toLowerCase().indexOf(a)&&g.push(d);return g},remote_filter:null,sorter:function(a,b,c){var d,e,f,g;if(!a)return b;g=[];e=0;for(f=b.length;e<f;e++)d=b[e],d.atwho_order=d[c].toLowerCase().indexOf(a),-1<d.atwho_order&&g.push(d);return g.sort(function(a,b){return a.atwho_order-b.atwho_order})},tpl_eval:function(a,b){try{return a.replace(/\$\{([^\}]*)\}/g,function(a,c,d){return b[c]})}catch(c){return""}},
highlighter:function(a,b){var c;return b?(c=new RegExp(">\\s*(\\w*)("+b.replace("+","\\+")+")(\\w*)\\s*<","ig"),a.replace(c,function(a,b,c,d){return"> "+b+"<strong>"+c+"</strong>"+d+" <"})):a},before_insert:function(a,b){return a}},f="<li data-value='${name}'>${name}</li>",c={init:function(a){var b,c;return c=(b=e(this)).data("atwho"),c||b.data("atwho",c=new h(this)),c.reg(a.at,a)},load:function(a,b){var c;if(c=this.controller(a))return c.model.load(b)},run:function(){return this.dispatch()}},d=e("<div id='atwho-container'></div>"),
e.fn.atwho=function(a){var b;return b=arguments,e("body").append(d),this.filter("textarea, input").each(function(){var d;if("object"==typeof a||!a)return c.init.apply(this,b);if(!c[a])return e.error("Method "+a+" does not exist on jQuery.caret");if(d=e(this).data("atwho"))return c[a].apply(d,Array.prototype.slice.call(b,1))})},e.fn.atwho["default"]={at:void 0,alias:void 0,data:null,tpl:f,callbacks:g,search_key:"name",limit:5,max_len:20,display_flag:!0,display_timeout:300}})}).call(this);
(function(){(function(a){return"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)})(function(a){var e,d,c;return e=function(){function c(a){this.$inputor=a;this.domInputor=this.$inputor[0]}return c.prototype.getPos=function(){var a,c,d,e,h,q,m;return c=this.domInputor,c.focus(),document.selection?(h=document.selection.createRange(),h&&h.parentElement()===c&&(e=c.value.replace(/\r\n/g,"\n"),d=e.length,m=c.createTextRange(),m.moveToBookmark(h.getBookmark()),a=c.createTextRange(),
a.collapse(!1),-1<m.compareEndPoints("StartToEnd",a)?q=d:(q=-m.moveStart("character",-d),m.moveEnd("character",-d)))):q=c.selectionStart,q},c.prototype.setPos=function(a){var c,d;return c=this.domInputor,document.selection?(d=c.createTextRange(),d.move("character",a),d.select()):c.setSelectionRange(a,a)},c.prototype.getPosition=function(a){var c,e,h,p,q,m,s,t,v;return c=this.$inputor,h=function(a){return a.replace(/</g,"&lt").replace(/>/g,"&gt").replace(/`/g,"&#96").replace(/"/g,"&quot").replace(/\r\n|\r|\n/g,
"<br />")},a=a||this.getPos(),s=c.val().slice(0,a),q="<span>"+h(s)+"</span>",q+="<span id='caret'>|</span>",m=new d(c),e=m.create(q).rect(),t=e.left-c.scrollLeft(),v=e.top-c.scrollTop(),p=e.height,{left:t,top:v,height:p}},c.prototype.getOffset=function(b){var c,d,e,h,q,m,s;return c=this.$inputor,document.selection?(q=this.domInputor.createTextRange(),b&&q.move("character",b),m=q.boundingLeft+c.scrollLeft(),s=q.boundingTop+a(window).scrollTop()+c.scrollTop(),d=q.boundingHeight):(e=c.offset(),h=this.getPosition(b),
m=e.left+h.left,s=e.top+h.top,d=h.height),{left:m,top:s,height:d}},c}(),d=function(){function c(a){this.$inputor=a}return c.prototype.css_attr="overflowY height width paddingTop paddingLeft paddingRight paddingBottom marginTop marginLeft marginRight marginBottom fontFamily borderStyle borderWidth wordWrap fontSize lineHeight overflowX text-align".split(" "),c.prototype.mirrorCss=function(){var b,c=this;return b={position:"absolute",left:-9999,top:0,zIndex:-2E4,"white-space":"pre-wrap"},a.each(this.css_attr,
function(a,d){return b[d]=c.$inputor.css(d)}),b},c.prototype.create=function(b){return this.$mirror=a("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(b),this.$inputor.after(this.$mirror),this},c.prototype.rect=function(){var a,c,d;return a=this.$mirror.find("#caret"),c=a.position(),d={left:c.left,top:c.top,height:a.height()},this.$mirror.remove(),d},c}(),c={pos:function(a){return a?this.setPos(a):this.getPos()},position:function(a){return this.getPosition(a)},offset:function(a){return this.getOffset(a)}},
a.fn.caret=function(d){var b;return b=new e(this),c[d]?c[d].apply(b,Array.prototype.slice.call(arguments,1)):a.error("Method "+d+" does not exist on jQuery.caret")}})}).call(this);var Tracking=function(){this.annotations_opened=0;this.line_item_opens={};this.song_page_loaded_from_direct_link_to_un_annotated_line=this.enabled=!1};
Tracking.prototype={start_tracking:function(){if("undefined"===typeof mixpanel)return!1;this.enabled=!0;var a;"undefined"!==typeof CURRENT_TAG&&CURRENT_TAG&&(a=CURRENT_TAG.tag.slug);mixpanel.register({"Logged In":!!CURRENT_USER,"Is Editor":CURRENT_USER&&CURRENT_USER.is_editor,"Is Moderator":CURRENT_USER&&CURRENT_USER.is_moderator,"Mobile Site":MOBILE_DEVICE,Channel:CURRENT_CHANNEL,Tag:a});CURRENT_USER&&mixpanel.identify(CURRENT_USER.id);app.is_on_song_page&&app.is_on_song_page()&&this.track("Song Page Load");
mixpanel.track_links(".android_interstitial-download","clicked_download_from_android_interstitial",{"from url":document.location.href})},track:function(a,e){if(!this.enabled)return!1;var d;-1<["Annotation Browser Navigation","play_song_media","opened_what_is_genius_dropdown"].indexOf(a)?d=e:"Song Page Load"===a?d={"Un-annotated direct link":!!this.song_page_loaded_from_direct_link_to_un_annotated_line,"Un-annotated line":this.song_page_loaded_from_direct_link_to_un_annotated_line}:"Wrapped Web Page Load"===
a||"Annotated Web Page Load"==a?d={"Source location":e.source_location,script_source:e.script_source,script_source_version:e.script_source_version,"Host Page Referrer":e.referrer}:"Open Annotation"===a||"Engaged Annotation View"===a?(this.annotations_opened++,d={"Annotation ID":e.annotation_id,"Annotator Login":e.annotator_login,"Annotatable Type":e.annotatable_type,script_source:e.script_source,script_source_version:e.script_source_version},e.skip_counters||$.extend(d,{"Cumulative Annos Opened":this.annotations_opened,
"Anno Opened from Permalink":e.annotation_id===this.annotation_id_opened_from_permalink,"First Anno was Permalink":!!this.annotation_id_opened_from_permalink})):"Offsite Filter Selection"===a?d={"Filter Type":e.filter_type,"Filter Arguments":e.filter_args,"Filter Reason":e.reason,script_source:e.script_source,script_source_version:e.script_source_version}:"Inbox Open"===a?d={"Inbox Name":e.inbox_name,"Unread Count When Opened":e.unread_count}:"Line Item Open"===a&&("undefined"==typeof this.line_item_opens[e.inbox_name]&&
(this.line_item_opens[e.inbox_name]=0),d={"Inbox Name":e.inbox_name,"Line Item Index":e.index,"Action Name":e.action_name,"Target Type":e.target_type,"Viewing Context":e.viewing_context,"Cumulative Line Items Opened":this.line_item_opens[e.inbox_name]++,"Line Item Strategy":e.strategy_name});mixpanel.track(a,$.extend({},TRACKING_DATA,d,{genius_platform:"web"}))},set_annotation_opened_from_permalink:function(a){this.annotation_id_opened_from_permalink=a},set_song_page_loaded_from_direct_link_to_un_annotated_line:function(a){this.song_page_loaded_from_direct_link_to_un_annotated_line=
a}};$.extend(window.app,{tracking:new Tracking});$(function(){$(document.body).on("annotation:open","a[data-id]",function(){app.tracking.track("Open Annotation",{annotation_id:$(this).attr("data-id")})});$(document).on("click",".show_help:not(.pressed)",function(){app.tracking.track("opened_what_is_genius_dropdown",{standalone_annotation:0<$(this).closest(".stand_alone_annotation_container").length})})});
(function(){function a(a,c){c=c||"";"string"!==typeof a&&(a.global&&0>c.indexOf("g")&&(c+="g"),a.ignoreCase&&0>c.indexOf("i")&&(c+="i"),a.multiline&&0>c.indexOf("m")&&(c+="m"),a=a.source);return new RegExp(a.replace(/#\{(\w+)\}/g,function(a,c){var d=b.txt.regexen[c]||"";"string"!==typeof d&&(d=d.source);return d}),c)}function e(a,b){return a.replace(/#\{(\w+)\}/g,function(a,c){return b[c]||""})}function d(a,b,c){var d=String.fromCharCode(b);c!==b&&(d+="-"+String.fromCharCode(c));a.push(d);return a}
function c(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function h(a,b,c){return c?!a||a.match(b)&&RegExp["$&"]===a:"string"===typeof a&&a.match(b)&&RegExp["$&"]===a}if("undefined"===typeof b||null===b)var b={};b.txt={};b.txt.regexen={};var g={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};b.txt.htmlEscape=function(a){return a&&a.replace(/[&"'><]/g,function(a){return g[a]})};b.txt.regexSupplant=a;b.txt.stringSupplant=e;b.txt.addCharsToCharClass=d;var f=String.fromCharCode,
k=[f(32),f(133),f(160),f(5760),f(6158),f(8232),f(8233),f(8239),f(8287),f(12288)];d(k,9,13);d(k,8192,8202);var p=[f(65534),f(65279),f(65535)];d(p,8234,8238);b.txt.regexen.spaces_group=a(k.join(""));b.txt.regexen.spaces=a("["+k.join("")+"]");b.txt.regexen.invalid_chars_group=a(p.join(""));b.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/;b.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/mg;b.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/mg;
k=[];d(k,192,214);d(k,216,246);d(k,248,255);d(k,256,591);d(k,595,596);d(k,598,599);d(k,601,601);d(k,603,603);d(k,611,611);d(k,616,616);d(k,623,623);d(k,626,626);d(k,649,649);d(k,651,651);d(k,699,699);d(k,768,879);d(k,7680,7935);b.txt.regexen.latinAccentChars=a(k.join(""));b.txt.regexen.hashSigns=/[#\uff03]/;b.txt.regexen.hashtagAlpha=/[A-Za-z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b2\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c00-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d01-\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8\u19c9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f\u1ab0-\u1abe\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1cf8\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9e5\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2d]/;
b.txt.regexen.hashtagAlphaNumeric=/[A-Za-z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b2\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c00-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d01-\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8\u19c9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f\u1ab0-\u1abe\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1cf8\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9e5\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2d0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19_\u200c\u200d\ua67e\u05be\u05f3\u05f4\u309b\u309c\u30a0\u30fb\u3003\u0f0b\u0f0c\u0f0d]/;
b.txt.regexen.endHashtagMatch=a(/^(?:#{hashSigns}|:\/\/)/);b.txt.regexen.hashtagBoundary=/(?:^|$|[^&A-Za-z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b2\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c00-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d01-\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8\u19c9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f\u1ab0-\u1abe\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1cf8\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9e5\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2d0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19_\u200c\u200d\ua67e\u05be\u05f3\u05f4\u309b\u309c\u30a0\u30fb\u3003\u0f0b\u0f0c\u0f0d])/;
b.txt.regexen.validHashtag=a(/(#{hashtagBoundary})(#{hashSigns})(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi);b.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@\uff20]|(?:rt|RT|rT|Rt):?)/;b.txt.regexen.atSigns=/[@\uff20]/;b.txt.regexen.validMentionOrList=a("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g");b.txt.regexen.validReply=a(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/);b.txt.regexen.endMentionMatch=
a(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/);b.txt.regexen.validUrlPrecedingChars=a(/(?:[^A-Za-z0-9@\uff20$#\uff03#{invalid_chars_group}]|^)/);b.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/;b.txt.regexen.invalidDomainChars=e("#{punct}#{spaces_group}#{invalid_chars_group}",b.txt.regexen);b.txt.regexen.validDomainChars=a(/[^#{invalidDomainChars}]/);b.txt.regexen.validSubdomain=a(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/);b.txt.regexen.validDomainName=
a(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/);b.txt.regexen.validGTLD=a(/(?:(?:abogado|academy|accountants|active|actor|adult|aero|agency|airforce|allfinanz|alsace|android|aquarelle|archi|army|arpa|asia|associates|attorney|auction|audio|autos|axa|band|bar|bargains|bayern|beer|berlin|best|bid|bike|bio|biz|black|blackfriday|bloomberg|blue|bmw|bnpparibas|boo|boutique|brussels|budapest|build|builders|business|buzz|bzh|cab|cal|camera|camp|cancerresearch|capetown|capital|caravan|cards|care|career|careers|cartier|casa|cash|cat|catering|center|ceo|cern|channel|cheap|christmas|chrome|church|citic|city|claims|cleaning|click|clinic|clothing|club|coach|codes|coffee|college|cologne|com|community|company|computer|condos|construction|consulting|contractors|cooking|cool|coop|country|credit|creditcard|cricket|crs|cruises|cuisinella|cymru|dad|dance|dating|day|deals|degree|delivery|democrat|dental|dentist|desi|diamonds|diet|digital|direct|directory|discount|dnp|domains|durban|dvag|eat|edu|education|email|emerck|energy|engineer|engineering|enterprises|equipment|esq|estate|eurovision|eus|events|everbank|exchange|expert|exposed|fail|farm|fashion|feedback|finance|financial|firmdale|fish|fishing|fitness|flights|florist|flsmidth|fly|foo|forsale|foundation|frl|frogans|fund|furniture|futbol|gal|gallery|gbiz|gent|gift|gifts|gives|glass|gle|global|globo|gmail|gmo|gmx|google|gop|gov|graphics|gratis|green|gripe|guide|guitars|guru|hamburg|haus|healthcare|help|here|hiphop|hiv|holdings|holiday|homes|horse|host|hosting|house|how|ibm|immo|immobilien|industries|info|ing|ink|institute|insure|int|international|investments|irish|jetzt|jobs|joburg|juegos|kaufen|kim|kitchen|kiwi|koeln|krd|kred|lacaixa|land|latrobe|lawyer|lds|lease|legal|lgbt|life|lighting|limited|limo|link|loans|london|lotto|ltda|luxe|luxury|madrid|maison|management|mango|market|marketing|media|meet|melbourne|meme|memorial|menu|miami|mil|mini|mobi|moda|moe|monash|money|mormon|mortgage|moscow|motorcycles|mov|museum|nagoya|name|navy|net|network|neustar|new|nexus|ngo|nhk|ninja|nra|nrw|nyc|okinawa|ong|onl|ooo|org|organic|otsuka|ovh|paris|partners|parts|party|pharmacy|photo|photography|photos|physio|pics|pictures|pink|pizza|place|plumbing|pohl|poker|porn|post|praxi|press|pro|prod|productions|prof|properties|property|pub|qpon|quebec|realtor|recipes|red|rehab|reise|reisen|reit|ren|rentals|repair|report|republican|rest|restaurant|reviews|rich|rio|rip|rocks|rodeo|rsvp|ruhr|ryukyu|saarland|samsung|sarl|sca|scb|schmidt|schule|science|scot|services|sexy|shiksha|shoes|singles|social|software|sohu|solar|solutions|soy|space|spiegel|supplies|supply|support|surf|surgery|suzuki|sydney|systems|taipei|tatar|tattoo|tax|technology|tel|tienda|tips|tirol|today|tokyo|tools|top|town|toys|trade|training|travel|trust|tui|university|uno|uol|vacations|vegas|ventures|verm\u00f6gensberater|verm\u00f6gensberatung|versicherung|vet|viajes|villas|vision|vlaanderen|vodka|vote|voting|voto|voyage|wales|wang|watch|webcam|website|wed|wedding|whoswho|wien|wiki|williamhill|wme|work|works|world|wtc|wtf|xxx|xyz|yachts|yandex|yoga|yokohama|youtube|zip|zone|\u0434\u0435\u0442\u0438|\u043c\u043e\u0441\u043a\u0432\u0430|\u043e\u043d\u043b\u0430\u0439\u043d|\u043e\u0440\u0433|\u0440\u0443\u0441|\u0441\u0430\u0439\u0442|\u0628\u0627\u0632\u0627\u0631|\u0634\u0628\u0643\u0629|\u0645\u0648\u0642\u0639|\u0938\u0902\u0917\u0920\u0928|\u307f\u3093\u306a|\u30b0\u30fc\u30b0\u30eb|\u4e16\u754c|\u4e2d\u4fe1|\u4e2d\u6587\u7f51|\u4f01\u4e1a|\u4f5b\u5c71|\u516b\u5366|\u516c\u53f8|\u516c\u76ca|\u5546\u57ce|\u5546\u5e97|\u5546\u6807|\u5728\u7ebf|\u5e7f\u4e1c|\u6211\u7231\u4f60|\u624b\u673a|\u653f\u52a1|\u673a\u6784|\u6e38\u620f|\u79fb\u52a8|\u7ec4\u7ec7\u673a\u6784|\u7f51\u5740|\u7f51\u5e97|\u7f51\u7edc|\u8c37\u6b4c|\u96c6\u56e2|\uc0bc\uc131|onion)(?=[^0-9a-zA-Z@]|$))/);
b.txt.regexen.validCCTLD=a(/(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bl|bm|bn|bo|bq|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|\u0431\u0435\u043b|\u043c\u043a\u0434|\u043c\u043e\u043d|\u0440\u0444|\u0441\u0440\u0431|\u0443\u043a\u0440|\u049b\u0430\u0437|\u0570\u0561\u0575|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0628\u06be\u0627\u0631\u062a|\u062a\u0648\u0646\u0633|\u0633\u0648\u062f\u0627\u0646|\u0633\u0648\u0631\u064a\u0629|\u0639\u0631\u0627\u0642|\u0639\u0645\u0627\u0646|\u0641\u0644\u0633\u0637\u064a\u0646|\u0642\u0637\u0631|\u0645\u0635\u0631|\u0645\u0644\u064a\u0633\u064a\u0627|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u092d\u093e\u0930\u0924|\u09ac\u09be\u0982\u09b2\u09be|\u09ad\u09be\u09b0\u09a4|\u0a2d\u0a3e\u0a30\u0a24|\u0aad\u0abe\u0ab0\u0aa4|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0dbd\u0d82\u0d9a\u0dcf|\u0e44\u0e17\u0e22|\u10d2\u10d4|\u4e2d\u56fd|\u4e2d\u570b|\u53f0\u6e7e|\u53f0\u7063|\u65b0\u52a0\u5761|\u9999\u6e2f|\ud55c\uad6d)(?=[^0-9a-zA-Z@]|$))/);
b.txt.regexen.validPunycode=a(/(?:xn--[0-9a-z]+)/);b.txt.regexen.validSpecialCCTLD=a(/(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))/);b.txt.regexen.validDomain=a(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/);b.txt.regexen.validAsciiDomain=a(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi);b.txt.regexen.invalidShortDomain=a(/^#{validDomainName}#{validCCTLD}$/i);b.txt.regexen.validSpecialShortDomain=a(/^#{validDomainName}#{validSpecialCCTLD}$/i);
b.txt.regexen.validPortNumber=a(/[0-9]+/);b.txt.regexen.validGeneralUrlPathChars=a(/[a-z0-9!\*';:=\+,\.\$\/%#\[\]\-_~@|&#{latinAccentChars}]/i);b.txt.regexen.validUrlBalancedParens=a("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i");b.txt.regexen.validUrlPathEndingChars=a(/[\+\-a-z0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i);b.txt.regexen.validUrlPath=a("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))",
"i");b.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i;b.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i;b.txt.regexen.extractUrl=a("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi");b.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i;b.txt.regexen.urlHasProtocol=/^https?:\/\//i;b.txt.regexen.urlHasHttps=/^https:\/\//i;b.txt.regexen.cashtag=
/[a-z]{1,6}(?:[._][a-z]{1,2})?/i;b.txt.regexen.validCashtag=a("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi");b.txt.regexen.validateUrlUnreserved=/[a-z0-9\-._~]/i;b.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i;b.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i;b.txt.regexen.validateUrlPchar=a("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i");b.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i;b.txt.regexen.validateUrlUserinfo=a("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*",
"i");b.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i;b.txt.regexen.validateUrlIpv4=a(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i);b.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i;b.txt.regexen.validateUrlIp=a("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i");b.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i;b.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i;b.txt.regexen.validateUrlDomainTld=
/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i;b.txt.regexen.validateUrlDomain=a(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i);b.txt.regexen.validateUrlHost=a("(?:#{validateUrlIp}|#{validateUrlDomain})","i");b.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i;b.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i;
b.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i;b.txt.regexen.validateUrlUnicodeDomain=a(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i);b.txt.regexen.validateUrlUnicodeHost=a("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i");b.txt.regexen.validateUrlPort=/[0-9]{1,5}/;b.txt.regexen.validateUrlUnicodeAuthority=a("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?",
"i");b.txt.regexen.validateUrlAuthority=a("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i");b.txt.regexen.validateUrlPath=a(/(\/#{validateUrlPchar}*)*/i);b.txt.regexen.validateUrlQuery=a(/(#{validateUrlPchar}|\/|\?)*/i);b.txt.regexen.validateUrlFragment=a(/(#{validateUrlPchar}|\/|\?)*/i);b.txt.regexen.validateUrlUnencoded=a("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var q={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,
usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0},m={disabled:!0,readonly:!0,multiple:!0,checked:!0};b.txt.tagAttrs=function(a){var c="",d;for(d in a){var e=a[d];
m[d]&&(e=e?d:null);null!=e&&(c+=" "+b.txt.htmlEscape(d)+'="'+b.txt.htmlEscape(e.toString())+'"')}return c};b.txt.linkToText=function(a,c,d,f){f.suppressNoFollow||(d.rel="nofollow");f.linkAttributeBlock&&f.linkAttributeBlock(a,d);f.linkTextBlock&&(c=f.linkTextBlock(a,c));a={text:c,attr:b.txt.tagAttrs(d)};return e("<a#{attr}>#{text}</a>",a)};b.txt.linkToTextWithSymbol=function(a,c,d,e,f){var g=f.symbolTag?"<"+f.symbolTag+">"+c+"</"+f.symbolTag+">":c;d=b.txt.htmlEscape(d);d=f.textWithSymbolTag?"<"+f.textWithSymbolTag+
">"+d+"</"+f.textWithSymbolTag+">":d;return f.usernameIncludeSymbol||!c.match(b.txt.regexen.atSigns)?b.txt.linkToText(a,g+d,e,f):g+b.txt.linkToText(a,d,e,f)};b.txt.linkToHashtag=function(a,d,e){d=d.substring(a.indices[0],a.indices[0]+1);var f=b.txt.htmlEscape(a.hashtag),g=c(e.htmlAttrs||{});g.href=e.hashtagUrlBase+f;g.title="#"+f;g["class"]=e.hashtagClass;f.charAt(0).match(b.txt.regexen.rtl_chars)&&(g["class"]+=" rtl");e.targetBlank&&(g.target="_blank");return b.txt.linkToTextWithSymbol(a,d,f,g,e)};
b.txt.linkToCashtag=function(a,d,e){d=b.txt.htmlEscape(a.cashtag);var f=c(e.htmlAttrs||{});f.href=e.cashtagUrlBase+d;f.title="$"+d;f["class"]=e.cashtagClass;e.targetBlank&&(f.target="_blank");return b.txt.linkToTextWithSymbol(a,"$",d,f,e)};b.txt.linkToMentionAndList=function(a,d,e){d=d.substring(a.indices[0],a.indices[0]+1);var f=b.txt.htmlEscape(a.screenName),g=b.txt.htmlEscape(a.listSlug),h=a.listSlug&&!e.suppressLists,k=c(e.htmlAttrs||{});k["class"]=h?e.listClass:e.usernameClass;k.href=h?e.listUrlBase+
f+g:e.usernameUrlBase+f;h||e.suppressDataScreenName||(k["data-screen-name"]=f);e.targetBlank&&(k.target="_blank");return b.txt.linkToTextWithSymbol(a,d,h?f+g:f,k,e)};b.txt.linkToUrl=function(a,d,e){d=a.url;var f=b.txt.htmlEscape(d),g=e.urlEntities&&e.urlEntities[d]||a;g.display_url&&(f=b.txt.linkTextWithEntity(g,e));var h=c(e.htmlAttrs||{});d.match(b.txt.regexen.urlHasProtocol)||(d="http://"+d);h.href=d;e.targetBlank&&(h.target="_blank");e.urlClass&&(h["class"]=e.urlClass);e.urlTarget&&(h.target=
e.urlTarget);!e.title&&g.display_url&&(h.title=g.expanded_url);return b.txt.linkToText(a,f,h,e)};b.txt.linkTextWithEntity=function(a,c){var d=a.display_url,f=a.expanded_url,g=d.replace(/\u2026/g,"");if(-1!=f.indexOf(g)){var h=f.indexOf(g),d={displayUrlSansEllipses:g,beforeDisplayUrl:f.substr(0,h),afterDisplayUrl:f.substr(h+g.length),precedingEllipsis:d.match(/^\u2026/)?"\u2026":"",followingEllipsis:d.match(/\u2026$/)?"\u2026":""},k;for(k in d)d.hasOwnProperty(k)&&(d[k]=b.txt.htmlEscape(d[k]));d.invisible=
c.invisibleTagAttrs;return e("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",d)}return d};b.txt.autoLinkEntities=function(a,d,e){e=c(e||{});e.hashtagClass=e.hashtagClass||"tweet-url hashtag";e.hashtagUrlBase=e.hashtagUrlBase||
"https://twitter.com/#!/search?q=%23";e.cashtagClass=e.cashtagClass||"tweet-url cashtag";e.cashtagUrlBase=e.cashtagUrlBase||"https://twitter.com/#!/search?q=%24";e.listClass=e.listClass||"tweet-url list-slug";e.usernameClass=e.usernameClass||"tweet-url username";e.usernameUrlBase=e.usernameUrlBase||"https://twitter.com/";e.listUrlBase=e.listUrlBase||"https://twitter.com/";e.htmlAttrs=b.txt.extractHtmlAttrsFromOptions(e);e.invisibleTagAttrs=e.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";
var f,g,h;if(e.urlEntities){f={};g=0;for(h=e.urlEntities.length;g<h;g++)f[e.urlEntities[g].url]=e.urlEntities[g];e.urlEntities=f}f="";h=0;d.sort(function(a,b){return a.indices[0]-b.indices[0]});var k=e.htmlEscapeNonEntities?b.txt.htmlEscape:function(a){return a};for(g=0;g<d.length;g++){var m=d[g];f+=k(a.substring(h,m.indices[0]));m.url?f+=b.txt.linkToUrl(m,a,e):m.hashtag?f+=b.txt.linkToHashtag(m,a,e):m.screenName?f+=b.txt.linkToMentionAndList(m,a,e):m.cashtag&&(f+=b.txt.linkToCashtag(m,a,e));h=m.indices[1]}return f+=
k(a.substring(h,a.length))};b.txt.autoLinkWithJSON=function(a,c,d){if(c.user_mentions)for(var e=0;e<c.user_mentions.length;e++)c.user_mentions[e].screenName=c.user_mentions[e].screen_name;if(c.hashtags)for(e=0;e<c.hashtags.length;e++)c.hashtags[e].hashtag=c.hashtags[e].text;if(c.symbols)for(e=0;e<c.symbols.length;e++)c.symbols[e].cashtag=c.symbols[e].text;var e=[],f;for(f in c)e=e.concat(c[f]);b.txt.modifyIndicesFromUnicodeToUTF16(a,e);return b.txt.autoLinkEntities(a,e,d)};b.txt.extractHtmlAttrsFromOptions=
function(a){var b={},c;for(c in a){var d=a[c];q[c]||(m[c]&&(d=d?c:null),null!=d&&(b[c]=d))}return b};b.txt.autoLink=function(a,c){var d=b.txt.extractEntitiesWithIndices(a,{extractUrlsWithoutProtocol:!1});return b.txt.autoLinkEntities(a,d,c)};b.txt.autoLinkUsernamesOrLists=function(a,c){var d=b.txt.extractMentionsOrListsWithIndices(a);return b.txt.autoLinkEntities(a,d,c)};b.txt.autoLinkHashtags=function(a,c){var d=b.txt.extractHashtagsWithIndices(a);return b.txt.autoLinkEntities(a,d,c)};b.txt.autoLinkCashtags=
function(a,c){var d=b.txt.extractCashtagsWithIndices(a);return b.txt.autoLinkEntities(a,d,c)};b.txt.autoLinkUrlsCustom=function(a,c){var d=b.txt.extractUrlsWithIndices(a,{extractUrlsWithoutProtocol:!1});return b.txt.autoLinkEntities(a,d,c)};b.txt.removeOverlappingEntities=function(a){a.sort(function(a,b){return a.indices[0]-b.indices[0]});for(var b=a[0],c=1;c<a.length;c++)b.indices[1]>a[c].indices[0]?(a.splice(c,1),c--):b=a[c]};b.txt.extractEntitiesWithIndices=function(a,c){var d=b.txt.extractUrlsWithIndices(a,
c).concat(b.txt.extractMentionsOrListsWithIndices(a)).concat(b.txt.extractHashtagsWithIndices(a,{checkUrlOverlap:!1})).concat(b.txt.extractCashtagsWithIndices(a));if(0==d.length)return[];b.txt.removeOverlappingEntities(d);return d};b.txt.extractMentions=function(a){var c=[];a=b.txt.extractMentionsWithIndices(a);for(var d=0;d<a.length;d++)c.push(a[d].screenName);return c};b.txt.extractMentionsWithIndices=function(a){for(var c=[],d=b.txt.extractMentionsOrListsWithIndices(a),e=0;e<d.length;e++)a=d[e],
""==a.listSlug&&c.push({screenName:a.screenName,indices:a.indices});return c};b.txt.extractMentionsOrListsWithIndices=function(a){if(!a||!a.match(b.txt.regexen.atSigns))return[];var c=[];a.replace(b.txt.regexen.validMentionOrList,function(a,d,e,f,g,h,k){k.slice(h+a.length).match(b.txt.regexen.endMentionMatch)||(g=g||"",a=h+d.length,c.push({screenName:f,listSlug:g,indices:[a,a+f.length+g.length+1]}))});return c};b.txt.extractReplies=function(a){if(!a)return null;a=a.match(b.txt.regexen.validReply);
return!a||RegExp.rightContext.match(b.txt.regexen.endMentionMatch)?null:a[1]};b.txt.extractUrls=function(a,c){for(var d=[],e=b.txt.extractUrlsWithIndices(a,c),f=0;f<e.length;f++)d.push(e[f].url);return d};b.txt.extractUrlsWithIndices=function(a,c){c||(c={extractUrlsWithoutProtocol:!0});if(!a||(c.extractUrlsWithoutProtocol?!a.match(/\./):!a.match(/:/)))return[];for(var d=[];b.txt.regexen.extractUrl.exec(a);){var e=RegExp.$2,f=RegExp.$3,g=RegExp.$5,h=RegExp.$7,k=b.txt.regexen.extractUrl.lastIndex,m=
k-f.length;if(RegExp.$4)f.match(b.txt.regexen.validTcoUrl)&&(f=RegExp.lastMatch,k=m+f.length),d.push({url:f,indices:[m,k]});else if(c.extractUrlsWithoutProtocol&&!e.match(b.txt.regexen.invalidUrlWithoutProtocolPrecedingChars)){var p=null,q=0;g.replace(b.txt.regexen.validAsciiDomain,function(a){var c=g.indexOf(a,q);q=c+a.length;p={url:a,indices:[m+c,m+q]};(h||a.match(b.txt.regexen.validSpecialShortDomain)||!a.match(b.txt.regexen.invalidShortDomain))&&d.push(p)});null!=p&&h&&(p.url=f.replace(g,p.url),
p.indices[1]=k)}}return d};b.txt.extractHashtags=function(a){var c=[];a=b.txt.extractHashtagsWithIndices(a);for(var d=0;d<a.length;d++)c.push(a[d].hashtag);return c};b.txt.extractHashtagsWithIndices=function(a,c){c||(c={checkUrlOverlap:!0});if(!a||!a.match(b.txt.regexen.hashSigns))return[];var d=[];a.replace(b.txt.regexen.validHashtag,function(a,c,e,f,g,h){h.slice(g+a.length).match(b.txt.regexen.endHashtagMatch)||(a=g+c.length,d.push({hashtag:f,indices:[a,a+f.length+1]}))});if(c.checkUrlOverlap){var e=
b.txt.extractUrlsWithIndices(a);if(0<e.length){e=d.concat(e);b.txt.removeOverlappingEntities(e);for(var d=[],f=0;f<e.length;f++)e[f].hashtag&&d.push(e[f])}}return d};b.txt.extractCashtags=function(a){var c=[];a=b.txt.extractCashtagsWithIndices(a);for(var d=0;d<a.length;d++)c.push(a[d].cashtag);return c};b.txt.extractCashtagsWithIndices=function(a){if(!a||-1==a.indexOf("$"))return[];var c=[];a.replace(b.txt.regexen.validCashtag,function(a,b,d,e,f,g){a=f+b.length;c.push({cashtag:e,indices:[a,a+e.length+
1]})});return c};b.txt.modifyIndicesFromUnicodeToUTF16=function(a,c){b.txt.convertUnicodeIndices(a,c,!1)};b.txt.modifyIndicesFromUTF16ToUnicode=function(a,c){b.txt.convertUnicodeIndices(a,c,!0)};b.txt.getUnicodeTextLength=function(a){return a.replace(b.txt.regexen.non_bmp_code_pairs," ").length};b.txt.convertUnicodeIndices=function(a,b,c){if(0!=b.length){var d=0,e=0;b.sort(function(a,b){return a.indices[0]-b.indices[0]});for(var f=0,g=b[0];d<a.length;){if(g.indices[0]==(c?d:e)){var h=g.indices[1]-
g.indices[0];g.indices[0]=c?e:d;g.indices[1]=g.indices[0]+h;f++;if(f==b.length)break;g=b[f]}h=a.charCodeAt(d);55296<=h&&56319>=h&&d<a.length-1&&(h=a.charCodeAt(d+1),56320<=h&&57343>=h&&d++);e++;d++}}};b.txt.splitTags=function(a){a=a.split("<");for(var b,c=[],d=0;d<a.length;d+=1)if(b=a[d]){b=b.split(">");for(var e=0;e<b.length;e+=1)c.push(b[e])}else c.push("");return c};b.txt.hitHighlight=function(a,c,d){c=c||[];d=d||{};if(0===c.length)return a;d=d.tag||"em";d=["<"+d+">","</"+d+">"];a=b.txt.splitTags(a);
var e,f,g="",h=0,k=a[0],m=0,p=0,q=!1,s=k,t=[],v;for(e=0;e<c.length;e+=1)for(f=0;f<c[e].length;f+=1)t.push(c[e][f]);for(c=0;c<t.length;c+=1){f=t[c];e=d[c%2];for(v=!1;null!=k&&f>=m+k.length;)g+=s.slice(p),q&&f===m+s.length&&(g+=e,v=!0),a[h+1]&&(g+="<"+a[h+1]+">"),m+=s.length,p=0,h+=2,s=k=a[h],q=!1;v||null==k?v||(g+=e):(q=f-m,g+=s.slice(p,q)+e,p=q,q=0===c%2?!0:!1)}if(null!=k)for(p<s.length&&(g+=s.slice(p)),c=h+1;c<a.length;c+=1)g+=0===c%2?a[c]:"<"+a[c]+">";return g};var s=[f(65534),f(65279),f(65535),
f(8234),f(8235),f(8236),f(8237),f(8238)];b.txt.getTweetLength=function(a,c){c||(c={short_url_length:22,short_url_length_https:23});var d=b.txt.getUnicodeTextLength(a),e=b.txt.extractUrlsWithIndices(a);b.txt.modifyIndicesFromUTF16ToUnicode(a,e);for(var f=0;f<e.length;f++)d+=e[f].indices[0]-e[f].indices[1],d=e[f].url.toLowerCase().match(b.txt.regexen.urlHasHttps)?d+c.short_url_length_https:d+c.short_url_length;return d};b.txt.isInvalidTweet=function(a){return a?140<b.txt.getTweetLength(a)?"too_long":
b.txt.hasInvalidCharacters(a)?"invalid_characters":!1:"empty"};b.txt.hasInvalidCharacters=function(a){for(var b=0;b<s.length;b++)if(0<=a.indexOf(s[b]))return!0;return!1};b.txt.isValidTweetText=function(a){return!b.txt.isInvalidTweet(a)};b.txt.isValidUsername=function(a){if(!a)return!1;var c=b.txt.extractMentions(a);return 1===c.length&&c[0]===a.slice(1)};var t=a(/^#{validMentionOrList}$/);b.txt.isValidList=function(a){a=a.match(t);return!(!a||""!=a[1]||!a[4])};b.txt.isValidHashtag=function(a){if(!a)return!1;
var c=b.txt.extractHashtags(a);return 1===c.length&&c[0]===a.slice(1)};b.txt.isValidUrl=function(a,c,d){null==c&&(c=!0);null==d&&(d=!0);if(!a)return!1;var e=a.match(b.txt.regexen.validateUrlUnencoded);if(!e||e[0]!==a)return!1;a=e[1];var f=e[2],g=e[3],k=e[4],e=e[5];return(!d||h(a,b.txt.regexen.validateUrlScheme)&&a.match(/^https?$/i))&&h(g,b.txt.regexen.validateUrlPath)&&h(k,b.txt.regexen.validateUrlQuery,!0)&&h(e,b.txt.regexen.validateUrlFragment,!0)?c&&h(f,b.txt.regexen.validateUrlUnicodeAuthority)||
!c&&h(f,b.txt.regexen.validateUrlAuthority):!1};"undefined"!=typeof module&&module.exports&&(module.exports=b.txt);"function"==typeof define&&define.amd&&define([],b.txt);if("undefined"!=typeof window)if(window.twttr)for(var v in b)window.twttr[v]=b[v];else window.twttr=b})();
(function(a){var e;if(document.currentScript)e=document.currentScript.src;else try{throw Error();}catch(d){var c=/(https?:\/\/.*):\d+:\d+/.exec(d.stack)||/(https?:\/\/.*):\d+/.exec(d.stack);if(c)e=c[1];else return}var h=/https?:\/\/assets\.rapgenius\.com/g;a.setProject(7530,"dcd059598ee876ad6f624f97647f0a8d");a.setEnvironmentName("production");var b=function(){if(window.top===window)return window.location.href;try{return window.top.location.href}catch(a){return document.referrer}};if(function(){var a=
!bowser.mobile&&!bowser.tablet;return bowser.chrome||bowser.safari||bowser.firefox&&a&&38<=bowser.version||bowser.msie&&a&&10<=bowser.version||bowser.msedge&&a&&12<=bowser.version?!0:!1}()){var g=window.onerror||function(){return!1};window.onerror=function(c,d,p,q,m){if(!0===g.apply(this,arguments))return!0;if(d===e&&0!==p){m&&m.stack&&(m.stack=m.stack.replace(/:\d+/g,":0").replace(h,""));var s=m||{message:c,fileName:d.replace(h,""),lineNumber:0,columnNumber:q};a.push({error:s,context:{url:b()},environment:{window_url:window.location.href}})}}}})(window.Airbrake);
$(function(){$(document).ajaxError(function(a,e,d){if(!1!==d.alert_on_error&&0!==e.readyState)app.on_ajax_error(e,d)}).ajaxComplete(app.on_ajax_complete).ajaxSend(function(a,e,d){e.setRequestHeader("Accept","application/x-javascript, text/javascript, text/html, application/xml, text/xml, */*");a=app.get_csrf_token();d.skip_csrf||d.type.match(/^get$/i)||!a||e.setRequestHeader("X-CSRF-Token",a)})});window.app=window.app||{};
$.extend(window.app,{ajaxQueue:jQuery.manageAjax.create("queue",{queue:!0}),markdown_to_html:function(a,e,d){var c=function(a){var c=new Attacklab.showdown.converter;a=a.replace(/(?:^|\s+)https?:\/\/(?:[a-z0-9\-]+\.)+[a-z]{2,6}(?:\/[^\/#?]+)+\.(?:jpe?g|gif|png)(?=$|\s+)/igm,function(a){return"\n\n![]("+$.trim(a)+")"});a=c.makeHtml(a);return $("<div>").append(a).find("a").each(function(){var a=$(this);a.attr("href").match(/^\d+$/)&&a.attr("href","/"+a.attr("href"))}).end().html()};if(null==e)return c(a);
var h=e.attr("data-autolink-mentions")&&a.match(/@\S/);-1<a.indexOf("[[")||h||e.html(c(a));$.ajax_with_retry({url:"/utils/markdown_preview",type:"POST",data:{md:a,autolink_mentions:h},success:function(a){e.html(a);d=d||$.noop;d(e);app.setup_embedly()}});return e},get_csrf_token:function(){return $.cookie("_csrf_token")},setup_zeroclipboard:function(){var a;a="https://assets.rapgenius.com/flash/ZeroClipboard.swf?1445007648".replace("https:",window.location.protocol);ZeroClipboard.config({swfPath:a});
$(document.body).on("click",".copy_to_clipboard",function(){return!1});$(document.body).on("click",".copy_content input, .embed_content input",function(){this.select()});var e=new ZeroClipboard;e.on("ready",function(){e.on("copy",function(a){a.clipboardData.setData("text/plain",$(a.target).attr("title"))});e.on("aftercopy",function(a){var c=$(a.target),e=c.text();c.text("Copied!").addClass("copied");setTimeout(function(){c.text(e).removeClass("copied")},500)})});$(document).on("mouseenter",".copy_to_clipboard.inactive",
function(){ZeroClipboard.focus(this);e.clip(this);$(this).removeClass("inactive")})},is_on_song_page:function(){return 0<$("body.act-show.cont-songs").length&&0<$(".lyrics").length},set_up_timeago:function(){var a=null,e=function(a){$(a||"body").find("[data-timeago]").each(function(){var a=$(this),d=a.data("timeago"),b=null;a.data("timeago-shortened")?(b=$.timeago.settings.strings,$.timeago.settings.strings={suffixAgo:"",seconds:"<1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",
month:"1 month",months:"%d months",year:"1 year",years:"%d years"},d=$.timeago(d),$.timeago.settings.strings=b,b=d):b=$.timeago(d).replace(/^about /,"");b!==a.text()&&a.text(b)})};return function(d){e(d);a||(a=setInterval(function(){e()},6E4))}}(),set_up_autogrow:function(){$(document).on("focus",".autogrow",function(){$(this).autosize({callback:function(){$(this).trigger("textarea:autogrown")}}).removeClass("autogrow")})},set_up_dirtyable_inputs:function(){$(document).on("focus","textarea:not([data-not-dirtyable])",
function(){$(this).dirtyable()})},delete_annotation:function(a){var e={_method:"delete"},d=$("#explain_as").attr("login");d&&(e.explain_as=d);app.ajaxQueue.add({type:"post",url:a,data:e})},start_annotation_edit_mode:function(a,e){e||(e="");var d=a.closest(".annotation_container");a.hide().after($("#edit_annotation_form").html());d.addClass("editing_annotation");d=a.nextAll(".edit_annotation_form").addClass("editing_explanation");d.find("textarea").trigger("dirtyable:changed",!0);a.find(".edit_annotation").data("proposed_edit")&&
(d.find(".submit_annotation").attr("data-proposed_edit",!0),d.find(".annotation_text_wrapper .edit_label").first().html("Propose an edit:"));""!==$.trim(e)&&d.children(".edit_annotation_form-integration_notice").removeClass("hide");var c=$.trim(a.find(".markdown_version").val()+e);d.find(".annotation_text").focus().val(c).trigger("autosize.resize");app.set_up_vidyard_id_container(a);app.set_up_tooltip_lyric_editor();$("#explain_as").attr("login")&&$(".annotation_container").addClass("current_user_can_add_verified_to_this_song");
return d},process_auto_load_containers:function(a){$(a||".auto_load_url:visible, .auto_load_url.load_if_not_visible").each(function(){var a=$(this);$.ajax_with_retry({url:a.attr("data-url"),success:function(d){if(""==$.trim(d))return a.remove();a.html(d).removeClass("auto_load_url").trigger("auto_load_url:loaded");setTimeout(function(){app.activate_more_links(a)},250)}})})},activate_more_links:function(a){$(a||"body").find("a.more:visible:not(.loading, .no_auto_more a)").click()},angular_inject_get__deprecated:function(a){return angular.element(document.body).injector().get(a)}});
(function(){window["com.genius.Genius"].require.define({"shared/universal/flash":function(a,e,d){d.exports={read:function(){var a=$.cookie("flash");if(!a)return{};this.clear();return JSON.parse(a)},clear:function(){$.removeCookie("flash",{path:"/"})}}}})})();
$(function(){$(document).on("click",".toggle_target",function(a){$(this).toggle_target();a.stopImmediatePropagation();return!1});$(document).on("click",".click_to_select_all",function(){$(this).select()});$(document).on("click",".click_to_toggle_hidden_radio_button",function(){var a=$(this).find('input[type="radio"]');a.prop("checked",!a.is(":checked"));return!1});$(document).on("click",".custom_share[data-service='facebook']",function(){FB.ui({method:"share",href:$(this).attr("href")},function(){});
return!1});$(document).on("click","[data-focuses-form-field]",function(){$("[data-focusable-form-field="+$(this).data("focuses-form-field")+"]").focus()});$(document).on("click",".custom_share[data-service='twitter']:not(.tweet_composer, .auth)",function(a){a.stopImmediatePropagation();return!1});$(document).on("focus",".condensed textarea, .condensed input",function(){$(this).closest(".condensed").removeClass("condensed");$(this).trigger("genius:resized")});$(document).on("click",'form.validate input[type="submit"], form[data-validate] input[type="submit"]',
function(a){var e=$(this.form).validate();if(!e.form())return e.showErrors(),a.stopImmediatePropagation(),!1}).on("click","[data-disable-with]",function(a){var e=$(this);if(!e.attr("disabled")){var d=e.data("disable-with"),c=e.is("button")?"html":"val";e.data("value-before-disabled",e.data("value-before-disabled")||e[c]());e[c](d);e.attr("disabled",!0);a.preventDefault();this.form&&(a=$(this.form),a.trigger("submit"),a.one("ajax:complete",function(){e[c](e.data("value-before-disabled"));e.removeAttr("disabled")}))}});
$(document).on("click","[data-method]",function(){var a=$(this),e=a.attr("target"),a=$("<form>",{method:"post",action:a.attr("href")}).append($("<input>",{name:"_method",value:a.attr("data-method"),type:"hidden"})).append($("<input>",{name:"authenticity_token",value:app.get_csrf_token(),type:"hidden"}));e&&a.attr("target",e);a.hide().appendTo("body").submit();return!1});$(".header-primary").on("click",".create_account:not(.pressed)",function(){$.cookie("desired_location",window.location.href,{path:"/"});
$.cookie("attempted_offsite_signup",!0,{path:"/",expires:1})});$(document).on("click",".edit_annotation",function(){if($(".edit_annotation_form:visible").length)return!1;app.start_annotation_edit_mode($(this).closest(".annotation_unit"));return!1});$(document).on("click",".feature_annotation",function(){var a=$(this);$.post(a.attr("href")).done(function(){a.closest(".annotation_unit").trigger("annotation:featured");a.text("featured").addClass("unfeature_annotation").removeClass("feature_annotation");
a.attr("href",a.attr("data-unfeature-url"));setTimeout(function(){a.text("unfeature")},2E3)});return!1});$(document).on("click",".unfeature_annotation",function(){var a=$(this);$.post(a.attr("href")).done(function(){a.closest(".annotation_unit").trigger("annotation:unfeatured");a.text("unfeatured").addClass("feature_annotation").removeClass("unfeature_annotation");a.attr("href",a.attr("data-feature-url"));setTimeout(function(){a.text("feature")},2E3)});return!1});$(document).on("click",".cancel_annotation",
function(){var a=$(this),e=a.closest(".edit_annotation_form"),d=e.prev(".annotation_unit"),c=d.closest(".annotation_container"),a=a.closest(".qtip.explanation");a.length&&(a.qtip("api").beforeHide=function(){return!0},d.hasClass("un_edited")&&d.find(".delete_annotation").data("no-confirm",!0).click());c.removeClass("editing_annotation");e.find("textarea").trigger("dirtyable:changed",!1);e.remove();d.hasClass("needs_exegesis")||d.show();a.length&&a.is(":visible")&&a.qtip("api").reposition();return!1});
$(document).on("click",".submit_annotation",function(){var a=$(this),e=a.closest(".edit_annotation_form"),d=e.prev(".annotation_unit"),c=d.closest(".annotation_container"),h=d.attr("data-id"),b=c.attr("data-id"),g=!!d.closest(".stand_alone_annotation_container").length||d.hasClass("description"),f=a.data("proposed_edit"),k=$.trim(e.find(".annotation_text").val()),p=$.trim(e.find(".video_id").val()),q=$.trim(e.find(".edit_annotation_note").val()),m=k||p||d.hasClass("video_processing");if(!m&&!d.hasClass("verified")&&
!d.hasClass("description"))return!1;var h=a.attr("data-url")||"/annotations/"+h,s={_method:a.attr("data-method")||"put","annotation[body]":k};p&&(s["annotation[video_id]"]=p);q&&(s["annotation[edit_note]"]=q);if(p=$("#explain_as").attr("login"))s.explain_as=p;(m||d.hasClass("description"))&&app.ajaxQueue.add({type:"post",url:h,data:s,success:function(a){g||app.update_editorial_state(b,a.editorial_state);a.user_can_clear_votes&&d.find(".footer .voting_links").addClass("user_can_clear_votes")}});d.find(".markdown_version").text(k);
d.removeClass("being_created");d.hasClass("description")&&(k?d.removeClass("blank"):d.addClass("blank"));if(0<e.find(".lyric_editor").length&&(q=e.find(".lyric_text").data("old-value"),p=$.trim(e.find(".lyric_text").val()),""!=p&&p!=q&&(q=$("div.lyrics a[data-id='"+b+"']"),p=p.replace(/\n/gi,"<br>"),q.html().match(/<br[\s\/]?>$/i)&&(p+="<br>"),q.html(p),app.save_lyrics()),!m&&d.hasClass("verified")))return c.find("button.cancel_annotation").click(),!1;var t;g||(t=a.closest(".qtip"),t.qtip("api").beforeHide=
function(){return!0},k.match(/^\?$/)?d.addClass("needs_exegesis"):d.removeClass("needs_exegesis"));e.find("textarea").trigger("dirtyable:changed",!1);c.removeClass("editing_annotation");e.remove();f?(a=d.find(".editor_links .view_proposed_edits").closest("a"),$.facebox("Your edit has been proposed and will be reviewed!<br>"+$("<div>").append(a.clone()).html()),d.find(".view_proposed_edits_wrapper").addClass("has_pending_edits")):app.markdown_to_html(k,d.find(".annotation_body .body_text"),function(){g||
(t.qtip("api").reposition(),app.update_bulk_loaded_annotation(t.find(".annotation_container")))});d.show().addClass("just_submitted_edit").removeClass("un_edited").closest(".annotation_container").addClass("just_submitted_edit");!g&&t.qtip("api").reposition()});$(document).on("submit","form[data-submit-with-ajax-queue]",function(a){var e=$(this);e.find('input[type="submit"]').each(function(){var a=$(this);e.data("disable-with")&&a.prop("value",e.data("disable-with"));a.prop("disabled",!0)});e.submitWithAjaxQueue({dataType:e.data("ajax-data-type")||
"script",success:function(a){e.trigger("submit_with_ajax_queue:success",a)},error:function(a){e.trigger("submit_with_ajax_queue:error",a)},complete:function(a){e.trigger("submit_with_ajax_queue:complete",a)}});a.stopImmediatePropagation();return!1});$(document).on("click","[data-select-on-click]",function(){this.select()})});
(function(){var a=$(document.documentElement);a.toggleClass("chrome",!!bowser.chrome);a.toggleClass("iphone",!!bowser.iphone);a.toggleClass("ios",!!bowser.ios);a.toggleClass("win",/Windows/i.test(navigator.userAgent));a.toggleClass("msie",!!bowser.msie);a.toggleClass("firefox",!!bowser.firefox)})();(function(){window["com.genius.Genius"].require.define({"shared/universal/jquery":function(a,e,d){d.exports=(window["com.genius.Genius"]||{}).jQuery||jQuery}})})();
(function(){window["com.genius.Genius"].require.define({"shared/universal/keyboard_shortcuts":function(a,e,d){var c=e("shared/universal/jquery");d.exports={shortcut:function(a,b){c(window).bind("keydown",a,function(a){b(a);return!1})}}}})})();(function(){window["com.genius.Genius"].require.define({"shared/universal/lodash":function(a,e,d){d.exports=(window["com.genius.Genius"]||{}).lodash}})})();
Modernizr.addTest("flash_enabled",function(){try{return!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(a){return navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin}});(function(){window["com.genius.Genius"].require.define({"shared/universal/mutation_observer":function(a,e,d){d.exports=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}})})();
(function(){window["com.genius.Genius"].require.define({"shared/universal/promise_channel":function(a,e,d){var c=function(a){this.buffer=[];a.done(function(a){this.buffer.forEach(function(c){a[c.method].apply(a,c.arguments)})}.bind(this))};["bind","notify","call"].forEach(function(a){c.prototype[a]=function(){this.buffer.push({method:a,arguments:arguments})}});d.exports=c}})})();
$(function(){$(document).on("rg:toggled",".toggle_follow",function(){var a=$(this),e=a.hasClass("new_status_follow");a.removeClass("disabled");a.toggleClass("new_status_follow",!e);a.toggleClass("new_status_unfollow",e);a.find("span").text(e?"Following":"Follow")});$(document).on("click",".toggle_follow:not(.disabled)",function(a){a.preventDefault();a=$(this);var e=a.hasClass("new_status_follow");a.addClass("disabled");a.trigger("rg:toggled");$.ajax({type:e?"post":"delete",url:a.attr("href")})});
$(document).on("hover",".toggle_follow.new_status_unfollow",function(a){var e=$(this);"mouseenter"===a.type?e.find("span").text("Unfollow!"):"mouseleave"===a.type&&(a=e.hasClass("new_status_unfollow"),e.find("span").text(a?"Following":"Follow"))})});
(function(){window["com.genius.Genius"].require.define({"shared/universal/tweet_composer":function(a,e,d){var c=e("shared/universal/jquery");a=function(a){var b=a.find(".twitter_button");b.attr({"data-href":b.attr("href"),href:"#"});this.$annotation=a;this.$compose_tweet_wrapper=this.$annotation.find(".compose_tweet_wrapper");this.attach_events()};a.prototype={show_tweet_composer:function(){this.$compose_tweet_wrapper.show();var a=this.$compose_tweet_wrapper.find("#tweet_text");a.focus();Modernizr.touch||
(a[0].selectionStart=0,a[0].selectionEnd=parseInt(a.attr("data-tweet-body-length"),10))},validate_tweet_text:function(){var a=this.$compose_tweet_wrapper.find("#tweet_text"),b=a.closest(".annotation_tweet_form"),c=a.closest(".compose_tweet_wrapper"),d=a.val(),e=b.find(".referent_image"),a=b.find(".characters_remaining"),b=b.find('input[type="submit"]');c.hasClass("has_image_attachment")&&(d=d+" "+(e.attr("src")||"http://www.example.com/image.png"));c=140-twttr.txt.getTweetLength(d);a.html(c);c=0>
c;a.toggleClass("warning",c);b.prop("disabled",c)},toggle_image_attachment:function(){var a=!this.$compose_tweet_wrapper.hasClass("has_image_attachment");this.$compose_tweet_wrapper.toggleClass("has_image_attachment",a);this.$compose_tweet_wrapper.find("#include_referent_image").val(a);this.$compose_tweet_wrapper.find("#tweet_text").focus();this.validate_tweet_text()},attach_events:function(){var a=this.$compose_tweet_wrapper;this.$annotation.find(".twitter_button.tweet_composer").on("click",function(){this.show_tweet_composer();
return!1}.bind(this));this.$annotation.find(".twitter_button.auth").on("click",function(){c.cookie("desired_location",c(this).closest(".embedded_annotation").attr("data-path"),{path:"/"});c.cookie("focus_tweet_text",!0,{path:"/",expires:1/24/60})});if(c.cookie("focus_tweet_text"))c(window).one("frame_visible",function(){this.show_tweet_composer();return!1}.bind(this));this.$annotation.find(".annotation_tweet_form").on("click","input[type='submit']",function(){c(this).val("Tweeting...")}).on("submit_with_ajax_queue:success",
function(b,c){a.html(c)}).on("submit_with_ajax_queue:error",function(){a.find("footer").html('<span class="tweet_composer_error"><em>Whoops!</em> Refresh the page to try again.</span>')}).on("submit_with_ajax_queue:complete",function(){a.find("#tweet_text").attr("disabled",!0)});a.on("click",".referent_image",function(){c(this).toggleClass("zoom")});this.$annotation.find("#tweet_text").on("input focus",this.validate_tweet_text.bind(this));this.$annotation.find(".toggle_attachment_label").on("click",
function(){this.toggle_image_attachment();return!1}.bind(this))}};d.exports=a}})})();
(function(a,e,d){function c(a,b){b=b||Error;return function(){var c=arguments,d=c[0],e="["+(a?a+":":"")+d+"] ",f,e=e+c[1].replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1)+2;return b<c.length?sb(c[b]):a}),e=e+("\nhttp://errors.angularjs.org/1.4.1/"+(a?a+"/":"")+d);f=2;for(d="?";f<c.length;f++,d="&")e+=d+"p"+(f-2)+"="+encodeURIComponent(sb(c[f]));return new b(e)}}function h(a){if(null==a||M(a))return!1;var b="length"in Object(a)&&a.length;return a.nodeType===bb&&b?!0:D(a)||U(a)||0===b||"number"===
typeof b&&0<b&&b-1 in a}function b(a,c,d){var e,f;if(a)if(E(a))for(e in a)"prototype"==e||"length"==e||"name"==e||a.hasOwnProperty&&!a.hasOwnProperty(e)||c.call(d,a[e],e,a);else if(U(a)||h(a)){var g="object"!==typeof a;e=0;for(f=a.length;e<f;e++)(g||e in a)&&c.call(d,a[e],e,a)}else if(a.forEach&&a.forEach!==b)a.forEach(c,d,a);else if(I(a))for(e in a)c.call(d,a[e],e,a);else if("function"===typeof a.hasOwnProperty)for(e in a)a.hasOwnProperty(e)&&c.call(d,a[e],e,a);else for(e in a)lc.call(a,e)&&c.call(d,
a[e],e,a);return a}function g(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function f(a){return function(b,c){a(c,b)}}function k(){return++Bc}function p(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function q(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(C(g)||E(g))for(var h=Object.keys(g),k=0,m=h.length;k<m;k++){var n=h[k],r=g[n];c&&C(r)?(C(a[n])||(a[n]=U(r)?[]:{}),q(a[n],[r],!0)):a[n]=r}}p(a,d);return a}function m(a){return q(a,nb.call(arguments,
1),!1)}function s(a){return q(a,nb.call(arguments,1),!0)}function t(a){return parseInt(a,10)}function v(a,b){return m(Object.create(a),b)}function r(){}function z(a){return a}function x(a){return function(){return a}}function w(a){return"undefined"===typeof a}function B(a){return"undefined"!==typeof a}function C(a){return null!==a&&"object"===typeof a}function I(a){return null!==a&&"object"===typeof a&&!zd(a)}function D(a){return"string"===typeof a}function u(a){return"number"===typeof a}function A(a){return"[object Date]"===
ob.call(a)}function E(a){return"function"===typeof a}function K(a){return"[object RegExp]"===ob.call(a)}function M(a){return a&&a.window===a}function y(a){return a&&a.$evalAsync&&a.$watch}function T(a){return"boolean"===typeof a}function Z(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function n(a){var b={};a=a.split(",");var c;for(c=0;c<a.length;c++)b[a[c]]=!0;return b}function W(a){return ga(a.nodeName||a[0]&&a[0].nodeName)}function J(a,b){var c=a.indexOf(b);0<=c&&a.splice(c,1);return c}
function ea(a,c,d,e){if(M(a)||y(a))throw Gb("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(Ad.test(ob.call(c)))throw Gb("cpta","Can't copy! TypedArray destination cannot be mutated.");if(c){if(a===c)throw Gb("cpi","Can't copy! Source and destination are identical.");d=d||[];e=e||[];C(a)&&(d.push(a),e.push(c));var f;if(U(a))for(f=c.length=0;f<a.length;f++)c.push(ea(a[f],null,d,e));else{var g=c.$$hashKey;U(c)?c.length=0:b(c,function(a,b){delete c[b]});if(I(a))for(f in a)c[f]=
ea(a[f],null,d,e);else if(a&&"function"===typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&(c[f]=ea(a[f],null,d,e));else for(f in a)lc.call(a,f)&&(c[f]=ea(a[f],null,d,e));p(c,g)}}else if(c=a,C(a)){if(d&&-1!==(g=d.indexOf(a)))return e[g];if(U(a))return ea(a,[],d,e);if(Ad.test(ob.call(a)))c=new a.constructor(a);else if(A(a))c=new Date(a.getTime());else if(K(a))c=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),c.lastIndex=a.lastIndex;else return f=Object.create(zd(a)),ea(a,f,d,e);e&&(d.push(a),
e.push(c))}return c}function aa(a,b){if(U(a)){b=b||[];for(var c=0,d=a.length;c<d;c++)b[c]=a[c]}else if(C(a))for(c in b=b||{},a)if("$"!==c.charAt(0)||"$"!==c.charAt(1))b[c]=a[c];return b||a}function V(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c=typeof a,e;if(c==typeof b&&"object"==c)if(U(a)){if(!U(b))return!1;if((c=a.length)==b.length){for(e=0;e<c;e++)if(!V(a[e],b[e]))return!1;return!0}}else{if(A(a))return A(b)?V(a.getTime(),b.getTime()):!1;if(K(a))return K(b)?
a.toString()==b.toString():!1;if(y(a)||y(b)||M(a)||M(b)||U(b)||A(b)||K(b))return!1;c=ia();for(e in a)if("$"!==e.charAt(0)&&!E(a[e])){if(!V(a[e],b[e]))return!1;c[e]=!0}for(e in b)if(!(e in c||"$"===e.charAt(0)||b[e]===d||E(b[e])))return!1;return!0}return!1}function qa(a,b,c){return a.concat(nb.call(b,c))}function ta(a,b){var c=2<arguments.length?nb.call(arguments,2):[];return!E(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,qa(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?
b.apply(a,arguments):b.call(a)}}function na(a,b){var c=b;"string"===typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?c=d:M(b)?c="$WINDOW":b&&e===b?c="$DOCUMENT":y(b)&&(c="$SCOPE");return c}function ya(a,b){if("undefined"===typeof a)return d;u(b)||(b=b?2:null);return JSON.stringify(a,na,b)}function Ba(a){return D(a)?JSON.parse(a):a}function N(a,b){var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6E4;return isNaN(c)?b:c}function Ca(a,b,c){c=c?-1:1;var d=N(b,a.getTimezoneOffset());b=a;a=c*(d-a.getTimezoneOffset());
b=new Date(b.getTime());b.setMinutes(b.getMinutes()+a);return b}function fa(a){a=O(a).clone();try{a.empty()}catch(b){}var c=O("<div>").append(a).html();try{return a[0].nodeType===Yb?ga(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+ga(b)})}catch(d){return ga(c)}}function Oa(a){try{return decodeURIComponent(a)}catch(b){}}function vb(a){var c={},d,e;b((a||"").split("&"),function(a){a&&(d=a.replace(/\+/g,"%20").split("="),e=Oa(d[0]),B(e)&&(a=B(d[1])?Oa(d[1]):!0,lc.call(c,e)?
U(c[e])?c[e].push(a):c[e]=[c[e],a]:c[e]=a))});return c}function eb(a){var c=[];b(a,function(a,d){U(a)?b(a,function(a){c.push(va(d,!0)+(!0===a?"":"="+va(a,!0)))}):c.push(va(d,!0)+(!0===a?"":"="+va(a,!0)))});return c.length?c.join("&"):""}function fb(a){return va(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function va(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":
"+")}function cc(a,b){var c,d,e=Zb.length;for(d=0;d<e;++d)if(c=Zb[d]+b,D(c=a.getAttribute(c)))return c;return null}function dc(a,c){var d,e,f={};b(Zb,function(b){b+="app";!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,e=a.getAttribute(b))});b(Zb,function(b){b+="app";var c;!d&&(c=a.querySelector("["+b.replace(":","\\:")+"]"))&&(d=c,e=c.getAttribute(b))});d&&(f.strictDi=null!==cc(d,"strict-di"),c(d,e?[e]:[],f))}function wb(c,d,f){C(f)||(f={});f=m({strictDi:!1},f);var g=function(){c=O(c);if(c.injector()){var a=
c[0]===e?"document":fa(c);throw Gb("btstrpd","App Already Bootstrapped with this Element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"));}d=d||[];d.unshift(["$provide",function(a){a.value("$rootElement",c)}]);f.debugInfoEnabled&&d.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);d.unshift("ng");a=jb(d,f.strictDi);a.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return a},h=/^NG_ENABLE_DEBUG_INFO!/,
k=/^NG_DEFER_BOOTSTRAP!/;a&&h.test(a.name)&&(f.debugInfoEnabled=!0,a.name=a.name.replace(h,""));if(a&&!k.test(a.name))return g();a.name=a.name.replace(k,"");Da.resumeBootstrap=function(a){b(a,function(a){d.push(a)});return g()};E(Da.resumeDeferredBootstrap)&&Da.resumeDeferredBootstrap()}function ec(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name;a.location.reload()}function fc(a){a=Da.element(a).injector();if(!a)throw Gb("test","no injector found for element argument to getTestability");return a.get("$$testability")}
function xb(a,b){b=b||"_";return a.replace(Ge,function(a,c){return(c?b:"")+a.toLowerCase()})}function gc(){var b;if(!Bd){var c=Cc();La=a.jQuery;B(c)&&(La=null===c?d:a[c]);La&&La.fn.on?(O=La,m(La.fn,{scope:$b.scope,isolateScope:$b.isolateScope,controller:$b.controller,injector:$b.injector,inheritedData:$b.inheritedData}),b=La.cleanData,La.cleanData=function(a){var c;if($c)$c=!1;else for(var d=0,e;null!=(e=a[d]);d++)(c=La._data(e,"events"))&&c.$destroy&&La(e).triggerHandler("$destroy");b(a)}):O=ba;
Da.element=O;Bd=!0}}function yb(a,b,c){if(!a)throw Gb("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function Pa(a,b,c){c&&U(a)&&(a=a[a.length-1]);yb(E(a),b,"not a function, got "+(a&&"object"===typeof a?a.constructor.name||"Object":typeof a));return a}function Ma(a,b){if("hasOwnProperty"===a)throw Gb("badname","hasOwnProperty is not a valid {0} name",b);}function zb(a,b,c){if(!b)return a;b=b.split(".");for(var d,e=a,f=b.length,g=0;g<f;g++)d=b[g],a&&(a=(e=a)[d]);return!c&&E(a)?ta(e,
a):a}function gb(a){var b=a[0];a=a[a.length-1];var c=[b];do{b=b.nextSibling;if(!b)break;c.push(b)}while(b!==a);return O(c)}function ia(){return Object.create(null)}function Kb(a){function b(a,c,d){return a[c]||(a[c]=d())}var d=c("$injector"),e=c("ng");a=b(a,"angular",Object);a.$$minErr=a.$$minErr||c;return b(a,"module",function(){var a={};return function(c,f,g){if("hasOwnProperty"===c)throw e("badname","hasOwnProperty is not a valid {0} name","module");f&&a.hasOwnProperty(c)&&(a[c]=null);return b(a,
c,function(){function a(b,c,d,f){f||(f=e);return function(){f[d||"push"]([b,c,arguments]);return m}}function b(a,d){return function(b,f){f&&E(f)&&(f.$$moduleName=c);e.push([a,d,arguments]);return m}}if(!f)throw d("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",c);var e=[],h=[],k=[],G=a("$injector","invoke","push",h),m={_invokeQueue:e,_configBlocks:h,_runBlocks:k,
requires:f,name:c,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),config:G,run:function(a){k.push(a);return this}};g&&G(g);return m})}})}function hb(a){var b=[];return JSON.stringify(a,
function(a,c){c=na(a,c);if(C(c)){if(0<=b.indexOf(c))return"<<already seen>>";b.push(c)}return c})}function sb(a){return"function"===typeof a?a.toString().replace(/ \{[\s\S]*$/,""):"undefined"===typeof a?"undefined":"string"!==typeof a?hb(a):a}function Pb(d){m(d,{bootstrap:wb,copy:ea,extend:m,merge:s,equals:V,element:O,forEach:b,injector:jb,noop:r,bind:ta,toJson:ya,fromJson:Ba,identity:z,isUndefined:w,isDefined:B,isString:D,isFunction:E,isObject:C,isNumber:u,isElement:Z,isArray:U,version:He,isDate:A,
lowercase:ga,uppercase:Ec,callbacks:{counter:0},getTestability:fc,$$minErr:c,$$csp:mc,reloadWithDebugInfo:ec});nc=Kb(a);try{nc("ngLocale")}catch(e){nc("ngLocale",[]).provider("$locale",Mb)}nc("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:oe});a.provider("$compile",ic).directive({a:Ie,input:Cd,textarea:Cd,form:Je,script:Ke,select:Le,style:Me,option:Ne,ngBind:Oe,ngBindHtml:Pe,ngBindTemplate:Qe,ngClass:Re,ngClassEven:Se,ngClassOdd:Te,ngCloak:Ue,ngController:Ve,ngForm:We,ngHide:Xe,
ngIf:Ye,ngInclude:Ze,ngInit:$e,ngNonBindable:af,ngPluralize:bf,ngRepeat:cf,ngShow:df,ngStyle:ef,ngSwitch:ff,ngSwitchWhen:gf,ngSwitchDefault:hf,ngOptions:jf,ngTransclude:kf,ngModel:lf,ngList:mf,ngChange:nf,pattern:Dd,ngPattern:Dd,required:Ed,ngRequired:Ed,minlength:Fd,ngMinlength:Fd,maxlength:Gd,ngMaxlength:Gd,ngValue:of,ngModelOptions:pf}).directive({ngInclude:qf}).directive(Fc).directive(Hd);a.provider({$anchorScroll:Ta,$animate:rf,$$animateQueue:sf,$$AnimateRunner:tf,$browser:Uc,$cacheFactory:tc,
$controller:kb,$document:lb,$exceptionHandler:xc,$filter:yd,$interpolate:Wb,$interval:Nb,$http:Ha,$httpParamSerializer:Xc,$httpParamSerializerJQLike:Vb,$httpBackend:Yc,$location:me,$log:pe,$parse:re,$rootScope:ne,$q:se,$$q:te,$sce:xe,$sceDelegate:we,$sniffer:ye,$templateCache:Vc,$templateRequest:ze,$$testability:Ae,$timeout:Be,$window:Ce,$$rAF:ue,$$asyncCallback:Ua,$$jqLite:Ub,$$HashMap:uf,$$cookieReader:De})}])}function Ia(a){return a.replace(vf,function(a,b,c,d){return d?c.toUpperCase():c}).replace(wf,
"Moz$1")}function Qb(a){a=a.nodeType;return a===bb||!a||9===a}function Ab(a,c){var d,e,f=c.createDocumentFragment(),g=[];if(ad.test(a)){d=d||f.appendChild(c.createElement("div"));e=(xf.exec(a)||["",""])[1].toLowerCase();e=Va[e]||Va._default;d.innerHTML=e[1]+a.replace(yf,"<$1></$2>")+e[2];for(e=e[0];e--;)d=d.lastChild;g=qa(g,d.childNodes);d=f.firstChild;d.textContent=""}else g.push(c.createTextNode(a));f.textContent="";f.innerHTML="";b(g,function(a){f.appendChild(a)});return f}function ba(a){if(a instanceof
ba)return a;var b;D(a)&&(a=ka(a),b=!0);if(!(this instanceof ba)){if(b&&"<"!=a.charAt(0))throw bd("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ba(a)}if(b){b=e;var c;a=(c=zf.exec(a))?[b.createElement(c[1])]:(c=Ab(a,b))?c.childNodes:[]}Rb(this,a)}function tb(a){return a.cloneNode(!0)}function Qa(a,b){b||Ra(a);if(a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;d<e;d++)Ra(c[d])}function Za(a,c,
d,e){if(B(e))throw bd("offargs","jqLite#off() does not support the `selector` argument");var f=(e=$a(a))&&e.events,g=e&&e.handle;if(g)if(c)b(c.split(" "),function(b){if(B(d)){var c=f[b];J(c||[],d);if(c&&0<c.length)return}a.removeEventListener(b,g,!1);delete f[b]});else for(c in f)"$destroy"!==c&&a.removeEventListener(c,g,!1),delete f[c]}function Ra(a,b){var c=a.ng339,e=c&&oc[c];e&&(b?delete e.data[b]:(e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),Za(a)),delete oc[c],a.ng339=d))}function $a(a,
b){var c=a.ng339,c=c&&oc[c];b&&!c&&(a.ng339=c=++Af,c=oc[c]={events:{},data:{},handle:d});return c}function ja(a,b,c){if(Qb(a)){var d=B(c),e=!d&&b&&!C(b),f=!b;a=(a=$a(a,!e))&&a.data;if(d)a[b]=c;else{if(f)return a;if(e)return a&&a[b];m(a,b)}}}function H(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function ab(a,c){c&&a.setAttribute&&b(c.split(" "),function(b){a.setAttribute("class",ka((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g,
" ").replace(" "+ka(b)+" "," ")))})}function ca(a,c){if(c&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");b(c.split(" "),function(a){a=ka(a);-1===d.indexOf(" "+a+" ")&&(d+=a+" ")});a.setAttribute("class",ka(d))}}function Rb(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"===typeof c&&b.window!==b){if(c)for(var d=0;d<c;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function ib(a,b){return Ga(a,"$"+(b||"ngController")+"Controller")}function Ga(a,
b,c){9==a.nodeType&&(a=a.documentElement);for(b=U(b)?b:[b];a;){for(var e=0,f=b.length;e<f;e++)if((c=O.data(a,b[e]))!==d)return c;a=a.parentNode||11===a.nodeType&&a.host}}function Sb(a){for(Qa(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Bb(a,b){b||Qa(a);var c=a.parentNode;c&&c.removeChild(a)}function hc(b,c){c=c||a;if("complete"===c.document.readyState)c.setTimeout(b);else O(c).on("load",b)}function Fa(a,b){var c=Gc[b.toLowerCase()];return c&&Id[W(a)]&&c}function Xa(a,b){var c=a.nodeName;
return("INPUT"===c||"TEXTAREA"===c)&&Jd[b]}function Tb(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(w(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};1<f&&(e=aa(e));for(var h=0;h<f;h++)c.isImmediatePropagationStopped()||
e[h].call(a,c)}};c.elem=a;return c}function Ub(){this.$get=function(){return m(ba,{hasClass:function(a,b){a.attr&&(a=a[0]);return H(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return ca(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return ab(a,b)}})}}function Sa(a,b){var c=a&&a.$$hashKey;if(c)return"function"===typeof c&&(c=a.$$hashKey()),c;c=typeof a;return c="function"==c||"object"==c&&null!==a?a.$$hashKey=c+":"+(b||k)():c+":"+a}function Ya(a,c){if(c){var d=0;this.nextUid=function(){return++d}}b(a,
this.put,this)}function Cb(a){return(a=a.toString().replace(Kd,"").match(Ld))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function jb(a,c){function e(a){return function(c,d){if(C(c))b(c,f(a));else return a(c,d)}}function g(a,b){Ma(a,"service");if(E(b)||U(b))b=ua.instantiate(b);if(!b.$get)throw Hb("pget","Provider '{0}' must define $get factory method.",a);return s[a+"Provider"]=b}function h(a,b){return function(){var c=v.invoke(b,this);if(w(c))throw Hb("undef","Provider '{0}' must return a value from $get factory method.",
a);return c}}function k(a,b,c){return g(a,{$get:!1!==c?h(a,b):b})}function m(a){var c=[],d;b(a,function(a){function b(a){var c,d;c=0;for(d=a.length;c<d;c++){var e=a[c],f=ua.get(e[0]);f[e[1]].apply(f,e[2])}}if(!r.get(a)){r.put(a,!0);try{D(a)?(d=nc(a),c=c.concat(m(d.requires)).concat(d._runBlocks),b(d._invokeQueue),b(d._configBlocks)):E(a)?c.push(ua.invoke(a)):U(a)?c.push(ua.invoke(a)):Pa(a,"module")}catch(e){throw U(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+
"\n"+e.stack),Hb("modulerr","Failed to instantiate module {0} due to:\n{1}",a,e.stack||e.message||e);}}});return c}function p(a,b){function d(c,e){if(a.hasOwnProperty(c)){if(a[c]===n)throw Hb("cdep","Circular dependency found: {0}",c+" <- "+q.join(" <- "));return a[c]}try{return q.unshift(c),a[c]=n,a[c]=b(c,e)}catch(f){throw a[c]===n&&delete a[c],f;}finally{q.shift()}}function e(a,b,f,g){"string"===typeof f&&(g=f,f=null);var h=[],k=jb.$$annotate(a,c,g),m,p,n;p=0;for(m=k.length;p<m;p++){n=k[p];if("string"!==
typeof n)throw Hb("itkn","Incorrect injection token! Expected service name as string, got {0}",n);h.push(f&&f.hasOwnProperty(n)?f[n]:d(n,g))}U(a)&&(a=a[m]);return a.apply(b,h)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((U(a)?a[a.length-1]:a).prototype||null);a=e(a,d,b,c);return C(a)||E(a)?a:d},get:d,annotate:jb.$$annotate,has:function(b){return s.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}c=!0===c;var n={},q=[],r=new Ya([],!0),s={$provide:{provider:e(g),factory:e(k),
service:e(function(a,b){return k(a,["$injector",function(a){return a.instantiate(b)}])}),value:e(function(a,b){return k(a,x(b),!1)}),constant:e(function(a,b){Ma(a,"constant");s[a]=b;t[a]=b}),decorator:function(a,b){var c=ua.get(a+"Provider"),d=c.$get;c.$get=function(){var a=v.invoke(d,c);return v.invoke(b,null,{$delegate:a})}}}},ua=s.$injector=p(s,function(a,b){Da.isString(b)&&q.push(b);throw Hb("unpr","Unknown provider: {0}",q.join(" <- "));}),t={},v=t.$injector=p(t,function(a,b){var c=ua.get(a+
"Provider",b);return v.invoke(c.$get,c,d,a)});b(m(a),function(a){a&&v.invoke(a)});return v}function Ta(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===W(a))return b=a,!0});return b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset;E(c)?c=c():Z(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):u(c)||(c=0);c&&(a=
a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=D(a)?a:c.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=b.document;a&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||hc(function(){d.$evalAsync(g)})});return g}]}function oa(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;U(a)&&(a=a.join(" "));U(b)&&(b=b.join(" "));return a+" "+b}function Ja(a){D(a)&&(a=a.split(" "));var c=
ia();b(a,function(a){a.length&&(c[a]=!0)});return c}function wa(a){return C(a)?a:{}}function Ua(){this.$get=["$$rAF","$timeout",function(a,b){return a.supported?function(b){return a(b)}:function(a){return b(a,0,!1)}}]}function Tc(a,c,d,e){function f(a){try{a.apply(null,nb.call(arguments,1))}finally{if(v--,0===v)for(;y.length;)try{y.pop()()}catch(b){d.error(b)}}}function g(){h();k()}function h(){a:{try{u=n.state;break a}catch(a){}u=void 0}u=w(u)?null:u;V(u,A)&&(u=A);A=u}function k(){if(z!==m.url()||
Aa!==u)z=m.url(),Aa=u,b(ha,function(a){a(m.url(),u)})}var m=this,p=a.location,n=a.history,q=a.setTimeout,s=a.clearTimeout,t={};m.isMock=!1;var v=0,y=[];m.$$completeOutstandingRequest=f;m.$$incOutstandingRequestCount=function(){v++};m.notifyWhenNoOutstandingRequests=function(a){0===v?a():y.push(a)};var u,Aa,z=p.href,B=c.find("base"),C=null;h();Aa=u;m.url=function(b,c,d){w(d)&&(d=null);p!==a.location&&(p=a.location);n!==a.history&&(n=a.history);if(b){var f=Aa===d;if(z===b&&(!e.history||f))return m;
var g=z&&db(z)===db(b);z=b;Aa=d;if(!e.history||g&&f){if(!g||C)C=b;c?p.replace(b):g?(c=p,d=b.indexOf("#"),b=-1===d?"":b.substr(d+1),c.hash=b):p.href=b}else n[c?"replaceState":"pushState"](d,"",b),h(),Aa=u;return m}return C||p.href.replace(/%27/g,"'")};m.state=function(){return u};var ha=[],x=!1,A=null;m.onUrlChange=function(b){if(!x){if(e.history)O(a).on("popstate",g);O(a).on("hashchange",g);x=!0}ha.push(b);return b};m.$$applicationDestroyed=function(){O(a).off("hashchange popstate",g)};m.$$checkUrlChange=
k;m.baseHref=function(){var a=B.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};m.defer=function(a,b){var c;v++;c=q(function(){delete t[c];f(a)},b||0);t[c]=!0;return c};m.defer.cancel=function(a){return t[a]?(delete t[a],s(a),f(r),!0):!1}}function Uc(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Tc(a,d,b,c)}]}function tc(){this.$get=function(){function a(b,e){function f(a){a!=S&&(r?r==a&&(r=a.n):r=a,g(a.n,a.p),g(a,S),S=a,S.n=null)}function g(a,
b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(b in d)throw c("$cacheFactory")("iid","CacheId '{0}' is already taken!",b);var h=0,k=m({},e,{id:b}),p={},n=e&&e.capacity||Number.MAX_VALUE,q={},S=null,r=null;return d[b]={put:function(a,b){if(!w(b)){if(n<Number.MAX_VALUE){var c=q[a]||(q[a]={key:a});f(c)}a in p||h++;p[a]=b;h>n&&this.remove(r.key);return b}},get:function(a){if(n<Number.MAX_VALUE){var b=q[a];if(!b)return;f(b)}return p[a]},remove:function(a){if(n<Number.MAX_VALUE){var b=q[a];if(!b)return;b==S&&(S=b.p);
b==r&&(r=b.n);g(b.n,b.p);delete q[a]}delete p[a];h--},removeAll:function(){p={};h=0;q={};S=r=null},destroy:function(){q=k=p=null;delete d[b]},info:function(){return m({},k,{size:h})}}}var d={};a.info=function(){var a={};b(d,function(b,c){a[c]=b.info()});return a};a.get=function(a){return d[a]};return a}}function Vc(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function ic(a,c){function g(a,c,d){var e=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,f={};b(a,function(a,b){var g=a.match(e);if(!g)throw xa("iscp",
"Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",c,b,a,d?"controller bindings definition":"isolate scope definition");f[b]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||b}});return f}function h(a){var b=a.charAt(0);if(!b||b!==ga(b))throw xa("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",a);if(a!==a.trim())throw xa("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",
a);}var k={},p=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,q=/(([\w\-]+)(?:\:([^;]+))?;?)/,R=n("ngSrc,ngSrcset,src,srcset"),ma=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,ra=/^(on[a-z]+|formaction)$/;this.directive=function ua(c,d){Ma(c,"directive");D(c)?(h(c),yb(d,"directiveFactory"),k.hasOwnProperty(c)||(k[c]=[],a.factory(c+"Directive",["$injector","$exceptionHandler",function(a,d){var e=[];b(k[c],function(b,f){try{var h=a.invoke(b);E(h)?h={compile:x(h)}:!h.compile&&h.link&&(h.compile=x(h.link));h.priority=h.priority||
0;h.index=f;h.name=h.name||c;h.require=h.require||h.controller&&h.name;h.restrict=h.restrict||"EA";var k=h,m=h,p=h.name,G={isolateScope:null,bindToController:null};C(m.scope)&&(!0===m.bindToController?(G.bindToController=g(m.scope,p,!0),G.isolateScope={}):G.isolateScope=g(m.scope,p,!1));C(m.bindToController)&&(G.bindToController=g(m.bindToController,p,!0));if(C(G.bindToController)){var n=m.controller,q=m.controllerAs;if(!n)throw xa("noctrl","Cannot bind to controller without directive '{0}'s controller.",
p);var X;a:if(q&&D(q))X=q;else{if(D(n)){var Y=Md.exec(n);if(Y){X=Y[3];break a}}X=void 0}if(!X)throw xa("noident","Cannot bind to controller without identifier for directive '{0}'.",p);}var S=k.$$bindings=G;C(S.isolateScope)&&(h.$$isolateBindings=S.isolateScope);h.$$moduleName=b.$$moduleName;e.push(h)}catch(da){d(da)}});return e}])),k[c].push(d)):b(c,f(ua));return this};this.aHrefSanitizationWhitelist=function(a){return B(a)?(c.aHrefSanitizationWhitelist(a),this):c.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=
function(a){return B(a)?(c.imgSrcSanitizationWhitelist(a),this):c.imgSrcSanitizationWhitelist()};var s=!0;this.debugInfoEnabled=function(a){return B(a)?(s=a,this):s};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,c,f,g,h,G,n,P,X,S,t){function w(a,b){try{a.addClass(b)}catch(c){}}function u(a,c,d,e,f){a instanceof O||(a=O(a));b(a,function(b,c){b.nodeType==Yb&&b.nodeValue.match(/\S+/)&&
(a[c]=O(b).wrap("<span></span>").parent()[0])});var g=B(a,c,a,d,e,f);u.$$addScopeClass(a);var h=null;return function(b,c,d){yb(b,"scope");d=d||{};var e=d.parentBoundTranscludeFn,f=d.transcludeControllers;d=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude);h||(h=(d=d&&d[0])?"foreignobject"!==W(d)&&d.toString().match(/SVG/)?"svg":"html":"html");d="html"!==h?O(ea(h,O("<div>").append(a).html())):c?$b.clone.call(a):a;if(f)for(var k in f)d.data("$"+k+"Controller",f[k].instance);u.$$addScopeInfo(d,
b);c&&c(d,b);g&&g(b,d,d,e);return d}}function B(a,b,c,e,f,g){function h(a,c,e,f){var g,m,p,G,n,P,X;if(q)for(X=Array(c.length),G=0;G<k.length;G+=3)g=k[G],X[g]=c[g];else X=c;G=0;for(n=k.length;G<n;)if(m=X[k[G++]],c=k[G++],g=k[G++],c){if(c.scope){if(p=a.$new(),u.$$addScopeInfo(O(m),p),P=c.$$destroyBindings)c.$$destroyBindings=null,p.$on("$destroyed",P)}else p=a;P=c.transcludeOnThisElement?x(a,c.transclude,f):!c.templateOnThisElement&&f?f:!f&&b?x(a,b):null;c(g,p,m,e,P,c)}else g&&g(a,m.childNodes,d,f)}
for(var k=[],m,p,G,n,q,P=0;P<a.length;P++){m=new ja;p=A(a[P],[],m,0===P?e:d,f);(g=p.length?H(p,a[P],m,b,c,null,[],[],g):null)&&g.scope&&u.$$addScopeClass(m.$$element);m=g&&g.terminal||!(G=a[P].childNodes)||!G.length?null:B(G,g?(g.transcludeOnThisElement||!g.templateOnThisElement)&&g.transclude:b);if(g||m)k.push(P,g,m),n=!0,q=q||g;g=null}return n?h:null}function x(a,b,c){return function(d,e,f,g,h){d||(d=a.$new(!1,h),d.$$transcluded=!0);return b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,
futureParentElement:g})}}function A(a,b,c,d,e){var f=c.$attr,g;switch(a.nodeType){case bb:K(b,Ka(W(a)),"E",d,e);for(var h,k,m,G=a.attributes,n=0,P=G&&G.length;n<P;n++){var X=!1,Y=!1;h=G[n];g=h.name;k=ka(h.value);h=Ka(g);if(m=sa.test(h))g=g.replace(Nd,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});var S=h.replace(/(Start|End)$/,"");Z(S)&&h===S+"Start"&&(X=g,Y=g.substr(0,g.length-5)+"end",g=g.substr(0,g.length-6));h=Ka(g.toLowerCase());f[h]=g;if(m||!c.hasOwnProperty(h))c[h]=k,
Fa(a,h)&&(c[h]=!0);ba(a,b,k,h,m);K(b,h,"A",d,e,X,Y)}a=a.className;C(a)&&(a=a.animVal);if(D(a)&&""!==a)for(;g=q.exec(a);)h=Ka(g[2]),K(b,h,"C",d,e)&&(c[h]=ka(g[3])),a=a.substr(g.index+g[0].length);break;case Yb:if(11===ac)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===Yb;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);na(b,a.nodeValue);break;case 8:try{if(g=p.exec(a.nodeValue))h=Ka(g[1]),K(b,h,"M",d,e)&&(c[h]=ka(g[2]))}catch(R){}}b.sort(aa);return b}function I(a,
b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw xa("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType==bb&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return O(d)}function F(a,b,c){return function(d,e,f,g,h){e=I(e[0],b,c);return a(d,e,f,g,h)}}function H(a,b,c,g,h,k,m,p,n){function q(a,b,c,d){if(a){c&&(a=F(a,c,d));a.require=w.require;a.directiveName=v;if(R===w||w.$$isolateScope)a=
ca(a,{isolateScope:!0});m.push(a)}if(b){c&&(b=F(b,c,d));b.require=w.require;b.directiveName=v;if(R===w||w.$$isolateScope)b=ca(b,{isolateScope:!0});p.push(b)}}function P(a,b,c,d){var e;if(D(b)){var f=b.match(ma);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];"^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance;e||(d="$"+b+"Controller",e=g?c.inheritedData(d):c.data(d));if(!e&&!f)throw xa("ctreq","Controller '{0}', required by directive '{1}', can't be found!",b,a);}else if(U(b))for(e=[],g=0,f=
b.length;g<f;g++)e[g]=P(a,b[g],c,d);return e||null}function X(a,b,c,d,e,f){var g=ia(),h;for(h in d){var k=d[h],m={$scope:k===R||k.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},p=k.controller;"@"==p&&(p=b[k.name]);m=G(p,m,!0,k.controllerAs);g[k.name]=m;ua||a.data("$"+k.name+"Controller",m.instance)}return g}function Y(a,e,f,g,h,k){function G(a,b,c){var e;y(a)||(c=b,b=a,a=d);ua&&(e=ma);c||(c=ua?w.parent():w);return h(a,b,e,c,Aa)}var n,q,S,r,ma,s,w;b===f?(g=c,w=c.$$element):(w=O(f),g=new ja(w,
c));R&&(r=e.$new(!0));h&&(s=G,s.$$boundTransclude=h);za&&(ma=X(w,g,s,za,r,e));R&&(u.$$addScopeInfo(w,r,!0,!(ra&&(ra===R||ra===R.$$originalDirective))),u.$$addScopeClass(w,!0),r.$$isolateBindings=R.$$isolateBindings,Ba(e,g,r,r.$$isolateBindings,R,r));if(ma){var Q=R||da,t;Q&&ma[Q.name]&&(q=Q.$$bindings.bindToController,(S=ma[Q.name])&&S.identifier&&q&&(t=S,k.$$destroyBindings=Ba(e,g,S.instance,q,Q)));for(n in ma){S=ma[n];var v=S();v!==S.instance&&(S.instance=v,w.data("$"+n+"Controller",v),S===t&&(k.$$destroyBindings(),
k.$$destroyBindings=Ba(e,g,v,q,Q)))}}n=0;for(k=m.length;n<k;n++)q=m[n],ya(q,q.isolateScope?r:e,w,g,q.require&&P(q.directiveName,q.require,w,ma),s);var Aa=e;R&&(R.template||null===R.templateUrl)&&(Aa=r);a&&a(Aa,f.childNodes,d,h);for(n=p.length-1;0<=n;n--)q=p[n],ya(q,q.isolateScope?r:e,w,g,q.require&&P(q.directiveName,q.require,w,ma),s)}n=n||{};for(var S=-Number.MAX_VALUE,da,za=n.controllerDirectives,R=n.newIsolateScopeDirective,ra=n.templateDirective,r=n.nonTlbTranscludeDirective,s=!1,t=!1,ua=n.hasElementTranscludeDirective,
Q=c.$$element=O(b),w,v,ha,z=g,B,cb=0,x=a.length;cb<x;cb++){w=a[cb];var Dc=w.$$start,cd=w.$$end;Dc&&(Q=I(b,Dc,cd));ha=d;if(S>w.priority)break;if(ha=w.scope)w.templateUrl||(C(ha)?(M("new/isolated scope",R||da,w,Q),R=w):M("new/isolated scope",R,w,Q)),da=da||w;v=w.name;!w.templateUrl&&w.controller&&(ha=w.controller,za=za||ia(),M("'"+v+"' controller",za[v],w,Q),za[v]=w);if(ha=w.transclude)s=!0,w.$$tlb||(M("transclusion",r,w,Q),r=w),"element"==ha?(ua=!0,S=w.priority,ha=Q,Q=c.$$element=O(e.createComment(" "+
v+": "+c[v]+" ")),b=Q[0],ta(h,nb.call(ha,0),b),z=u(ha,g,S,k&&k.name,{nonTlbTranscludeDirective:r})):(ha=O(tb(b)).contents(),Q.empty(),z=u(ha,g));if(w.template)if(t=!0,M("template",ra,w,Q),ra=w,ha=E(w.template)?w.template(Q,c):w.template,ha=pa(ha),w.replace){k=w;ha=ad.test(ha)?jc(ea(w.templateNamespace,ka(ha))):[];b=ha[0];if(1!=ha.length||b.nodeType!==bb)throw xa("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v,"");ta(h,Q,b);x={$attr:{}};ha=A(b,[],x);var Bf=a.splice(cb+
1,a.length-(cb+1));R&&T(ha);a=a.concat(ha).concat(Bf);L(c,x);x=a.length}else Q.html(ha);if(w.templateUrl)t=!0,M("template",ra,w,Q),ra=w,w.replace&&(k=w),Y=N(a.splice(cb,a.length-cb),Q,c,h,s&&z,m,p,{controllerDirectives:za,newIsolateScopeDirective:R,templateDirective:ra,nonTlbTranscludeDirective:r}),x=a.length;else if(w.compile)try{B=w.compile(Q,c,z),E(B)?q(null,B,Dc,cd):B&&q(B.pre,B.post,Dc,cd)}catch(Cf){f(Cf,fa(Q))}w.terminal&&(Y.terminal=!0,S=Math.max(S,w.priority))}Y.scope=da&&!0===da.scope;Y.transcludeOnThisElement=
s;Y.templateOnThisElement=t;Y.transclude=z;n.hasElementTranscludeDirective=ua;return Y}function T(a){for(var b=0,c=a.length;b<c;b++)a[b]=v(a[b],{$$isolateScope:!0})}function K(b,c,e,g,h,m,p){if(c===h)return null;h=null;if(k.hasOwnProperty(c)){var G;c=a.get(c+"Directive");for(var n=0,q=c.length;n<q;n++)try{G=c[n],(g===d||g>G.priority)&&-1!=G.restrict.indexOf(e)&&(m&&(G=v(G,{$$start:m,$$end:p})),b.push(G),h=G)}catch(P){f(P)}}return h}function Z(b){if(k.hasOwnProperty(b))for(var c=a.get(b+"Directive"),
d=0,e=c.length;d<e;d++)if(b=c[d],b.multiElement)return!0;return!1}function L(a,c){var d=c.$attr,e=a.$attr,f=a.$$element;b(a,function(b,e){"$"!=e.charAt(0)&&(c[e]&&c[e]!==b&&(b+=("style"===e?";":" ")+c[e]),a.$set(e,b,!0,d[e]))});b(c,function(b,c){"class"==c?(w(f,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==c?(f.attr("style",f.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==c.charAt(0)||a.hasOwnProperty(c)||(a[c]=b,e[c]=d[c])})}function N(a,c,d,e,f,h,k,m){var p=[],G,n,q=c[0],
P=a.shift(),Y=v(P,{templateUrl:null,transclude:null,replace:null,$$originalDirective:P}),S=E(P.templateUrl)?P.templateUrl(c,d):P.templateUrl,da=P.templateNamespace;c.empty();g(X.getTrustedResourceUrl(S)).then(function(g){var X,za;g=pa(g);if(P.replace){g=ad.test(g)?jc(ea(da,ka(g))):[];X=g[0];if(1!=g.length||X.nodeType!==bb)throw xa("tplrt","Template for directive '{0}' must have exactly one root element. {1}",P.name,S);g={$attr:{}};ta(e,c,X);var R=A(X,[],g);C(P.scope)&&T(R);a=R.concat(a);L(d,g)}else X=
q,c.html(g);a.unshift(Y);G=H(a,X,d,f,c,P,h,k,m);b(e,function(a,b){a==X&&(e[b]=c[0])});for(n=B(c[0].childNodes,f);p.length;){g=p.shift();za=p.shift();var r=p.shift(),ra=p.shift(),R=c[0];if(!g.$$destroyed){if(za!==q){var ma=za.className;m.hasElementTranscludeDirective&&P.replace||(R=tb(X));ta(r,O(za),R);w(O(R),ma)}za=G.transcludeOnThisElement?x(g,G.transclude,ra):ra;G(n,g,R,e,za,G)}}p=null});return function(a,b,c,d,e){a=e;b.$$destroyed||(p?p.push(b,c,d,a):(G.transcludeOnThisElement&&(a=x(b,G.transclude,
e)),G(n,b,c,d,a,G)))}}function aa(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function M(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw xa("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,fa(d));}function na(a,b){var d=c(b,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&u.$$addBindingClass(a);return function(a,c){var e=
c.parent();b||u.$$addBindingClass(e);u.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function ea(a,b){a=ga(a||"html");switch(a){case "svg":case "math":var c=e.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function qa(a,b){if("srcdoc"==b)return X.HTML;var c=W(a);if("xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b))return X.RESOURCE_URL}function ba(a,b,d,e,f){var g=qa(a,e);f=R[e]||
f;var h=c(d,!0,g,f);if(h){if("multiple"===e&&"select"===W(a))throw xa("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",fa(a));b.push({priority:100,compile:function(){return{pre:function(a,b,k){b=k.$$observers||(k.$$observers={});if(ra.test(e))throw xa("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var m=k[e];m!==d&&(h=m&&c(m,!0,g,f),d=m);h&&(k[e]=h(a),(b[e]||(b[e]=
[])).$$inter=!0,(k.$$observers&&k.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?k.$updateClass(a,b):k.$set(e,a)}))}}}})}}function ta(a,b,c){var d=b[0],f=b.length,g=d.parentNode,h,k;if(a)for(h=0,k=a.length;h<k;h++)if(a[h]==d){a[h++]=c;k=h+f-1;for(var m=a.length;h<m;h++,k++)k<m?a[h]=a[k]:delete a[h];a.length-=f-1;a.context===d&&(a.context=c);break}g&&g.replaceChild(c,d);a=e.createDocumentFragment();a.appendChild(d);O.hasData(d)&&(O(c).data(O(d).data()),La?($c=!0,La.cleanData([d])):
delete O.cache[d[O.expando]]);d=1;for(f=b.length;d<f;d++)g=b[d],O(g).remove(),a.appendChild(g),delete b[d];b[0]=c;b.length=1}function ca(a,b){return m(function(){return a.apply(null,arguments)},a,b)}function ya(a,b,c,d,e,g){try{a(b,c,d,e,g)}catch(h){f(h,fa(c))}}function Ba(a,e,f,g,k,m){var p;b(g,function(b,g){var m=b.attrName,G=b.optional,n=b.mode,q,P,X,Y;lc.call(e,m)||(e[m]=d);switch(n){case "@":e[m]||G||(f[g]=d);e.$observe(m,function(a){f[g]=a});e.$$observers[m].$$scope=a;e[m]&&(f[g]=c(e[m])(a));
break;case "=":if(G&&!e[m])break;P=h(e[m]);Y=P.literal?V:function(a,b){return a===b||a!==a&&b!==b};X=P.assign||function(){q=f[g]=P(a);throw xa("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",e[m],k.name);};q=f[g]=P(a);G=function(b){Y(b,f[g])||(Y(b,q)?X(a,b=f[g]):f[g]=b);return q=b};G.$stateful=!0;G=b.collection?a.$watchCollection(e[m],G):a.$watch(h(e[m],G),null,P.literal);p=p||[];p.push(G);break;case "&":P=h(e[m]);if(P===r&&G)break;f[g]=function(b){return P(a,b)}}});g=
p?function(){for(var a=0,b=p.length;a<b;++a)p[a]()}:r;return m&&g!==r?(m.$on("$destroy",g),r):g}var ja=function(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};ja.prototype={$normalize:Ka,$addClass:function(a){a&&0<a.length&&S.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&S.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Lb(a,b);c&&c.length&&S.addClass(this.$$element,c);(c=Lb(b,a))&&c.length&&
S.removeClass(this.$$element,c)},$set:function(a,c,e,g){var h=this.$$element[0],k=Fa(h,a),m=Xa(h,a),h=a;k?(this.$$element.prop(a,c),g=k):m&&(this[m]=c,h=m);this[a]=c;g?this.$attr[a]=g:(g=this.$attr[a])||(this.$attr[a]=g=xb(a,"-"));k=W(this.$$element);if("a"===k&&"href"===a||"img"===k&&"src"===a)this[a]=c=t(c,"src"===a);else if("img"===k&&"srcset"===a){for(var k="",m=ka(c),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(m)?p:/(,)/,m=m.split(p),p=Math.floor(m.length/2),G=0;G<p;G++)var n=2*G,k=k+
t(ka(m[n]),!0),k=k+(" "+ka(m[n+1]));m=ka(m[2*G]).split(/\s/);k+=t(ka(m[0]),!0);2===m.length&&(k+=" "+ka(m[1]));this[a]=c=k}!1!==e&&(null===c||c===d?this.$$element.removeAttr(g):this.$$element.attr(g,c));(a=this.$$observers)&&b(a[h],function(a){try{a(c)}catch(b){f(b)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ia()),e=d[a]||(d[a]=[]);e.push(b);n.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])});return function(){J(e,b)}}};var la=c.startSymbol(),oa=c.endSymbol(),
pa="{{"==la||"}}"==oa?z:function(a){return a.replace(/\{\{/g,la).replace(/}}/g,oa)},sa=/^ngAttr[A-Z]/;u.$$addBindingInfo=s?function(a,b){var c=a.data("$binding")||[];U(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:r;u.$$addBindingClass=s?function(a){w(a,"ng-binding")}:r;u.$$addScopeInfo=s?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:r;u.$$addScopeClass=s?function(a,b){w(a,b?"ng-isolate-scope":"ng-scope")}:r;return u}]}function Ka(a){return Ia(a.replace(Nd,
""))}function Lb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function jc(a){a=O(a);var b=a.length;if(1>=b)return a;for(;b--;)8===a[b].nodeType&&Df.call(a,b,1);return a}function kb(){var a={},b=!1;this.register=function(b,c){Ma(b,"controller");C(b)?m(a,b):a[b]=c};this.allowGlobals=function(){b=!0};this.$get=["$injector","$window",function(e,f){function g(a,b,d,e){if(!a||!C(a.$scope))throw c("$controller")("noscp",
"Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,b);a.$scope[b]=d}return function(c,h,k,p){var n,q,r;k=!0===k;p&&D(p)&&(r=p);if(D(c)){p=c.match(Md);if(!p)throw Ef("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",c);q=p[1];r=r||p[3];c=a.hasOwnProperty(q)?a[q]:zb(h.$scope,q,!0)||(b?zb(f,q,!0):d);Pa(c,q,!0)}if(k)return k=(U(c)?c[c.length-1]:c).prototype,n=Object.create(k||null),r&&g(h,r,n,q||c.name),m(function(){var a=
e.invoke(c,n,h,q);a!==n&&(C(a)||E(a))&&(n=a,r&&g(h,r,n,q||c.name));return n},{instance:n,identifier:r});n=e.instantiate(c,h,q);r&&g(h,r,n,q||c.name);return n}}]}function lb(){this.$get=["$window",function(a){return O(a.document)}]}function xc(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function yc(a){return C(a)?A(a)?a.toISOString():ya(a):a}function Xc(){this.$get=function(){return function(a){if(!a)return"";var c=[];g(a,function(a,d){null===a||w(a)||(U(a)?b(a,
function(a,b){c.push(va(d)+"="+va(yc(a)))}):c.push(va(d)+"="+va(yc(a))))});return c.join("&")}}}function Vb(){this.$get=function(){return function(a){function c(a,e,f){null===a||w(a)||(U(a)?b(a,function(a){c(a,e+"[]")}):C(a)&&!A(a)?g(a,function(a,b){c(a,e+(f?"":"[")+b+(f?"":"]"))}):d.push(va(e)+"="+va(yc(a))))}if(!a)return"";var d=[];c(a,"",!0);return d.join("&")}}}function Eb(a,b){if(D(a)){var c=a.replace(Ff,"").trim();if(c){var d=b("Content-Type");(d=d&&0===d.indexOf(Od))||(d=(d=c.match(Gf))&&Hf[d[0]].test(c));
d&&(a=Ba(c))}}return a}function zc(a){var c=ia(),d;D(a)?b(a.split("\n"),function(a){d=a.indexOf(":");var b=ga(ka(a.substr(0,d)));a=ka(a.substr(d+1));b&&(c[b]=c[b]?c[b]+", "+a:a)}):C(a)&&b(a,function(a,b){var d=ga(b),e=ka(a);d&&(c[d]=c[d]?c[d]+", "+e:e)});return c}function mb(a){var b;return function(c){b||(b=zc(a));return c?(c=b[ga(c)],void 0===c&&(c=null),c):b}}function Ob(a,c,d,e){if(E(e))return e(a,c,d);b(e,function(b){a=b(a,c,d)});return a}function Ha(){var a=this.defaults={transformResponse:[Eb],
transformRequest:[function(a){return C(a)&&"[object File]"!==ob.call(a)&&"[object Blob]"!==ob.call(a)&&"[object FormData]"!==ob.call(a)?ya(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:aa(dd),put:aa(dd),patch:aa(dd)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(a){return B(a)?(e=!!a,this):e};var f=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope",
"$q","$injector",function(g,h,k,p,n,q){function r(e){function f(a){var b=m({},a);b.data=a.data?Ob(a.data,a.headers,a.status,h.transformResponse):a.data;a=a.status;return 200<=a&&300>a?b:n.reject(b)}function g(a,c){var d,e={};b(a,function(a,b){E(a)?(d=a(c),null!=d&&(e[b]=d)):e[b]=a});return e}if(!Da.isObject(e))throw c("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var h=m({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},
e);h.headers=function(b){var c=a.headers,d=m({},b.headers),e,f,h,c=m({},c.common,c[ga(b.method)]);a:for(e in c){f=ga(e);for(h in d)if(ga(h)===f)continue a;d[e]=c[e]}return g(d,aa(b))}(e);h.method=Ec(h.method);h.paramSerializer=D(h.paramSerializer)?q.get(h.paramSerializer):h.paramSerializer;var k=[function(c){var e=c.headers,g=Ob(c.data,mb(e),d,c.transformRequest);w(g)&&b(e,function(a,b){"content-type"===ga(b)&&delete e[b]});w(c.withCredentials)&&!w(a.withCredentials)&&(c.withCredentials=a.withCredentials);
return s(c,g).then(f,f)},d],p=n.when(h);for(b(v,function(a){(a.request||a.requestError)&&k.unshift(a.request,a.requestError);(a.response||a.responseError)&&k.push(a.response,a.responseError)});k.length;){e=k.shift();var G=k.shift(),p=p.then(e,G)}p.success=function(a){Pa(a,"fn");p.then(function(b){a(b.data,b.status,b.headers,h)});return p};p.error=function(a){Pa(a,"fn");p.then(null,function(b){a(b.data,b.status,b.headers,h)});return p};return p}function s(b,c){function f(a,b,c,d){function g(){k(b,
a,c,d)}ma&&(200<=a&&300>a?ma.put(u,[a,b,zc(c),d]):ma.remove(u));e?p.$applyAsync(g):(g(),p.$$phase||p.$apply())}function k(a,c,d,e){c=Math.max(c,0);(200<=c&&300>c?P.resolve:P.reject)({data:a,status:c,headers:mb(d),config:b,statusText:e})}function m(a){k(a.data,a.status,aa(a.headers()),a.statusText)}function q(){var a=r.pendingRequests.indexOf(b);-1!==a&&r.pendingRequests.splice(a,1)}var P=n.defer(),da=P.promise,ma,Q,v=b.headers,u=t(b.url,b.paramSerializer(b.params));r.pendingRequests.push(b);da.then(q,
q);!b.cache&&!a.cache||!1===b.cache||"GET"!==b.method&&"JSONP"!==b.method||(ma=C(b.cache)?b.cache:C(a.cache)?a.cache:ua);ma&&(Q=ma.get(u),B(Q)?Q&&E(Q.then)?Q.then(m,m):U(Q)?k(Q[1],Q[0],aa(Q[2]),Q[3]):k(Q,200,{},"OK"):ma.put(u,da));w(Q)&&((Q=wd(b.url)?h()[b.xsrfCookieName||a.xsrfCookieName]:d)&&(v[b.xsrfHeaderName||a.xsrfHeaderName]=Q),g(b.method,u,c,f,v,b.timeout,b.withCredentials,b.responseType));return da}function t(a,b){0<b.length&&(a+=(-1==a.indexOf("?")?"?":"&")+b);return a}var ua=k("$http");
a.paramSerializer=D(a.paramSerializer)?q.get(a.paramSerializer):a.paramSerializer;var v=[];b(f,function(a){v.unshift(D(a)?q.get(a):q.invoke(a))});r.pendingRequests=[];(function(a){b(arguments,function(a){r[a]=function(b,c){return r(m({},c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){b(arguments,function(a){r[a]=function(b,c,d){return r(m({},d||{},{method:a,url:b,data:c}))}})})("post","put","patch");r.defaults=a;return r}]}function pb(){return new a.XMLHttpRequest}function Yc(){this.$get=
["$browser","$window","$document",function(a,b,c){return Zc(a,pb,a.defer,b.angular.callbacks,c[0])}]}function Zc(a,c,e,f,g){function h(a,b,c){var d=g.createElement("script"),e=null;d.type="text/javascript";d.src=a;d.async=!0;e=function(a){d.removeEventListener("load",e,!1);d.removeEventListener("error",e,!1);g.body.removeChild(d);d=null;var h=-1,k="unknown";a&&("load"!==a.type||f[b].called||(a={type:"error"}),k=a.type,h="error"===a.type?404:200);c&&c(h,k)};d.addEventListener("load",e,!1);d.addEventListener("error",
e,!1);g.body.appendChild(d);return e}return function(g,k,m,p,n,q,Y,s){function w(){Aa&&Aa();u&&u.abort()}function t(b,c,f,g,h){y!==d&&e.cancel(y);Aa=u=null;b(c,f,g,h);a.$$completeOutstandingRequest(r)}a.$$incOutstandingRequestCount();k=k||a.url();if("jsonp"==ga(g)){var v="_"+(f.counter++).toString(36);f[v]=function(a){f[v].data=a;f[v].called=!0};var Aa=h(k.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(a,b){t(p,a,f[v].data,"",b);f[v]=r})}else{var u=c();u.open(g,k,!0);b(n,function(a,b){B(a)&&
u.setRequestHeader(b,a)});u.onload=function(){var a=u.statusText||"",b="response"in u?u.response:u.responseText,c=1223===u.status?204:u.status;0===c&&(c=b?200:"file"==rb(k).protocol?404:0);t(p,c,b,u.getAllResponseHeaders(),a)};g=function(){t(p,-1,null,null,"")};u.onerror=g;u.onabort=g;Y&&(u.withCredentials=!0);if(s)try{u.responseType=s}catch(z){if("json"!==s)throw z;}u.send(m)}if(0<q)var y=e(w,q);else q&&E(q.then)&&q.then(w)}}function Wb(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=
b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(q,b)}function h(f,n,q,da){function r(a){try{var b=a;a=q?e.getTrusted(q,b):e.valueOf(b);var c;if(da&&!B(a))c=a;else if(null==a)c="";else{switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=ya(a)}c=a}return c}catch(g){d(Ib.interr(f,g))}}da=!!da;for(var R,s,t=0,Q=[],v=[],u=f.length,
Fb=[],z=[];t<u;)if(-1!=(R=f.indexOf(a,t))&&-1!=(s=f.indexOf(b,R+k)))t!==R&&Fb.push(g(f.substring(t,R))),t=f.substring(R+k,s),Q.push(t),v.push(c(t,r)),t=s+p,z.push(Fb.length),Fb.push("");else{t!==u&&Fb.push(g(f.substring(t)));break}q&&1<Fb.length&&Ib.throwNoconcat(f);if(!n||Q.length){var y=function(a){for(var b=0,c=Q.length;b<c;b++){if(da&&w(a[b]))return;Fb[z[b]]=a[b]}return Fb.join("")};return m(function(a){var b=0,c=Q.length,e=Array(c);try{for(;b<c;b++)e[b]=v[b](a);return y(e)}catch(g){d(Ib.interr(f,
g))}},{exp:f,expressions:Q,$$watchDelegate:function(a,b){var c;return a.$watchGroup(v,function(d,e){var f=y(d);E(b)&&b.call(this,f,d!==e?c:f,a);c=f})}})}}var k=a.length,p=b.length,n=new RegExp(a.replace(/./g,f),"g"),q=new RegExp(b.replace(/./g,f),"g");h.startSymbol=function(){return a};h.endSymbol=function(){return b};return h}]}function Nb(){this.$get=["$rootScope","$window","$q","$$q",function(a,b,c,d){function e(g,h,k,m){var p=4<arguments.length,n=p?nb.call(arguments,4):[],q=b.setInterval,Y=b.clearInterval,
r=0,s=B(m)&&!m,w=(s?d:c).defer(),t=w.promise;k=B(k)?k:0;t.then(null,null,p?function(){g.apply(null,n)}:g);t.$$intervalId=q(function(){w.notify(r++);0<k&&r>=k&&(w.resolve(r),Y(t.$$intervalId),delete f[t.$$intervalId]);s||a.$apply()},h);f[t.$$intervalId]=w;return t}var f={};e.cancel=function(a){return a&&a.$$intervalId in f?(f[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete f[a.$$intervalId],!0):!1};return e}]}function Mb(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",
GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00a4",posSuf:"",negPre:"(\u00a4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(a){return 1===a?"one":"other"}}}}function Xb(a){a=a.split("/");for(var b=a.length;b--;)a[b]=fb(a[b]);return a.join("/")}function Ac(a,b){var c=rb(a);b.$$protocol=c.protocol;
b.$$host=c.hostname;b.$$port=t(c.port)||If[c.protocol]||null}function kc(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=rb(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname);b.$$search=vb(d.search);b.$$hash=decodeURIComponent(d.hash);b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function L(a,b){if(0===b.indexOf(a))return b.substr(a.length)}function db(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function sc(a){return a.replace(/(#.+)|#$/,
"$1")}function Pc(a){return a.substr(0,db(a).lastIndexOf("/")+1)}function Qc(a,b){this.$$html5=!0;b=b||"";var c=Pc(a);Ac(a,this);this.$$parse=function(a){var b=L(c,a);if(!D(b))throw Hc("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,c);kc(b,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=eb(this.$$search),b=this.$$hash?"#"+fb(this.$$hash):"";this.$$url=Xb(this.$$path)+(a?"?"+a:"")+b;this.$$absUrl=c+this.$$url.substr(1)};this.$$parseLinkUrl=function(e,
f){if(f&&"#"===f[0])return this.hash(f.slice(1)),!0;var g,h;(g=L(a,e))!==d?(h=g,h=(g=L(b,g))!==d?c+(L("/",g)||g):a+h):(g=L(c,e))!==d?h=c+g:c==e+"/"&&(h=c);h&&this.$$parse(h);return!!h}}function Rc(a,b){var c=Pc(a);Ac(a,this);this.$$parse=function(d){d=L(a,d)||L(c,d);var e;"#"===d.charAt(0)?(e=L(b,d),w(e)&&(e=d)):e=this.$$html5?d:"";kc(e,this);d=this.$$path;var f=/^\/[A-Z]:(\/.*)/;0===e.indexOf(a)&&(e=e.replace(a,""));f.exec(e)||(d=(e=f.exec(d))?e[1]:d);this.$$path=d;this.$$compose()};this.$$compose=
function(){var c=eb(this.$$search),d=this.$$hash?"#"+fb(this.$$hash):"";this.$$url=Xb(this.$$path)+(c?"?"+c:"")+d;this.$$absUrl=a+(this.$$url?b+this.$$url:"")};this.$$parseLinkUrl=function(b,c){return db(a)==db(b)?(this.$$parse(b),!0):!1}}function kd(a,b){this.$$html5=!0;Rc.apply(this,arguments);var c=Pc(a);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;a==db(d)?f=d:(g=L(c,d))?f=a+b+g:c===d+"/"&&(f=c);f&&this.$$parse(f);return!!f};this.$$compose=function(){var c=
eb(this.$$search),d=this.$$hash?"#"+fb(this.$$hash):"";this.$$url=Xb(this.$$path)+(c?"?"+c:"")+d;this.$$absUrl=a+b+this.$$url}}function uc(a){return function(){return this[a]}}function ld(a,b){return function(c){if(w(c))return this[a];this[a]=b(c);this.$$compose();return this}}function me(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return B(b)?(a=b,this):a};this.html5Mode=function(a){return T(a)?(b.enabled=a,this):C(a)?(T(a.enabled)&&(b.enabled=a.enabled),
T(a.requireBase)&&(b.requireBase=a.requireBase),T(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=m.url(),f=m.$$state;try{d.url(a,b,c),m.$$state=d.state()}catch(g){throw m.url(e),m.$$state=f,g;}}function k(a,b){c.$broadcast("$locationChangeSuccess",m.absUrl(),a,m.$$state,b)}var m,p;p=d.baseHref();var n=d.url(),q;if(b.enabled){if(!p&&b.requireBase)throw Hc("nobase","$location in HTML5 mode requires a <base> tag to be present!");
q=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(p||"/");p=e.history?Qc:kd}else q=db(n),p=Rc;m=new p(q,"#"+a);m.$$parseLinkUrl(n,n);m.$$state=d.state();var r=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=O(a.target);"a"!==W(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),k=e.attr("href")||e.attr("xlink:href");C(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=rb(h.animVal).href);
r.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||!m.$$parseLinkUrl(h,k)||(a.preventDefault(),m.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}});sc(m.absUrl())!=sc(n)&&d.url(m.absUrl(),!0);var s=!0;d.onUrlChange(function(a,b){c.$evalAsync(function(){var d=m.absUrl(),e=m.$$state,f;m.$$parse(a);m.$$state=b;f=c.$broadcast("$locationChangeStart",a,d,b,e).defaultPrevented;m.absUrl()===a&&(f?(m.$$parse(d),m.$$state=e,h(d,!1,e)):(s=!1,k(d,e)))});c.$$phase||c.$digest()});
c.$watch(function(){var a=sc(d.url()),b=sc(m.absUrl()),f=d.state(),g=m.$$replace,p=a!==b||m.$$html5&&e.history&&f!==m.$$state;if(s||p)s=!1,c.$evalAsync(function(){var b=m.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,m.$$state,f).defaultPrevented;m.absUrl()===b&&(d?(m.$$parse(a),m.$$state=f):(p&&h(b,g,f===m.$$state?null:m.$$state),k(a,f)))});m.$$replace=!1});return m}]}function pe(){var a=!0,c=this;this.debugEnabled=function(b){return B(b)?(a=b,this):a};this.$get=["$window",function(d){function e(a){a instanceof
Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function f(a){var c=d.console||{},g=c[a]||c.log||r;a=!1;try{a=!!g.apply}catch(h){}return a?function(){var a=[];b(arguments,function(b){a.push(e(b))});return g.apply(c,a)}:function(a,b){g(a,null==b?"":b)}}return{log:f("log"),info:f("info"),warn:f("warn"),error:f("error"),debug:function(){var b=f("debug");return function(){a&&b.apply(c,
arguments)}}()}}]}function qb(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw Ea("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function Na(a,b){if(a){if(a.constructor===a)throw Ea("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw Ea("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",
b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw Ea("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw Ea("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b);}return a}function md(a,b){if(a){if(a.constructor===a)throw Ea("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===Jf||a===Kf||a===Lf)throw Ea("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",
b);}}function qe(a,b){return"undefined"!==typeof a?a:b}function nd(a,b){return"undefined"===typeof a?b:"undefined"===typeof b?a:a+b}function la(a,c){var d,e;switch(a.type){case F.Program:d=!0;b(a.body,function(a){la(a.expression,c);d=d&&a.expression.constant});a.constant=d;break;case F.Literal:a.constant=!0;a.toWatch=[];break;case F.UnaryExpression:la(a.argument,c);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;break;case F.BinaryExpression:la(a.left,c);la(a.right,c);a.constant=a.left.constant&&
a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case F.LogicalExpression:la(a.left,c);la(a.right,c);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case F.ConditionalExpression:la(a.test,c);la(a.alternate,c);la(a.consequent,c);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case F.Identifier:a.constant=!1;a.toWatch=[a];break;case F.MemberExpression:la(a.object,c);a.computed&&la(a.property,
c);a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=[a];break;case F.CallExpression:d=a.filter?!c(a.callee.name).$stateful:!1;e=[];b(a.arguments,function(a){la(a,c);d=d&&a.constant;a.constant||e.push.apply(e,a.toWatch)});a.constant=d;a.toWatch=a.filter&&!c(a.callee.name).$stateful?e:[a];break;case F.AssignmentExpression:la(a.left,c);la(a.right,c);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];break;case F.ArrayExpression:d=!0;e=[];b(a.elements,function(a){la(a,
c);d=d&&a.constant;a.constant||e.push.apply(e,a.toWatch)});a.constant=d;a.toWatch=e;break;case F.ObjectExpression:d=!0;e=[];b(a.properties,function(a){la(a.value,c);d=d&&a.value.constant;a.value.constant||e.push.apply(e,a.value.toWatch)});a.constant=d;a.toWatch=e;break;case F.ThisExpression:a.constant=!1,a.toWatch=[]}}function od(a){if(1==a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:d}}function pd(a){return a.type===F.Identifier||a.type===F.MemberExpression}function qd(a){if(1===
a.body.length&&pd(a.body[0].expression))return{type:F.AssignmentExpression,left:a.body[0].expression,right:{type:F.NGValueParameter},operator:"="}}function rd(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===F.Literal||a.body[0].expression.type===F.ArrayExpression||a.body[0].expression.type===F.ObjectExpression)}function sd(a,b){this.astBuilder=a;this.$filter=b}function td(a,b){this.astBuilder=a;this.$filter=b}function vc(a,b,c,d){Na(a,d);b=b.split(".");for(var e,f=0;1<
b.length;f++){e=qb(b.shift(),d);var g=Na(a[e],d);g||(g={},a[e]=g);a=g}e=qb(b.shift(),d);Na(a[e],d);return a[e]=c}function wc(a){return"constructor"==a}function Sc(a){return E(a.valueOf)?a.valueOf():Mf.call(a)}function re(){var a=ia(),c=ia();this.$get=["$filter","$sniffer",function(e,f){function g(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=Sc(a),"object"===typeof a)?!1:a===b||a!==a&&b!==b}function h(a,b,c,e,f){var k=e.inputs,m;if(1===k.length){var p=g,k=k[0];return a.$watch(function(a){var b=
k(a);g(b,p)||(m=e(a,d,d,[b]),p=b&&Sc(b));return m},b,c,f)}for(var n=[],G=[],q=0,P=k.length;q<P;q++)n[q]=g,G[q]=null;return a.$watch(function(a){for(var b=!1,c=0,f=k.length;c<f;c++){var h=k[c](a);if(b||(b=!g(h,n[c])))G[c]=h,n[c]=h&&Sc(h)}b&&(m=e(a,d,d,G));return m},b,c,f)}function k(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;E(b)&&b.apply(this,arguments);B(a)&&d.$$postDigest(function(){B(f)&&e()})},c)}function m(a,c,d,e){function f(a){var c=!0;b(a,function(a){B(a)||
(c=!1)});return c}var g,h;return g=a.$watch(function(a){return e(a)},function(a,b,d){h=a;E(c)&&c.call(this,a,b,d);f(a)&&d.$$postDigest(function(){f(h)&&g()})},d)}function p(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){E(b)&&b.apply(this,arguments);e()},c)}function n(a,b){if(!b)return a;var c=a.$$watchDelegate,c=c!==m&&c!==k?function(c,d,e,f){e=a(c,d,e,f);return b(e,c,d)}:function(c,d,e,f){e=a(c,d,e,f);c=b(e,c,d);return B(e)?c:e};a.$$watchDelegate&&a.$$watchDelegate!==
h?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=h,c.inputs=a.inputs?a.inputs:[a]);return c}var q={csp:f.csp,expensiveChecks:!1},s={csp:f.csp,expensiveChecks:!0};return function(b,d,f){var g,Y,X;switch(typeof b){case "string":X=b=b.trim();var w=f?c:a;g=w[X];g||(":"===b.charAt(0)&&":"===b.charAt(1)&&(Y=!0,b=b.substring(2)),f=f?s:q,g=new ed(f),g=(new fd(g,e,f)).parse(b),g.constant?g.$$watchDelegate=p:Y?g.$$watchDelegate=g.literal?m:k:g.inputs&&(g.$$watchDelegate=h),w[X]=g);return n(g,
d);case "function":return n(b,d);default:return r}}}]}function se(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return ud(function(b){a.$evalAsync(b)},b)}]}function te(){this.$get=["$browser","$exceptionHandler",function(a,b){return ud(function(b){a.defer(b)},b)}]}function ud(a,e){function f(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function g(){this.$$state={status:0}}function h(a,b){return function(c){b.call(a,c)}}function k(b){!b.processScheduled&&
b.pending&&(b.processScheduled=!0,a(function(){var a,c,f;f=b.pending;b.processScheduled=!1;b.pending=d;for(var g=0,h=f.length;g<h;++g){c=f[g][0];a=f[g][b.status];try{E(a)?c.resolve(a(b.value)):1===b.status?c.resolve(b.value):c.reject(b.value)}catch(k){c.reject(k),e(k)}}}))}function m(){this.promise=new g;this.resolve=h(this,this.resolve);this.reject=h(this,this.reject);this.notify=h(this,this.notify)}var p=c("$q",TypeError);g.prototype={then:function(a,b,c){var d=new m;this.$$state.pending=this.$$state.pending||
[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&k(this.$$state);return d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return q(b,!0,a)},function(b){return q(b,!1,a)},b)}};m.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(p("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){var b,c;c=f(this,this.$$resolve,
this.$$reject);try{if(C(a)||E(a))b=a&&a.then;E(b)?(this.promise.$$state.status=-1,b.call(a,c[0],c[1],this.notify)):(this.promise.$$state.value=a,this.promise.$$state.status=1,k(this.promise.$$state))}catch(d){c[1](d),e(d)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;k(this.promise.$$state)},notify:function(b){var c=this.promise.$$state.pending;0>=this.promise.$$state.status&&c&&c.length&&a(function(){for(var a,
d,f=0,g=c.length;f<g;f++){d=c[f][0];a=c[f][3];try{d.notify(E(a)?a(b):b)}catch(h){e(h)}}})}};var n=function(a,b){var c=new m;b?c.resolve(a):c.reject(a);return c.promise},q=function(a,b,c){var d=null;try{E(c)&&(d=c())}catch(e){return n(e,!1)}return d&&E(d.then)?d.then(function(){return n(a,b)},function(a){return n(a,!1)}):n(a,b)},r=function(a,b,c,d){var e=new m;e.resolve(a);return e.promise.then(b,c,d)},s=function cb(a){if(!E(a))throw p("norslvr","Expected resolverFn, got '{0}'",a);if(!(this instanceof
cb))return new cb(a);var b=new m;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};s.defer=function(){return new m};s.reject=function(a){var b=new m;b.reject(a);return b.promise};s.when=r;s.resolve=r;s.all=function(a){var c=new m,d=0,e=U(a)?[]:{};b(a,function(a,b){d++;r(a).then(function(a){e.hasOwnProperty(b)||(e[b]=a,--d||c.resolve(e))},function(a){e.hasOwnProperty(b)||c.reject(a)})});0===d&&c.resolve(e);return c.promise};return s}function ue(){this.$get=["$window","$timeout",
function(a,b){function c(){for(var a=0;a<p.length;a++){var b=p[a];b&&(p[a]=null,b())}m=p.length=0}function d(a){var b=p.length;m++;p.push(a);0===b&&(k=h(c));return function(){0<=b&&(b=p[b]=null,0===--m&&k&&(k(),k=null,p.length=0))}}var e=a.requestAnimationFrame||a.webkitRequestAnimationFrame,f=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,g=!!e,h=g?function(a){var b=e(a);return function(){f(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};
d.supported=g;var k,m=0,p=[];return d}]}function ne(){function a(b){function c(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++Bc;this.$$ChildScope=null}c.prototype=b;return c}var d=10,e=c("$rootScope"),f=null,g=null;this.digestTtl=function(a){arguments.length&&(d=a);return d};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(c,k,m,p){function n(a){a.currentScope.$$destroyed=
!0}function q(){this.$id=++Bc;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function s(a){if(B.$$phase)throw e("inprog","{0} already in progress",B.$$phase);B.$$phase=a}function t(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function v(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&
delete a.$$listenerCount[c];while(a=a.$parent)}function u(){}function z(){for(;D.length;)try{D.shift()()}catch(a){k(a)}g=null}function y(){null===g&&(g=p.defer(function(){B.$apply(z)}))}q.prototype={constructor:q,$new:function(b,c){var d;c=c||this;b?(d=new q,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(b||c!=this)&&d.$on("$destroy",
n);return d},$watch:function(a,b,c,d){var e=m(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e,a);var g=this,h=g.$$watchers,k={fn:b,last:u,get:e,exp:d||a,eq:!!c};f=null;E(b)||(k.fn=r);h||(h=g.$$watchers=[]);h.unshift(k);t(this,1);return function(){0<=J(h,k)&&t(g,-1);f=null}},$watchGroup:function(a,c){function d(){k=!1;m?(m=!1,c(f,f,h)):c(f,e,h)}var e=Array(a.length),f=Array(a.length),g=[],h=this,k=!1,m=!0;if(!a.length){var p=!0;h.$evalAsync(function(){p&&c(f,f,h)});return function(){p=
!1}}if(1===a.length)return this.$watch(a[0],function(a,b,d){f[0]=a;e[0]=b;c(f,a===b?f:e,d)});b(a,function(a,b){var c=h.$watch(a,function(a,c){f[b]=a;e[b]=c;k||(k=!0,h.$evalAsync(d))});g.push(c)});return function(){for(;g.length;)g.shift()()}},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,k;if(!w(e)){if(C(e))if(h(e))for(f!==G&&(f=G,Y=f.length=0,p++),a=e.length,Y!==a&&(p++,f.length=Y=a),b=0;b<a;b++)k=f[b],g=e[b],d=k!==k&&g!==g,d||k===g||(p++,f[b]=g);else{f!==q&&(f=q={},Y=0,p++);a=0;for(b in e)e.hasOwnProperty(b)&&
(a++,g=e[b],k=f[b],b in f?(d=k!==k&&g!==g,d||k===g||(p++,f[b]=g)):(Y++,f[b]=g,p++));if(Y>a)for(b in p++,f)e.hasOwnProperty(b)||(Y--,delete f[b])}else f!==e&&(f=e,p++);return p}}c.$stateful=!0;var d=this,e,f,g,k=1<b.length,p=0,n=m(a,c),G=[],q={},P=!0,Y=0;return this.$watch(n,function(){P?(P=!1,b(e,e,d)):b(e,g,d);if(k)if(C(e))if(h(e)){g=Array(e.length);for(var a=0;a<e.length;a++)g[a]=e[a]}else for(a in g={},e)lc.call(e,a)&&(g[a]=e[a]);else g=e})},$digest:function(){var a,b,c,h,m,n,q=d,r,da=[],R,ra;
s("$digest");p.$$checkUrlChange();this===B&&null!==g&&(p.defer.cancel(g),z());f=null;do{n=!1;for(r=this;x.length;){try{ra=x.shift(),ra.scope.$eval(ra.expression,ra.locals)}catch(t){k(t)}f=null}a:do{if(h=r.$$watchers)for(m=h.length;m--;)try{if(a=h[m])if((b=a.get(r))!==(c=a.last)&&!(a.eq?V(b,c):"number"===typeof b&&"number"===typeof c&&isNaN(b)&&isNaN(c)))n=!0,f=a,a.last=a.eq?ea(b,null):b,a.fn(b,c===u?b:c,r),5>q&&(R=4-q,da[R]||(da[R]=[]),da[R].push({msg:E(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):
a.exp,newVal:b,oldVal:c}));else if(a===f){n=!1;break a}}catch(w){k(w)}if(!(h=r.$$watchersCount&&r.$$childHead||r!==this&&r.$$nextSibling))for(;r!==this&&!(h=r.$$nextSibling);)r=r.$parent}while(r=h);if((n||x.length)&&!q--)throw B.$$phase=null,e("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",d,da);}while(n||x.length);for(B.$$phase=null;A.length;)try{A.shift()()}catch(S){k(S)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");
this.$$destroyed=!0;this===B&&p.$$applicationDestroyed();t(this,-this.$$watchersCount);for(var b in this.$$listenerCount)v(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling);a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=r;this.$on=
this.$watch=this.$watchGroup=function(){return r};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(a,b){return m(a)(this,b)},$evalAsync:function(a,b){B.$$phase||x.length||p.defer(function(){x.length&&B.$digest()});x.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){A.push(a)},$apply:function(a){try{return s("$apply"),this.$eval(a)}catch(b){k(b)}finally{B.$$phase=null;try{B.$digest()}catch(c){throw k(c),
c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&D.push(b);y()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,v(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,f=!1,g={name:a,targetScope:e,stopPropagation:function(){f=!0},preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1},
h=qa([g],arguments,1),m,p;do{d=e.$$listeners[a]||c;g.currentScope=e;m=0;for(p=d.length;m<p;m++)if(d[m])try{d[m].apply(null,h)}catch(n){k(n)}else d.splice(m,1),m--,p--;if(f)return g.currentScope=null,g;e=e.$parent}while(e);g.currentScope=null;return g},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var f=qa([e],arguments,1),g,h;c=d;){e.currentScope=c;d=c.$$listeners[a]||
[];g=0;for(h=d.length;g<h;g++)if(d[g])try{d[g].apply(null,f)}catch(m){k(m)}else d.splice(g,1),g--,h--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var B=new q,x=B.$$asyncQueue=[],A=B.$$postDigestQueue=[],D=B.$$applyAsyncQueue=[];return B}]}function oe(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return B(b)?
(a=b,this):a};this.imgSrcSanitizationWhitelist=function(a){return B(a)?(b=a,this):b};this.$get=function(){return function(c,d){var e=d?b:a,f;f=rb(c).href;return""===f||f.match(e)?c:"unsafe:"+f}}}function ve(a){if("self"===a)return a;if(D(a)){if(-1<a.indexOf("***"))throw ub("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);a=Pd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+a+"$")}if(K(a))return new RegExp("^"+a.source+"$");throw ub("imatcher",'Matchers may only be "self", string patterns or RegExp objects');
}function vd(a){var c=[];B(a)&&b(a,function(a){c.push(ve(a))});return c}function we(){this.SCE_CONTEXTS=Wa;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){arguments.length&&(a=vd(b));return a};this.resourceUrlBlacklist=function(a){arguments.length&&(b=vd(a));return b};this.$get=["$injector",function(c){function e(a,b){return"self"===a?wd(b):!!a.exec(b.href)}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};
b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var g=function(a){throw ub("unsafe","Attempting to use an unsafe value in a safe context.");};c.has("$sanitize")&&(g=c.get("$sanitize"));var h=f(),k={};k[Wa.HTML]=f(h);k[Wa.CSS]=f(h);k[Wa.URL]=f(h);k[Wa.JS]=f(h);k[Wa.RESOURCE_URL]=f(k[Wa.URL]);return{trustAs:function(a,b){var c=k.hasOwnProperty(a)?k[a]:null;if(!c)throw ub("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);
if(null===b||b===d||""===b)return b;if("string"!==typeof b)throw ub("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new c(b)},getTrusted:function(c,f){if(null===f||f===d||""===f)return f;var h=k.hasOwnProperty(c)?k[c]:null;if(h&&f instanceof h)return f.$$unwrapTrustedValue();if(c===Wa.RESOURCE_URL){var h=rb(f.toString()),m,p,n=!1;m=0;for(p=a.length;m<p;m++)if(e(a[m],h)){n=!0;break}if(n)for(m=0,p=b.length;m<p;m++)if(e(b[m],h)){n=!1;break}if(n)return f;
throw ub("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",f.toString());}if(c===Wa.HTML)return g(f);throw ub("unsafe","Attempting to use an unsafe value in a safe context.");},valueOf:function(a){return a instanceof h?a.$$unwrapTrustedValue():a}}}]}function xe(){var a=!0;this.enabled=function(b){arguments.length&&(a=!!b);return a};this.$get=["$parse","$sceDelegate",function(c,d){if(a&&8>ac)throw ub("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");
var e=aa(Wa);e.isEnabled=function(){return a};e.trustAs=d.trustAs;e.getTrusted=d.getTrusted;e.valueOf=d.valueOf;a||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=z);e.parseAs=function(a,b){var d=c(b);return d.literal&&d.constant?d:c(b,function(b){return e.getTrusted(a,b)})};var f=e.parseAs,g=e.getTrusted,h=e.trustAs;b(Wa,function(a,b){var c=ga(b);e[Ia("parse_as_"+c)]=function(b){return f(a,b)};e[Ia("get_trusted_"+c)]=function(b){return g(a,b)};e[Ia("trust_as_"+c)]=function(b){return h(a,
b)}});return e}]}function ye(){this.$get=["$window","$document",function(a,b){var c={},d=t((/android (\d+)/.exec(ga((a.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((a.navigator||{}).userAgent),f=b[0]||{},g,h=/^(Moz|webkit|ms)(?=[A-Z])/,k=f.body&&f.body.style,m=!1,p=!1;if(k){for(var n in k)if(m=h.exec(n)){g=m[0];g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in k&&"webkit");m=!!("transition"in k||g+"Transition"in k);p=!!("animation"in k||g+"Animation"in k);!d||m&&p||(m=
D(k.webkitTransition),p=D(k.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>d||e),hasEvent:function(a){if("input"===a&&11>=ac)return!1;if(w(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:mc(),vendorPrefix:g,transitions:m,animations:p,android:d}}]}function ze(){this.$get=["$templateCache","$http","$q",function(a,b,c){function d(e,f){d.totalPendingRequests++;var g=b.defaults&&b.defaults.transformResponse;U(g)?g=g.filter(function(a){return a!==Eb}):g===Eb&&
(g=null);return b.get(e,{cache:a,transformResponse:g})["finally"](function(){d.totalPendingRequests--}).then(function(b){a.put(e,b.data);return b.data},function(a){if(!f)throw xa("tpload","Failed to load template: {0} (HTTP status: {1} {2})",e,a.status,a.statusText);return c.reject(a)})}d.totalPendingRequests=0;return d}]}function Ae(){this.$get=["$rootScope","$browser","$location",function(a,c,d){return{findBindings:function(a,c,d){a=a.getElementsByClassName("ng-binding");var e=[];b(a,function(a){var f=
Da.element(a).data("$binding");f&&b(f,function(b){d?(new RegExp("(^|\\s)"+Pd(c)+"(\\s|\\||$)")).test(b)&&e.push(a):-1!=b.indexOf(c)&&e.push(a)})});return e},findModels:function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=a.querySelectorAll("["+d[e]+"model"+(c?"=":"*=")+'"'+b+'"]');if(f.length)return f}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){c.notifyWhenNoOutstandingRequests(a)}}}]}function Be(){this.$get=
["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(h,k,m){E(h)||(m=k,k=h,h=r);var p=nb.call(arguments,3),n=B(m)&&!m,q=(n?d:c).defer(),da=q.promise,s;s=b.defer(function(){try{q.resolve(h.apply(null,p))}catch(b){q.reject(b),e(b)}finally{delete g[da.$$timeoutId]}n||a.$apply()},k);da.$$timeoutId=s;g[s]=q;return da}var g={};f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1};
return f}]}function rb(a){ac&&(pa.setAttribute("href",a),a=pa.href);pa.setAttribute("href",a);return{href:pa.href,protocol:pa.protocol?pa.protocol.replace(/:$/,""):"",host:pa.host,search:pa.search?pa.search.replace(/^\?/,""):"",hash:pa.hash?pa.hash.replace(/^#/,""):"",hostname:pa.hostname,port:pa.port,pathname:"/"===pa.pathname.charAt(0)?pa.pathname:"/"+pa.pathname}}function wd(a){a=D(a)?rb(a):a;return a.protocol===Qd.protocol&&a.host===Qd.host}function Ce(){this.$get=x(a)}function xd(a){function b(a){try{return decodeURIComponent(a)}catch(c){return a}}
var c=a[0]||{},e={},f="";return function(){var a,g,h,k,m;a=c.cookie||"";if(a!==f)for(f=a,a=f.split("; "),e={},h=0;h<a.length;h++)g=a[h],k=g.indexOf("="),0<k&&(m=b(g.substring(0,k)),e[m]===d&&(e[m]=b(g.substring(k+1))));return e}}function De(){this.$get=xd}function yd(a){function c(d,e){if(C(d)){var f={};b(d,function(a,b){f[b]=c(b,a)});return f}return a.factory(d+"Filter",e)}this.register=c;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];c("currency",Rd);c("date",
Sd);c("filter",Ee);c("json",Nf);c("limitTo",Of);c("lowercase",Pf);c("number",Td);c("orderBy",Ud);c("uppercase",Qf)}function Ee(){return function(a,b,d){if(!h(a)){if(null==a)return a;throw c("filter")("notarray","Expected array but received: {0}",a);}var e;switch(Wc(b)){case "function":break;case "boolean":case "null":case "number":case "string":e=!0;case "object":b=Fe(b,d,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function Fe(a,b,c){var d=C(a)&&"$"in a;!0===b?b=V:E(b)||(b=
function(a,b){if(w(a))return!1;if(null===a||null===b)return a===b;var c;!(c=C(b))&&(c=C(a))&&(c=a,c=!(E(c.toString)&&c.toString!==Object.prototype.toString));if(c)return!1;a=ga(""+a);b=ga(""+b);return-1!==a.indexOf(b)});return function(e){return d&&!C(e)?Db(e,a.$,b,!1):Db(e,a,b,c)}}function Db(a,b,c,d,e){var f=Wc(a),g=Wc(b);if("string"===g&&"!"===b.charAt(0))return!Db(a,b.substring(1),c,d);if(U(a))return a.some(function(a){return Db(a,b,c,d)});switch(f){case "object":var h;if(d){for(h in a)if("$"!==
h.charAt(0)&&Db(a[h],b,c,!0))return!0;return e?!1:Db(a,b,c,!1)}if("object"===g){for(h in b)if(e=b[h],!E(e)&&!w(e)&&(f="$"===h,!Db(f?a:a[h],e,c,f,f)))return!1;return!0}return c(a,b);case "function":return!1;default:return c(a,b)}}function Wc(a){return null===a?"null":typeof a}function Rd(a){var b=a.NUMBER_FORMATS;return function(a,c,d){w(c)&&(c=b.CURRENCY_SYM);w(d)&&(d=b.PATTERNS[1].maxFrac);return null==a?a:Vd(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function Td(a){var b=
a.NUMBER_FORMATS;return function(a,c){return null==a?a:Vd(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Vd(a,b,c,d,e){if(C(a))return"";var f=0>a;a=Math.abs(a);var g=Infinity===a;if(!g&&!isFinite(a))return"";var h=a+"",k="",m=!1,p=[];g&&(k="\u221e");if(!g&&-1!==h.indexOf("e")){var n=h.match(/([\d\.]+)e(-?)(\d+)/);n&&"-"==n[2]&&n[3]>e+1?a=0:(k=h,m=!0)}if(g||m)0<e&&1>a&&(k=a.toFixed(e),a=parseFloat(k));else{g=(h.split(Wd)[1]||"").length;w(e)&&(e=Math.min(Math.max(b.minFrac,g),b.maxFrac));a=
+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e);var g=(""+a).split(Wd),h=g[0],g=g[1]||"",n=0,q=b.lgSize,r=b.gSize;if(h.length>=q+r)for(n=h.length-q,m=0;m<n;m++)0===(n-m)%r&&0!==m&&(k+=c),k+=h.charAt(m);for(m=n;m<h.length;m++)0===(h.length-m)%q&&0!==m&&(k+=c),k+=h.charAt(m);for(;g.length<e;)g+="0";e&&"0"!==e&&(k+=d+g.substr(0,e))}0===a&&(f=!1);p.push(f?b.negPre:b.posPre,k,f?b.negSuf:b.posSuf);return p.join("")}function Ic(a,b,c){var d="";0>a&&(d="-",a=-a);for(a=""+a;a.length<b;)a="0"+a;c&&(a=
a.substr(a.length-b));return d+a}function sa(a,b,c,d){c=c||0;return function(e){e=e["get"+a]();if(0<c||e>-c)e+=c;0===e&&-12==c&&(e=12);return Ic(e,b,d)}}function Jc(a,b){return function(c,d){var e=c["get"+a](),f=Ec(b?"SHORT"+a:a);return d[f][e]}}function Xd(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Yd(a){return function(b){var c=Xd(b.getFullYear());b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+c;b=1+Math.round(b/6048E5);return Ic(b,a)}}
function gd(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Sd(a){function c(a){var b;if(b=a.match(d)){a=new Date(0);var e=0,f=0,g=b[8]?a.setUTCFullYear:a.setFullYear,h=b[8]?a.setUTCHours:a.setHours;b[9]&&(e=t(b[9]+b[10]),f=t(b[9]+b[11]));g.call(a,t(b[1]),t(b[2])-1,t(b[3]));e=t(b[4]||0)-e;f=t(b[5]||0)-f;g=t(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));h.call(a,e,f,g,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
return function(d,e,f){var g="",h=[],k,m;e=e||"mediumDate";e=a.DATETIME_FORMATS[e]||e;D(d)&&(d=Rf.test(d)?t(d):c(d));u(d)&&(d=new Date(d));if(!A(d)||!isFinite(d.getTime()))return d;for(;e;)(m=Sf.exec(e))?(h=qa(h,m,1),e=h.pop()):(h.push(e),e=null);var p=d.getTimezoneOffset();f&&(p=N(f,d.getTimezoneOffset()),d=Ca(d,f,!0));b(h,function(b){k=Tf[b];g+=k?k(d,a.DATETIME_FORMATS,p):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function Nf(){return function(a,b){w(b)&&(b=2);return ya(a,b)}}function Of(){return function(a,
b,c){b=Infinity===Math.abs(Number(b))?Number(b):t(b);if(isNaN(b))return a;u(a)&&(a=a.toString());if(!U(a)&&!D(a))return a;c=!c||isNaN(c)?0:t(c);c=0>c&&c>=-a.length?a.length+c:c;return 0<=b?a.slice(c,c+b):0===c?a.slice(b,a.length):a.slice(Math.max(0,c+b),c)}}function Ud(a){return function(b,c,d){function e(a,b){return b?function(b,c){return a(c,b)}:a}function f(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}function g(a){return null===a?"null":"function"===
typeof a.valueOf&&(a=a.valueOf(),f(a))||"function"===typeof a.toString&&(a=a.toString(),f(a))?a:""}function k(a,b){var c=typeof a,d=typeof b;c===d&&"object"===c&&(a=g(a),b=g(b));return c===d?("string"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:a<b?-1:1):c<d?-1:1}if(!h(b))return b;c=U(c)?c:[c];0===c.length&&(c=["+"]);c=c.map(function(b){var c=!1,d=b||z;if(D(b)){if("+"==b.charAt(0)||"-"==b.charAt(0))c="-"==b.charAt(0),b=b.substring(1);if(""===b)return e(k,c);d=a(b);if(d.constant){var f=d();
return e(function(a,b){return k(a[f],b[f])},c)}}return e(function(a,b){return k(d(a),d(b))},c)});return nb.call(b).sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function Jb(a){E(a)&&(a={link:a});a.restrict=a.restrict||"AC";return x(a)}function Zd(a,c,e,f,g){var h=this,k=[],m=h.$$parentForm=a.parent().controller("form")||Kc;h.$error={};h.$$success={};h.$pending=d;h.$name=g(c.name||c.ngForm||"")(e);h.$dirty=!1;h.$pristine=!0;h.$valid=!0;h.$invalid=
!1;h.$submitted=!1;m.$addControl(h);h.$rollbackViewValue=function(){b(k,function(a){a.$rollbackViewValue()})};h.$commitViewValue=function(){b(k,function(a){a.$commitViewValue()})};h.$addControl=function(a){Ma(a.$name,"input");k.push(a);a.$name&&(h[a.$name]=a)};h.$$renameControl=function(a,b){var c=a.$name;h[c]===a&&delete h[c];h[b]=a;a.$name=b};h.$removeControl=function(a){a.$name&&h[a.$name]===a&&delete h[a.$name];b(h.$pending,function(b,c){h.$setValidity(c,null,a)});b(h.$error,function(b,c){h.$setValidity(c,
null,a)});b(h.$$success,function(b,c){h.$setValidity(c,null,a)});J(k,a)};$d({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(J(d,c),0===d.length&&delete a[b])},parentForm:m,$animate:f});h.$setDirty=function(){f.removeClass(a,bc);f.addClass(a,Lc);h.$dirty=!0;h.$pristine=!1;m.$setDirty()};h.$setPristine=function(){f.setClass(a,bc,Lc+" ng-submitted");h.$dirty=!1;h.$pristine=!0;h.$submitted=!1;b(k,function(a){a.$setPristine()})};
h.$setUntouched=function(){b(k,function(a){a.$setUntouched()})};h.$setSubmitted=function(){f.addClass(a,"ng-submitted");h.$submitted=!0;m.$setSubmitted()}}function hd(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function pc(a,b,c,d,e,f){var g=ga(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(a){h=!0});b.on("compositionend",function(){h=!1;k()})}var k=function(a){m&&(f.defer.cancel(m),m=null);if(!h){var e=b.val();a=a&&a.type;"password"===g||c.ngTrim&&
"false"===c.ngTrim||(e=ka(e));(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",k);else{var m,p=function(a,b,c){m||(m=f.defer(function(){m=null;b&&b.value===c||k(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||p(a,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut",p)}b.on("change",k);d.$render=function(){b.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}function Mc(a,c){return function(d,e){var f,
g;if(A(d))return d;if(D(d)){'"'==d.charAt(0)&&'"'==d.charAt(d.length-1)&&(d=d.substring(1,d.length-1));if(Uf.test(d))return new Date(d);a.lastIndex=0;if(f=a.exec(d))return f.shift(),g=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},b(f,function(a,b){b<c.length&&(g[c[b]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1E3*g.sss||0)}return NaN}}function qc(a,b,c,e){return function(f,
g,h,k,m,p,n){function q(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function r(a){return B(a)?A(a)?a:c(a):d}ae(f,g,h,k);pc(f,g,h,k,m,p);var s=k&&k.$options&&k.$options.timezone,t;k.$$parserName=a;k.$parsers.push(function(a){return k.$isEmpty(a)?null:b.test(a)?(a=c(a,t),s&&(a=Ca(a,s)),a):d});k.$formatters.push(function(a){if(a&&!A(a))throw Nc("datefmt","Expected `{0}` to be a date",a);if(q(a))return(t=a)&&s&&(t=Ca(t,s,!0)),n("date")(a,e,s);t=null;return""});if(B(h.min)||h.ngMin){var v;k.$validators.min=
function(a){return!q(a)||w(v)||c(a)>=v};h.$observe("min",function(a){v=r(a);k.$validate()})}if(B(h.max)||h.ngMax){var u;k.$validators.max=function(a){return!q(a)||w(u)||c(a)<=u};h.$observe("max",function(a){u=r(a);k.$validate()})}}}function ae(a,b,c,e){(e.$$hasNativeValidators=C(b[0].validity))&&e.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput&&!c.typeMismatch?d:a})}function be(a,b,d,e,f){if(B(e)){a=a(e);if(!a.constant)throw c("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",
d,e);return a(b)}return f}function id(a,c){a="ngClass"+a;return["$animate",function(d){function e(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var f=a[d],g=0;g<b.length;g++)if(f==b[g])continue a;c.push(f)}return c}function f(a){var c=[];return U(a)?(b(a,function(a){c=c.concat(f(a))}),c):D(a)?a.split(" "):C(a)?(b(a,function(a,b){a&&(c=c.concat(b.split(" ")))}),c):a}return{restrict:"AC",link:function(g,h,k){function m(a,c){var d=h.data("$classCounts")||ia(),e=[];b(a,function(a){if(0<c||d[a])d[a]=(d[a]||
0)+c,d[a]===+(0<c)&&e.push(a)});h.data("$classCounts",d);return e.join(" ")}function p(a){if(!0===c||g.$index%2===c){var b=f(a||[]);if(!n){var q=m(b,1);k.$addClass(q)}else if(!V(a,n)){var r=f(n),q=e(b,r),b=e(r,b),q=m(q,1),b=m(b,-1);q&&q.length&&d.addClass(h,q);b&&b.length&&d.removeClass(h,b)}}n=aa(a)}var n;g.$watch(k[a],p,!0);k.$observe("class",function(b){p(g.$eval(k[a]))});"ngClass"!==a&&g.$watch("$index",function(b,d){var e=b&1;if(e!==(d&1)){var h=f(g.$eval(k[a]));e===c?(e=m(h,1),k.$addClass(e)):
(e=m(h,-1),k.$removeClass(e))}})}}}]}function $d(a){function b(a,c){c&&!g[a]?(p.addClass(f,a),g[a]=!0):!c&&g[a]&&(p.removeClass(f,a),g[a]=!1)}function c(a,d){a=a?"-"+xb(a,"-"):"";b(rc+a,!0===d);b(ce+a,!1===d)}var e=a.ctrl,f=a.$element,g={},h=a.set,k=a.unset,m=a.parentForm,p=a.$animate;g[ce]=!(g[rc]=f.hasClass(rc));e.$setValidity=function(a,f,g){f===d?(e.$pending||(e.$pending={}),h(e.$pending,a,g)):(e.$pending&&k(e.$pending,a,g),de(e.$pending)&&(e.$pending=d));T(f)?f?(k(e.$error,a,g),h(e.$$success,
a,g)):(h(e.$error,a,g),k(e.$$success,a,g)):(k(e.$error,a,g),k(e.$$success,a,g));e.$pending?(b(ee,!0),e.$valid=e.$invalid=d,c("",null)):(b(ee,!1),e.$valid=de(e.$error),e.$invalid=!e.$valid,c("",e.$valid));f=e.$pending&&e.$pending[a]?d:e.$error[a]?!1:e.$$success[a]?!0:null;c(a,f);m.$setValidity(a,f,e)}}function de(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var Vf=/^\/(.+)\/([a-z]*)$/,ga=function(a){return D(a)?a.toLowerCase():a},lc=Object.prototype.hasOwnProperty,Ec=function(a){return D(a)?
a.toUpperCase():a},ac,O,La,nb=[].slice,Df=[].splice,Wf=[].push,ob=Object.prototype.toString,zd=Object.getPrototypeOf,Gb=c("ng"),Da=a.angular||(a.angular={}),nc,Bc=0;ac=e.documentMode;r.$inject=[];z.$inject=[];var U=Array.isArray,Ad=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,ka=function(a){return D(a)?a.trim():a},Pd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},mc=function(){if(B(mc.isActive_))return mc.isActive_;
var a=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!a)try{new Function("")}catch(b){a=!0}return mc.isActive_=a},Cc=function(){if(B(Cc.name_))return Cc.name_;var a,b,c=Zb.length,d,f;for(b=0;b<c;++b)if(d=Zb[b],a=e.querySelector("["+d.replace(":","\\:")+"jq]")){f=a.getAttribute(d+"jq");break}return Cc.name_=f},Zb=["ng-","data-ng-","ng:","x-ng-"],Ge=/[A-Z]/g,Bd=!1,$c,bb=1,Yb=3,He={full:"1.4.1",major:1,minor:4,dot:1,codeName:"hyperionic-illumination"};ba.expando="ng339";var oc=
ba.cache={},Af=1;ba._data=function(a){return this.cache[a[this.expando]]||{}};var vf=/([\:\-\_]+(.))/g,wf=/^moz([A-Z])/,Xf={mouseleave:"mouseout",mouseenter:"mouseover"},bd=c("jqLite"),zf=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ad=/<|&#?\w+;/,xf=/<([\w:]+)/,yf=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Va={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Va.optgroup=Va.option;Va.tbody=Va.tfoot=Va.colgroup=Va.caption=Va.thead;Va.th=Va.td;var $b=ba.prototype={ready:function(b){function c(){d||(d=!0,b())}var d=!1;"complete"===e.readyState?setTimeout(c):(this.on("DOMContentLoaded",c),ba(a).on("load",c))},toString:function(){var a=[];b(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return 0<=a?O(this[a]):O(this[this.length+a])},length:0,push:Wf,sort:[].sort,
splice:[].splice},Gc={};b("multiple selected checked disabled readOnly required open".split(" "),function(a){Gc[ga(a)]=a});var Id={};b("input select option textarea button form details".split(" "),function(a){Id[a]=!0});var Jd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};b({data:ja,removeData:Ra,hasData:function(a){for(var b in oc[a.ng339])return!0;return!1}},function(a,b){ba[b]=a});b({data:ja,inheritedData:Ga,scope:function(a){return O.data(a,"$scope")||
Ga(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return O.data(a,"$isolateScope")||O.data(a,"$isolateScopeNoTemplate")},controller:ib,injector:function(a){return Ga(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:H,css:function(a,b,c){b=Ia(b);if(B(c))a.style[b]=c;else return a.style[b]},attr:function(a,b,c){var e=a.nodeType;if(e!==Yb&&2!==e&&8!==e)if(e=ga(b),Gc[e])if(B(c))c?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e));else return a[b]||
(a.attributes.getNamedItem(b)||r).specified?e:d;else if(B(c))a.setAttribute(b,c);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?d:a},prop:function(a,b,c){if(B(c))a[b]=c;else return a[b]},text:function(){function a(b,c){if(w(c)){var d=b.nodeType;return d===bb||d===Yb?b.textContent:""}b.textContent=c}a.$dv="";return a}(),val:function(a,c){if(w(c)){if(a.multiple&&"select"===W(a)){var d=[];b(a.options,function(a){a.selected&&d.push(a.value||a.text)});return 0===d.length?null:d}return a.value}a.value=
c},html:function(a,b){if(w(b))return a.innerHTML;Qa(a,!0);a.innerHTML=b},empty:Sb},function(a,b){ba.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==Sb&&(2==a.length&&a!==H&&a!==ib?b:c)===d){if(C(b)){for(e=0;e<g;e++)if(a===ja)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}e=a.$dv;g=e===d?Math.min(g,1):g;for(f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}});b({removeData:Ra,on:function G(a,b,c,d){if(B(d))throw bd("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");
if(Qb(a)){var e=$a(a,!0);d=e.events;var f=e.handle;f||(f=e.handle=Tb(a,d));for(var e=0<=b.indexOf(" ")?b.split(" "):[b],g=e.length;g--;){b=e[g];var h=d[b];h||(d[b]=[],"mouseenter"===b||"mouseleave"===b?G(a,Xf[b],function(a){var c=a.relatedTarget;c&&(c===this||this.contains(c))||f(a,b)}):"$destroy"!==b&&a.addEventListener(b,f,!1),h=d[b]);h.push(c)}}},off:Za,one:function(a,b,c){a=O(a);a.on(b,function da(){a.off(b,c);a.off(b,da)});a.on(b,c)},replaceWith:function(a,c){var d,e=a.parentNode;Qa(a);b(new ba(c),
function(b){d?e.insertBefore(b,d.nextSibling):e.replaceChild(b,a);d=b})},children:function(a){var c=[];b(a.childNodes,function(a){a.nodeType===bb&&c.push(a)});return c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===bb||11===c){b=new ba(b);for(var c=0,d=b.length;c<d;c++)a.appendChild(b[c])}},prepend:function(a,c){if(a.nodeType===bb){var d=a.firstChild;b(new ba(c),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){b=O(b).eq(0).clone()[0];
var c=a.parentNode;c&&c.replaceChild(b,a);b.appendChild(a)},remove:Bb,detach:function(a){Bb(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new ba(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];d.insertBefore(g,c.nextSibling);c=g}},addClass:ca,removeClass:ab,toggleClass:function(a,c,d){c&&b(c.split(" "),function(b){var c=d;w(c)&&(c=!H(a,b));(c?ca:ab)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?
a.getElementsByTagName(b):[]},clone:tb,triggerHandler:function(a,c,d){var e,f,g=c.type||c,h=$a(a);if(h=(h=h&&h.events)&&h[g])e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:r,type:g,target:a},c.type&&(e=m(e,c)),c=aa(h),f=d?[e].concat(d):[e],b(c,function(b){e.isImmediatePropagationStopped()||
b.apply(a,f)})}},function(a,b){ba.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;f<g;f++)w(e)?(e=a(this[f],b,c,d),B(e)&&(e=O(e))):Rb(e,a(this[f],b,c,d));return B(e)?e:this};ba.prototype.bind=ba.prototype.on;ba.prototype.unbind=ba.prototype.off});Ya.prototype={put:function(a,b){this[Sa(a,this.nextUid)]=b},get:function(a){return this[Sa(a,this.nextUid)]},remove:function(a){var b=this[a=Sa(a,this.nextUid)];delete this[a];return b}};var uf=[function(){this.$get=[function(){return Ya}]}],Ld=
/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Yf=/,/,Zf=/^\s*(_?)(\S+?)\1\s*$/,Kd=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Hb=c("$injector");jb.$$annotate=function(a,c,d){var e;if("function"===typeof a){if(!(e=a.$inject)){e=[];if(a.length){if(c)throw D(d)&&d||(d=a.name||Cb(a)),Hb("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",d);c=a.toString().replace(Kd,"");c=c.match(Ld);b(c[1].split(Yf),function(a){a.replace(Zf,function(a,b,c){e.push(c)})})}a.$inject=e}}else U(a)?(c=a.length-
1,Pa(a[c],"fn"),e=a.slice(0,c)):Pa(a,"fn",!0);return e};var fe=c("$animate"),tf=function(){this.$get=["$q","$$rAF",function(a,b){function c(){}c.all=r;c.chain=r;c.prototype={end:r,cancel:r,resume:r,pause:r,complete:r,then:function(c,d){return a(function(a){b(function(){a()})}).then(c,d)}};return c}]},sf=function(){var a=new Ya,c=[];this.$get=["$$AnimateRunner","$rootScope",function(d,e){function f(d,g,h){var k=a.get(d);k||(a.put(d,k={}),c.push(d));g&&b(g.split(" "),function(a){a&&(k[a]=!0)});h&&b(h.split(" "),
function(a){a&&(k[a]=!1)});1<c.length||e.$$postDigest(function(){b(c,function(c){var d=a.get(c);if(d){var e=Ja(c.attr("class")),f="",g="";b(d,function(a,b){a!==!!e[b]&&(a?f+=(f.length?" ":"")+b:g+=(g.length?" ":"")+b)});b(c,function(a){f&&ca(a,f);g&&ab(a,g)});a.remove(c)}});c.length=0})}return{enabled:r,on:r,off:r,pin:r,push:function(a,b,c,e){e&&e();c=c||{};c.from&&a.css(c.from);c.to&&a.css(c.to);(c.addClass||c.removeClass)&&f(a,c.addClass,c.removeClass);return new d}}}]},rf=["$provide",function(a){var b=
this;this.$$registeredAnimations=Object.create(null);this.register=function(c,d){if(c&&"."!==c.charAt(0))throw fe("notcsel","Expecting class selector starting with '.' got '{0}'.",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e;a.factory(e,d)};this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw fe("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',
"ng-animate");return this.$$classNameFilter};this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var e;a:{for(e=0;e<d.length;e++){var f=d[e];if(1===f.nodeType){e=f;break a}}e=void 0}!e||e.parentNode||e.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){d=d&&O(d);e=e&&O(e);d=d||e.parent();b(c,d,e);return a.push(c,"enter",wa(f))},move:function(c,d,e,f){d=d&&O(d);e=e&&O(e);
d=d||e.parent();b(c,d,e);return a.push(c,"move",wa(f))},leave:function(b,c){return a.push(b,"leave",wa(c),function(){b.remove()})},addClass:function(b,c,d){d=wa(d);d.addClass=oa(d.addclass,c);return a.push(b,"addClass",d)},removeClass:function(b,c,d){d=wa(d);d.removeClass=oa(d.removeClass,c);return a.push(b,"removeClass",d)},setClass:function(b,c,d,e){e=wa(e);e.addClass=oa(e.addClass,c);e.removeClass=oa(e.removeClass,d);return a.push(b,"setClass",e)},animate:function(b,c,d,e,f){f=wa(f);f.from=f.from?
m(f.from,c):c;f.to=f.to?m(f.to,d):d;f.tempClasses=oa(f.tempClasses,e||"ng-inline-animate");return a.push(b,"animate",f)}}}]}],xa=c("$compile");ic.$inject=["$provide","$$sanitizeUriProvider"];var Nd=/^((?:x|data)[\:\-_])/i,Ef=c("$controller"),Md=/^(\S+)(\s+as\s+(\w+))?$/,Od="application/json",dd={"Content-Type":Od+";charset=utf-8"},Gf=/^\[|^\{(?!\{)/,Hf={"[":/]$/,"{":/}$/},Ff=/^\)\]\}',?\n/,Ib=Da.$interpolateMinErr=c("$interpolate");Ib.throwNoconcat=function(a){throw Ib("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",
a);};Ib.interr=function(a,b){return Ib("interr","Can't interpolate: {0}\n{1}",a,b.toString())};var $f=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,If={http:80,https:443,ftp:21},Hc=c("$location"),ag={$$html5:!1,$$replace:!1,absUrl:uc("$$absUrl"),url:function(a){if(w(a))return this.$$url;var b=$f.exec(a);(b[1]||""===a)&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||""===a)&&this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:uc("$$protocol"),host:uc("$$host"),port:uc("$$port"),path:ld("$$path",
function(a){a=null!==a?a.toString():"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(D(a)||u(a))a=a.toString(),this.$$search=vb(a);else if(C(a))a=ea(a,{}),b(a,function(b,c){null==b&&delete a[c]}),this.$$search=a;else throw Hc("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");break;default:w(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}this.$$compose();return this},hash:ld("$$hash",
function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};b([kd,Rc,Qc],function(a){a.prototype=Object.create(ag);a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==Qc||!this.$$html5)throw Hc("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");this.$$state=w(b)?null:b;return this}});var Ea=c("$parse"),Jf=Function.prototype.call,Kf=Function.prototype.apply,Lf=Function.prototype.bind,
Oc=ia();b("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Oc[a]=!0});var bg={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ed=function(a){this.options=a};ed.prototype={constructor:ed,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,
"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),c=b+this.peek(2),d=Oc[b],e=Oc[c];Oc[a]||d||e?(a=e?c:d?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},
isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;b=B(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw Ea("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,b,this.text);},
readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=ga(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=
this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),d=d+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=
4,c+=String.fromCharCode(parseInt(e,16))):c+=bg[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:d,constant:!0,value:c});return}c+=f}this.index++}this.throwError("Unterminated quote",b)}};var F=function(a,b){this.lexer=a;this.options=b};F.Program="Program";F.ExpressionStatement="ExpressionStatement";F.AssignmentExpression="AssignmentExpression";F.ConditionalExpression="ConditionalExpression";F.LogicalExpression="LogicalExpression";F.BinaryExpression="BinaryExpression";
F.UnaryExpression="UnaryExpression";F.CallExpression="CallExpression";F.MemberExpression="MemberExpression";F.Identifier="Identifier";F.Literal="Literal";F.ArrayExpression="ArrayExpression";F.Property="Property";F.ObjectExpression="ObjectExpression";F.ThisExpression="ThisExpression";F.NGValueParameter="NGValueParameter";F.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return a},
program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:F.Program,body:a}},expressionStatement:function(){return{type:F.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();this.expect("=")&&(a={type:F.AssignmentExpression,
left:a,right:this.assignment(),operator:"="});return a},ternary:function(){var a=this.logicalOR(),b,c;return this.expect("?")&&(b=this.expression(),this.consume(":"))?(c=this.expression(),{type:F.ConditionalExpression,test:a,alternate:b,consequent:c}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:F.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:F.LogicalExpression,
operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:F.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var a=this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:F.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a={type:F.BinaryExpression,operator:b.text,
left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a={type:F.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:F.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():
this.constants.hasOwnProperty(this.peek().text)?a=ea(this.constants[this.consume().text]):this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:F.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:F.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:F.MemberExpression,
object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:F.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text){do a.push(this.expression());while(this.expect(","))}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:F.Identifier,
name:a.text}},constant:function(){return{type:F.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:F.ArrayExpression,elements:a}},object:function(){var a=[],b;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;b={type:F.Property,kind:"init"};this.peek().constant?b.key=this.constant():this.peek().identifier?b.key=this.identifier():
this.throwError("invalid key",this.peek());this.consume(":");b.value=this.expression();a.push(b)}while(this.expect(","))}this.consume("}");return{type:F.ObjectExpression,properties:a}},throwError:function(a,b){throw Ea("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index));},consume:function(a){if(0===this.tokens.length)throw Ea("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);
b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(0===this.tokens.length)throw Ea("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===c||f===d||f===e||!(b||c||d||e))return a}return!1},expect:function(a,b,c,d){return(a=this.peek(a,b,c,d))?(this.tokens.shift(),a):!1},constants:{"true":{type:F.Literal,
value:!0},"false":{type:F.Literal,value:!1},"null":{type:F.Literal,value:null},undefined:{type:F.Literal,value:d},"this":{type:F.ThisExpression}}};sd.prototype={compile:function(a,c){var e=this,f=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:c,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};la(f,e.$filter);var g="",h;this.stage="assign";if(h=qd(f))this.state.computing="assign",g=this.nextId(),this.recurse(h,g),g="fn.assign="+this.generateFunction("assign",
"s,v,l");h=od(f.body);e.stage="inputs";b(h,function(a,b){var c="fn"+b;e.state[c]={vars:[],body:[],own:{}};e.state.computing=c;var d=e.nextId();e.recurse(a,d);e.return_(d);e.state.inputs.push(c);a.watchId=b});this.state.computing="fn";this.stage="main";this.recurse(f);g='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+g+this.watchFns()+"return fn;";g=(new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined",
"plus","text",g))(this.$filter,qb,Na,md,qe,nd,a);this.state=this.stage=d;g.literal=rd(f);g.constant=f.constant;return g},USE:"use",STRICT:"strict",watchFns:function(){var a=[],c=this.state.inputs,d=this;b(c,function(b){a.push("var "+b+"="+d.generateFunction(b,"s"))});c.length&&a.push("fn.inputs=["+c.join(",")+"];");return a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],c=this;b(this.state.filters,function(b,
d){a.push(b+"=$filter("+c.escape(d)+")")});return a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,c,e,f,g,h){var k,m,p=this,n,q;f=f||r;if(!h&&B(a.watchId))c=c||this.nextId(),this.if_("i",this.lazyAssign(c,this.computedMember("i",a.watchId)),this.lazyRecurse(a,c,e,f,g,!0));else switch(a.type){case F.Program:b(a.body,function(b,c){p.recurse(b.expression,
d,d,function(a){m=a});c!==a.body.length-1?p.current().body.push(m,";"):p.return_(m)});break;case F.Literal:q=this.escape(a.value);this.assign(c,q);f(q);break;case F.UnaryExpression:this.recurse(a.argument,d,d,function(a){m=a});q=a.operator+"("+this.ifDefined(m,0)+")";this.assign(c,q);f(q);break;case F.BinaryExpression:this.recurse(a.left,d,d,function(a){k=a});this.recurse(a.right,d,d,function(a){m=a});q="+"===a.operator?this.plus(k,m):"-"===a.operator?this.ifDefined(k,0)+a.operator+this.ifDefined(m,
0):"("+k+")"+a.operator+"("+m+")";this.assign(c,q);f(q);break;case F.LogicalExpression:c=c||this.nextId();p.recurse(a.left,c);p.if_("&&"===a.operator?c:p.not(c),p.lazyRecurse(a.right,c));f(c);break;case F.ConditionalExpression:c=c||this.nextId();p.recurse(a.test,c);p.if_(c,p.lazyRecurse(a.alternate,c),p.lazyRecurse(a.consequent,c));f(c);break;case F.Identifier:c=c||this.nextId();e&&(e.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),e.computed=!1,
e.name=a.name);qb(a.name);p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",a.name)),function(){p.if_("inputs"===p.stage||"s",function(){g&&1!==g&&p.if_(p.not(p.nonComputedMember("s",a.name)),p.lazyAssign(p.nonComputedMember("s",a.name),"{}"));p.assign(c,p.nonComputedMember("s",a.name))})},c&&p.lazyAssign(c,p.nonComputedMember("l",a.name)));(p.state.expensiveChecks||wc(a.name))&&p.addEnsureSafeObject(c);f(c);break;case F.MemberExpression:k=e&&(e.context=this.nextId())||this.nextId();c=c||this.nextId();
p.recurse(a.object,k,d,function(){p.if_(p.notNull(k),function(){if(a.computed)m=p.nextId(),p.recurse(a.property,m),p.addEnsureSafeMemberName(m),g&&1!==g&&p.if_(p.not(p.computedMember(k,m)),p.lazyAssign(p.computedMember(k,m),"{}")),q=p.ensureSafeObject(p.computedMember(k,m)),p.assign(c,q),e&&(e.computed=!0,e.name=m);else{qb(a.property.name);g&&1!==g&&p.if_(p.not(p.nonComputedMember(k,a.property.name)),p.lazyAssign(p.nonComputedMember(k,a.property.name),"{}"));q=p.nonComputedMember(k,a.property.name);
if(p.state.expensiveChecks||wc(a.property.name))q=p.ensureSafeObject(q);p.assign(c,q);e&&(e.computed=!1,e.name=a.property.name)}},function(){p.assign(c,"undefined")});f(c)},!!g);break;case F.CallExpression:c=c||this.nextId();a.filter?(m=p.filter(a.callee.name),n=[],b(a.arguments,function(a){var b=p.nextId();p.recurse(a,b);n.push(b)}),q=m+"("+n.join(",")+")",p.assign(c,q),f(c)):(m=p.nextId(),k={},n=[],p.recurse(a.callee,m,k,function(){p.if_(p.notNull(m),function(){p.addEnsureSafeFunction(m);b(a.arguments,
function(a){p.recurse(a,p.nextId(),d,function(a){n.push(p.ensureSafeObject(a))})});k.name?(p.state.expensiveChecks||p.addEnsureSafeObject(k.context),q=p.member(k.context,k.name,k.computed)+"("+n.join(",")+")"):q=m+"("+n.join(",")+")";q=p.ensureSafeObject(q);p.assign(c,q)},function(){p.assign(c,"undefined")});f(c)}));break;case F.AssignmentExpression:m=this.nextId();k={};if(!pd(a.left))throw Ea("lval","Trying to assing a value to a non l-value");this.recurse(a.left,d,k,function(){p.if_(p.notNull(k.context),
function(){p.recurse(a.right,m);p.addEnsureSafeObject(p.member(k.context,k.name,k.computed));q=p.member(k.context,k.name,k.computed)+a.operator+m;p.assign(c,q);f(c||q)})},1);break;case F.ArrayExpression:n=[];b(a.elements,function(a){p.recurse(a,p.nextId(),d,function(a){n.push(a)})});q="["+n.join(",")+"]";this.assign(c,q);f(q);break;case F.ObjectExpression:n=[];b(a.properties,function(a){p.recurse(a.value,p.nextId(),d,function(b){n.push(p.escape(a.key.type===F.Identifier?a.key.name:""+a.key.value)+
":"+b)})});q="{"+n.join(",")+"}";this.assign(c,q);f(q);break;case F.ThisExpression:this.assign(c,"s");f("s");break;case F.NGValueParameter:this.assign(c,"v"),f("v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")"));return d[c]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0));return this.state.filters[a]},
ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(!0===a)b();else{var d=this.current().body;d.push("if(",a,"){");b();d.push("}");c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return a+"."+b},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,
b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+
a+",text)"},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(D(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(u(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"===
typeof a)return"undefined";throw Ea("esc","IMPOSSIBLE");},nextId:function(a,b){var c="v"+this.state.nextId++;a||this.current().vars.push(c+(b?"="+b:""));return c},current:function(){return this.state[this.state.computing]}};td.prototype={compile:function(a,c){var d=this,e=this.astBuilder.ast(a);this.expression=a;this.expensiveChecks=c;la(e,d.$filter);var f,g;if(f=qd(e))g=this.recurse(f);f=od(e.body);var h;f&&(h=[],b(f,function(a,b){var c=d.recurse(a);a.input=c;h.push(c);a.watchId=b}));var k=[];b(e.body,
function(a){k.push(d.recurse(a.expression))});f=0===e.body.length?function(){}:1===e.body.length?k[0]:function(a,c){var d;b(k,function(b){d=b(a,c)});return d};g&&(f.assign=function(a,b,c){return g(a,c,b)});h&&(f.inputs=h);f.literal=rd(e);f.constant=e.constant;return f},recurse:function(a,c,e){var f,g,h=this,k;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case F.Literal:return this.value(a.value,c);case F.UnaryExpression:return g=this.recurse(a.argument),this["unary"+a.operator](g,
c);case F.BinaryExpression:return f=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](f,g,c);case F.LogicalExpression:return f=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](f,g,c);case F.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),c);case F.Identifier:return qb(a.name,h.expression),h.identifier(a.name,h.expensiveChecks||wc(a.name),c,e,h.expression);case F.MemberExpression:return f=
this.recurse(a.object,!1,!!e),a.computed||(qb(a.property.name,h.expression),g=a.property.name),a.computed&&(g=this.recurse(a.property)),a.computed?this.computedMember(f,g,c,e,h.expression):this.nonComputedMember(f,g,h.expensiveChecks,c,e,h.expression);case F.CallExpression:return k=[],b(a.arguments,function(a){k.push(h.recurse(a))}),a.filter&&(g=this.$filter(a.callee.name)),a.filter||(g=this.recurse(a.callee,!0)),a.filter?function(a,b,e,f){for(var h=[],m=0;m<k.length;++m)h.push(k[m](a,b,e,f));a=g.apply(d,
h,f);return c?{context:d,name:d,value:a}:a}:function(a,b,d,e){var f=g(a,b,d,e),m;if(null!=f.value){Na(f.context,h.expression);md(f.value,h.expression);m=[];for(var p=0;p<k.length;++p)m.push(Na(k[p](a,b,d,e),h.expression));m=Na(f.value.apply(f.context,m),h.expression)}return c?{value:m}:m};case F.AssignmentExpression:return f=this.recurse(a.left,!0,1),g=this.recurse(a.right),function(a,b,d,e){var k=f(a,b,d,e);a=g(a,b,d,e);Na(k.value,h.expression);k.context[k.name]=a;return c?{value:a}:a};case F.ArrayExpression:return k=
[],b(a.elements,function(a){k.push(h.recurse(a))}),function(a,b,d,e){for(var f=[],g=0;g<k.length;++g)f.push(k[g](a,b,d,e));return c?{value:f}:f};case F.ObjectExpression:return k=[],b(a.properties,function(a){k.push({key:a.key.type===F.Identifier?a.key.name:""+a.key.value,value:h.recurse(a.value)})}),function(a,b,d,e){for(var f={},g=0;g<k.length;++g)f[k[g].key]=k[g].value(a,b,d,e);return c?{value:f}:f};case F.ThisExpression:return function(a){return c?{value:a}:a};case F.NGValueParameter:return function(a,
b,d,e){return c?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){c=a(c,d,e,f);c=B(c)?+c:0;return b?{value:c}:c}},"unary-":function(a,b){return function(c,d,e,f){c=a(c,d,e,f);c=B(c)?-c:0;return b?{value:c}:c}},"unary!":function(a,b){return function(c,d,e,f){c=!a(c,d,e,f);return b?{value:c}:c}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g);d=b(d,e,f,g);h=nd(h,d);return c?{value:h}:h}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g);d=b(d,e,f,g);
h=(B(h)?h:0)-(B(d)?d:0);return c?{value:h}:h}},"binary*":function(a,b,c){return function(d,e,f,g){d=a(d,e,f,g)*b(d,e,f,g);return c?{value:d}:d}},"binary/":function(a,b,c){return function(d,e,f,g){d=a(d,e,f,g)/b(d,e,f,g);return c?{value:d}:d}},"binary%":function(a,b,c){return function(d,e,f,g){d=a(d,e,f,g)%b(d,e,f,g);return c?{value:d}:d}},"binary===":function(a,b,c){return function(d,e,f,g){d=a(d,e,f,g)===b(d,e,f,g);return c?{value:d}:d}},"binary!==":function(a,b,c){return function(d,e,f,g){d=a(d,
e,f,g)!==b(d,e,f,g);return c?{value:d}:d}},"binary==":function(a,b,c){return function(d,e,f,g){d=a(d,e,f,g)==b(d,e,f,g);return c?{value:d}:d}},"binary!=":function(a,b,c){return function(d,e,f,g){d=a(d,e,f,g)!=b(d,e,f,g);return c?{value:d}:d}},"binary<":function(a,b,c){return function(d,e,f,g){d=a(d,e,f,g)<b(d,e,f,g);return c?{value:d}:d}},"binary>":function(a,b,c){return function(d,e,f,g){d=a(d,e,f,g)>b(d,e,f,g);return c?{value:d}:d}},"binary<=":function(a,b,c){return function(d,e,f,g){d=a(d,e,f,
g)<=b(d,e,f,g);return c?{value:d}:d}},"binary>=":function(a,b,c){return function(d,e,f,g){d=a(d,e,f,g)>=b(d,e,f,g);return c?{value:d}:d}},"binary&&":function(a,b,c){return function(d,e,f,g){d=a(d,e,f,g)&&b(d,e,f,g);return c?{value:d}:d}},"binary||":function(a,b,c){return function(d,e,f,g){d=a(d,e,f,g)||b(d,e,f,g);return c?{value:d}:d}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){e=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:e}:e}},value:function(a,b){return function(){return b?{context:d,
name:d,value:a}:a}},identifier:function(a,b,c,e,f){return function(g,h,k,m){g=h&&a in h?h:g;e&&1!==e&&g&&!g[a]&&(g[a]={});h=g?g[a]:d;b&&Na(h,f);return c?{context:g,name:a,value:h}:h}},computedMember:function(a,b,c,d,e){return function(f,g,h,k){var m=a(f,g,h,k),p,n;null!=m&&(p=b(f,g,h,k),qb(p,e),d&&1!==d&&m&&!m[p]&&(m[p]={}),n=m[p],Na(n,e));return c?{context:m,name:p,value:n}:n}},nonComputedMember:function(a,b,c,e,f,g){return function(h,k,m,p){h=a(h,k,m,p);f&&1!==f&&h&&!h[b]&&(h[b]={});k=null!=h?h[b]:
d;(c||wc(b))&&Na(k,g);return e?{context:h,name:b,value:k}:k}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var fd=function(a,b,c){this.lexer=a;this.$filter=b;this.options=c;this.ast=new F(this.lexer);this.astCompiler=c.csp?new td(this.ast,b):new sd(this.ast,b)};fd.prototype={constructor:fd,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};ia();ia();var Mf=Object.prototype.valueOf,ub=c("$sce"),Wa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",
JS:"js"},xa=c("$compile"),pa=e.createElement("a"),Qd=rb(a.location.href);xd.$inject=["$document"];yd.$inject=["$provide"];Rd.$inject=["$locale"];Td.$inject=["$locale"];var Wd=".",Tf={yyyy:sa("FullYear",4),yy:sa("FullYear",2,0,!0),y:sa("FullYear",1),MMMM:Jc("Month"),MMM:Jc("Month",!0),MM:sa("Month",2,1),M:sa("Month",1,1),dd:sa("Date",2),d:sa("Date",1),HH:sa("Hours",2),H:sa("Hours",1),hh:sa("Hours",2,-12),h:sa("Hours",1,-12),mm:sa("Minutes",2),m:sa("Minutes",1),ss:sa("Seconds",2),s:sa("Seconds",1),
sss:sa("Milliseconds",3),EEEE:Jc("Day"),EEE:Jc("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,c){a=-1*c;return a=(0<=a?"+":"")+(Ic(Math[0<a?"floor":"ceil"](a/60),2)+Ic(Math.abs(a%60),2))},ww:Yd(2),w:Yd(1),G:gd,GG:gd,GGG:gd,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},Sf=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Rf=/^\-?\d+$/;Sd.$inject=["$locale"];var Pf=x(ga),Qf=x(Ec);Ud.$inject=["$parse"];
var Ie=x({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===ob.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),Fc={};b(Gc,function(a,b){function c(a,e,f){a.$watch(f[d],function(a){f.$set(b,!!a)})}if("multiple"!=a){var d=Ka("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)});Fc[d]=function(){return{restrict:"A",priority:100,
link:e}}}});b(Jd,function(a,b){Fc[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"==d.ngPattern.charAt(0)&&(c=d.ngPattern.match(Vf))){d.$set("ngPattern",new RegExp(c[1],c[2]));return}a.$watch(d[b],function(a){d.$set(b,a)})}}}});b(["src","srcset","href"],function(a){var b=Ka("ng-"+a);Fc[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===ob.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null);e.$observe(b,
function(b){b?(e.$set(g,b),ac&&f&&d.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Kc={$addControl:r,$$renameControl:function(a,b){a.$name=b},$removeControl:r,$setValidity:r,$setDirty:r,$setPristine:r,$setSubmitted:r};Zd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ge=function(a){return["$timeout",function(b){return{name:"form",restrict:a?"EAC":"E",controller:Zd,compile:function(c,e){c.addClass(bc).addClass(rc);var f=e.name?"name":a&&e.ngForm?"ngForm":!1;return{pre:function(a,
c,e,g){if(!("action"in e)){var h=function(b){a.$apply(function(){g.$commitViewValue();g.$setSubmitted()});b.preventDefault()};c[0].addEventListener("submit",h,!1);c.on("$destroy",function(){b(function(){c[0].removeEventListener("submit",h,!1)},0,!1)})}var k=g.$$parentForm;f&&(vc(a,g.$name,g,g.$name),e.$observe(f,function(b){g.$name!==b&&(vc(a,g.$name,d,g.$name),k.$$renameControl(g,b),vc(a,g.$name,g,g.$name))}));c.on("$destroy",function(){k.$removeControl(g);f&&vc(a,e[f],d,g.$name);m(g,Kc)})}}}}}]},
Je=ge(),We=ge(!0),Uf=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,cg=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,dg=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,eg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,he=/^(\d{4})-(\d{2})-(\d{2})$/,ie=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,jd=/^(\d{4})-W(\d\d)$/,je=/^(\d{4})-(\d\d)$/,ke=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,
le={text:function(a,b,c,d,e,f){pc(a,b,c,d,e,f);hd(d)},date:qc("date",he,Mc(he,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":qc("datetimelocal",ie,Mc(ie,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:qc("time",ke,Mc(ke,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:qc("week",jd,function(a,b){if(A(a))return a;if(D(a)){jd.lastIndex=0;var c=jd.exec(a);if(c){var d=+c[1],e=+c[2],f=c=0,g=0,h=0,k=Xd(d),e=7*(e-1);b&&(c=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds());
return new Date(d,0,k.getDate()+e,c,f,g,h)}}return NaN},"yyyy-Www"),month:qc("month",je,Mc(je,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,c,e,f,g){ae(a,b,c,e);pc(a,b,c,e,f,g);e.$$parserName="number";e.$parsers.push(function(a){return e.$isEmpty(a)?null:eg.test(a)?parseFloat(a):d});e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!u(a))throw Nc("numfmt","Expected `{0}` to be a number",a);a=a.toString()}return a});if(B(c.min)||c.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||
w(h)||a>=h};c.$observe("min",function(a){B(a)&&!u(a)&&(a=parseFloat(a,10));h=u(a)&&!isNaN(a)?a:d;e.$validate()})}if(B(c.max)||c.ngMax){var k;e.$validators.max=function(a){return e.$isEmpty(a)||w(k)||a<=k};c.$observe("max",function(a){B(a)&&!u(a)&&(a=parseFloat(a,10));k=u(a)&&!isNaN(a)?a:d;e.$validate()})}},url:function(a,b,c,d,e,f){pc(a,b,c,d,e,f);hd(d);d.$$parserName="url";d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||cg.test(c)}},email:function(a,b,c,d,e,f){pc(a,b,c,d,e,f);hd(d);
d.$$parserName="email";d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||dg.test(c)}},radio:function(a,b,c,d){w(c.name)&&b.attr("name",++Bc);b.on("click",function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)});d.$render=function(){b[0].checked=c.value==d.$viewValue};c.$observe("value",d.$render)},checkbox:function(a,b,c,d,e,f,g,h){var k=be(h,a,"ngTrueValue",c.ngTrueValue,!0),m=be(h,a,"ngFalseValue",c.ngFalseValue,!1);b.on("click",function(a){d.$setViewValue(b[0].checked,a&&
a.type)});d.$render=function(){b[0].checked=d.$viewValue};d.$isEmpty=function(a){return!1===a};d.$formatters.push(function(a){return V(a,k)});d.$parsers.push(function(a){return a?k:m})},hidden:r,button:r,submit:r,reset:r,file:r},Cd=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(le[ga(g.type)]||le.text)(e,f,g,h[0],b,a,c,d)}}}}],fg=/^(true|false|\d+)$/,of=function(){return{restrict:"A",priority:100,compile:function(a,
b){return fg.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},Oe=["$compile",function(a){return{restrict:"AC",compile:function(b){a.$$addBindingClass(b);return function(b,c,e){a.$$addBindingInfo(c,e.ngBind);c=c[0];b.$watch(e.ngBind,function(a){c.textContent=a===d?"":a})}}}}],Qe=["$interpolate","$compile",function(a,b){return{compile:function(c){b.$$addBindingClass(c);return function(c,e,f){c=a(e.attr(f.$attr.ngBindTemplate));
b.$$addBindingInfo(e,c.expressions);e=e[0];f.$observe("ngBindTemplate",function(a){e.textContent=a===d?"":a})}}}}],Pe=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});c.$$addBindingClass(d);return function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml);b.$watch(g,function(){d.html(a.getTrustedHtml(f(b))||"")})}}}}],nf=x({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),
Re=id("",!0),Te=id("Odd",0),Se=id("Even",1),Ue=Jb({compile:function(a,b){b.$set("ngCloak",d);a.removeClass("ng-cloak")}}),Ve=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Hd={},gg={blur:!0,focus:!0};b("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Ka("ng-"+a);Hd[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=
c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};gg[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Ye=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(b,c,d,f,g){var h,k,m;b.$watch(d.ngIf,function(b){b?k||g(function(b,f){k=f;b[b.length++]=e.createComment(" end ngIf: "+d.ngIf+" ");h={clone:b};a.enter(b,c.parent(),c)}):(m&&(m.remove(),m=null),k&&(k.$destroy(),k=null),h&&(m=
gb(h.clone),a.leave(m).then(function(){m=null}),h=null))})}}}],Ze=["$templateRequest","$anchorScroll","$animate","$sce",function(a,b,c,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Da.noop,compile:function(e,f){var g=f.ngInclude||f.src,h=f.onload||"",k=f.autoscroll;return function(e,f,m,p,n){var q=0,r,s,t,w=function(){s&&(s.remove(),s=null);r&&(r.$destroy(),r=null);t&&(c.leave(t).then(function(){s=null}),s=t,t=null)};e.$watch(d.parseAsResourceUrl(g),function(d){var g=
function(){!B(k)||k&&!e.$eval(k)||b()},m=++q;d?(a(d,!0).then(function(a){if(m===q){var b=e.$new();p.template=a;a=n(b,function(a){w();c.enter(a,null,f).then(g)});r=b;t=a;r.$emit("$includeContentLoaded",d);e.$eval(h)}},function(){m===q&&(w(),e.$emit("$includeContentError",d))}),e.$emit("$includeContentRequested",d)):(w(),p.template=null)})}}}}],qf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,c,d,f){/SVG/.test(c[0].toString())?(c.empty(),a(Ab(f.template,
e).childNodes)(b,function(a){c.append(a)},{futureParentElement:c})):(c.html(f.template),a(c.contents())(b))}}}],$e=Jb({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),mf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,c,e,f){var g=c.attr(e.$attr.ngList)||", ",h="false"!==e.ngTrim,k=h?ka(g):g;f.$parsers.push(function(a){if(!w(a)){var c=[];a&&b(a.split(k),function(a){a&&c.push(h?ka(a):a)});return c}});f.$formatters.push(function(a){return U(a)?
a.join(g):d});f.$isEmpty=function(a){return!a||!a.length}}}},rc="ng-valid",ce="ng-invalid",bc="ng-pristine",Lc="ng-dirty",ee="ng-pending",Nc=new c("ngModel"),hg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,c,e,f,g,h,k,m,p,n){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=d;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;
this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=d;this.$name=n(e.name||"",!1)(a);var q=g(e.ngModel),s=q.assign,t=q,v=s,z=null,y,x=this;this.$$setOptions=function(a){if((x.$options=a)&&a.getterSetter){var b=g(e.ngModel+"()"),c=g(e.ngModel+"($$$p)");t=function(a){var c=q(a);E(c)&&(c=b(a));return c};v=function(a,b){E(q(a))?c(a,{$$$p:x.$modelValue}):s(a,x.$modelValue)}}else if(!q.assign)throw Nc("nonassign","Expression '{0}' is non-assignable. Element: {1}",
e.ngModel,fa(f));};this.$render=r;this.$isEmpty=function(a){return w(a)||""===a||null===a||a!==a};var C=f.inheritedData("$formController")||Kc,A=0;$d({ctrl:this,$element:f,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},parentForm:C,$animate:h});this.$setPristine=function(){x.$dirty=!1;x.$pristine=!0;h.removeClass(f,Lc);h.addClass(f,bc)};this.$setDirty=function(){x.$dirty=!0;x.$pristine=!1;h.removeClass(f,bc);h.addClass(f,Lc);C.$setDirty()};this.$setUntouched=function(){x.$touched=!1;
x.$untouched=!0;h.setClass(f,"ng-untouched","ng-touched")};this.$setTouched=function(){x.$touched=!0;x.$untouched=!1;h.setClass(f,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){k.cancel(z);x.$viewValue=x.$$lastCommittedViewValue;x.$render()};this.$validate=function(){if(!u(x.$modelValue)||!isNaN(x.$modelValue)){var a=x.$$rawModelValue,b=x.$valid,c=x.$modelValue,e=x.$options&&x.$options.allowInvalid;x.$$runValidators(a,x.$$lastCommittedViewValue,function(f){e||b===f||(x.$modelValue=
f?a:d,x.$modelValue!==c&&x.$$writeModelToScope())})}};this.$$runValidators=function(a,c,e){function f(){var d=!0;b(x.$validators,function(b,e){var f=b(a,c);d=d&&f;h(e,f)});return d?!0:(b(x.$asyncValidators,function(a,b){h(b,null)}),!1)}function g(){var e=[],f=!0;b(x.$asyncValidators,function(b,g){var k=b(a,c);if(!k||!E(k.then))throw Nc("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",k);h(g,d);e.push(k.then(function(){h(g,!0)},function(a){f=!1;h(g,!1)}))});
e.length?p.all(e).then(function(){k(f)},r):k(!0)}function h(a,b){m===A&&x.$setValidity(a,b)}function k(a){m===A&&e(a)}A++;var m=A;(function(){var a=x.$$parserName||"parse";if(y===d)h(a,null);else return y||(b(x.$validators,function(a,b){h(b,null)}),b(x.$asyncValidators,function(a,b){h(b,null)})),h(a,y),y;return!0})()?f()?g():k(!1):k(!1)};this.$commitViewValue=function(){var a=x.$viewValue;k.cancel(z);if(x.$$lastCommittedViewValue!==a||""===a&&x.$$hasNativeValidators)x.$$lastCommittedViewValue=a,x.$pristine&&
this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var b=x.$$lastCommittedViewValue;if(y=w(b)?d:!0)for(var c=0;c<x.$parsers.length;c++)if(b=x.$parsers[c](b),w(b)){y=!1;break}u(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=t(a));var e=x.$modelValue,f=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=b;f&&(x.$modelValue=b,x.$modelValue!==e&&x.$$writeModelToScope());x.$$runValidators(b,x.$$lastCommittedViewValue,function(a){f||(x.$modelValue=a?b:d,x.$modelValue!==
e&&x.$$writeModelToScope())})};this.$$writeModelToScope=function(){v(a,x.$modelValue);b(x.$viewChangeListeners,function(a){try{a()}catch(b){c(b)}})};this.$setViewValue=function(a,b){x.$viewValue=a;x.$options&&!x.$options.updateOnDefault||x.$$debounceViewValueCommit(b)};this.$$debounceViewValueCommit=function(b){var c=0,d=x.$options;d&&B(d.debounce)&&(d=d.debounce,u(d)?c=d:u(d[b])?c=d[b]:u(d["default"])&&(c=d["default"]));k.cancel(z);c?z=k(function(){x.$commitViewValue()},c):m.$$phase?x.$commitViewValue():
a.$apply(function(){x.$commitViewValue()})};a.$watch(function(){var b=t(a);if(b!==x.$modelValue&&(x.$modelValue===x.$modelValue||b===b)){x.$modelValue=x.$$rawModelValue=b;y=d;for(var c=x.$formatters,e=c.length,f=b;e--;)f=c[e](f);x.$viewValue!==f&&(x.$viewValue=x.$$lastCommittedViewValue=f,x.$render(),x.$$runValidators(b,f,r))}return b})}],lf=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:hg,priority:1,compile:function(b){b.addClass(bc).addClass("ng-untouched").addClass(rc);
return{pre:function(a,b,c,d){var e=d[0],f=d[1]||Kc;e.$$setOptions(d[2]&&d[2].$options);f.$addControl(e);c.$observe("name",function(a){e.$name!==a&&f.$$renameControl(e,a)});a.$on("$destroy",function(){f.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];if(f.$options&&f.$options.updateOn)c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)});c.on("blur",function(c){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],ig=/(\s+|^)default(\s+|$)/,
pf=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var c=this;this.$options=ea(a.$eval(b.ngModelOptions));this.$options.updateOn!==d?(this.$options.updateOnDefault=!1,this.$options.updateOn=ka(this.$options.updateOn.replace(ig,function(){c.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},af=Jb({terminal:!0,priority:1E3}),jg=c("ngOptions"),kg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
jf=["$compile","$parse",function(a,c){function d(a,b,e){function f(a,b,c,d,e){this.selectValue=a;this.viewValue=b;this.label=c;this.group=d;this.disabled=e}var g=a.match(kg);if(!g)throw jg("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",a,fa(b));var k=g[5]||g[7],m=g[6];a=/ as /.test(g[0])&&g[1];var p=g[9];b=c(g[2]?g[1]:k);var n=a&&c(a)||b,q=p&&c(p),r=p?function(a,b){return q(e,b)}:function(a){return Sa(a)},s=function(a,
b){return r(a,y(a,b))},t=c(g[2]||g[1]),w=c(g[3]||""),v=c(g[4]||""),x=c(g[8]),u={},y=m?function(a,b){u[m]=b;u[k]=a;return u}:function(a){u[k]=a;return u};return{trackBy:p,getTrackByValue:s,getWatchables:c(x,function(a){var b=[];a=a||[];Object.keys(a).forEach(function(c){if("$"!==c.charAt(0)){var d=y(a[c],c);c=r(a[c],d);b.push(c);if(g[2]||g[1])c=t(e,d),b.push(c);g[4]&&(d=v(e,d),b.push(d))}});return b}),getOptions:function(){var a=[],b={},c=x(e)||[],d;if(!m&&h(c))d=c;else{d=[];for(var g in c)c.hasOwnProperty(g)&&
"$"!==g.charAt(0)&&d.push(g)}g=d.length;for(var k=0;k<g;k++){var q=c===d?k:d[k],u=y(c[q],q),z=n(e,u),q=r(z,u),B=t(e,u),C=w(e,u),u=v(e,u),z=new f(q,z,B,C,u);a.push(z);b[q]=z}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[s(a)]},getViewValueFromOption:function(a){return p?Da.copy(a.viewValue):a.viewValue}}}}}var f=e.createElement("option"),g=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(c,e,h,k){function m(a,b){a.element=
b;b.disabled=a.disabled;a.value!==b.value&&(b.value=a.selectValue);a.label!==b.label&&(b.label=a.label,b.textContent=a.label)}function p(a,b,c,d){b&&ga(b.nodeName)===c?c=b:(c=d.cloneNode(!1),b?a.insertBefore(c,b):a.appendChild(c));return c}function n(a){for(var b;a;)b=a.nextSibling,Bb(a),a=b}function q(a){var b=w&&w[0],c=y&&y[0];if(b||c)for(;a&&(a===b||a===c);)a=a.nextSibling;return a}function r(){var a=B&&t.readValue();B=C.getOptions();var b={},c=e[0].firstChild;z&&e.prepend(w);c=q(c);B.items.forEach(function(a){var d,
h;a.group?(d=b[a.group],d||(d=p(e[0],c,"optgroup",g),c=d.nextSibling,d.label=a.group,d=b[a.group]={groupElement:d,currentOptionElement:d.firstChild}),h=p(d.groupElement,d.currentOptionElement,"option",f),m(a,h),d.currentOptionElement=h.nextSibling):(h=p(e[0],c,"option",f),m(a,h),c=h.nextSibling)});Object.keys(b).forEach(function(a){n(b[a].currentOptionElement)});n(c);s.$render();if(!s.$isEmpty(a)){var d=t.readValue();(C.trackBy?V(a,d):a===d)||(s.$setViewValue(d),s.$render())}}var s=k[1];if(s){var t=
k[0];k=h.multiple;for(var w,v=0,x=e.children(),u=x.length;v<u;v++)if(""===x[v].value){w=x.eq(v);break}var z=!!w,y=O(f.cloneNode(!1));y.val("?");var B,C=d(h.ngOptions,e,c);k?(s.$isEmpty=function(a){return!a||0===a.length},t.writeValue=function(a){B.items.forEach(function(a){a.element.selected=!1});a&&a.forEach(function(a){(a=B.getOptionFromViewValue(a))&&!a.disabled&&(a.element.selected=!0)})},t.readValue=function(){var a=e.val()||[],c=[];b(a,function(a){a=B.selectValueMap[a];a.disabled||c.push(B.getViewValueFromOption(a))});
return c},C.trackBy&&c.$watchCollection(function(){if(U(s.$viewValue))return s.$viewValue.map(function(a){return C.getTrackByValue(a)})},function(){s.$render()})):(t.writeValue=function(a){var b=B.getOptionFromViewValue(a);b&&!b.disabled?e[0].value!==b.selectValue&&(y.remove(),z||w.remove(),e[0].value=b.selectValue,b.element.selected=!0,b.element.setAttribute("selected","selected")):null===a||z?(y.remove(),z||e.prepend(w),e.val(""),w.prop("selected",!0),w.attr("selected",!0)):(z||w.remove(),e.prepend(y),
e.val("?"),y.prop("selected",!0),y.attr("selected",!0))},t.readValue=function(){var a=B.selectValueMap[e.val()];return a&&!a.disabled?(z||w.remove(),y.remove(),B.getViewValueFromOption(a)):null},C.trackBy&&c.$watch(function(){return C.getTrackByValue(s.$viewValue)},function(){s.$render()}));z?(w.remove(),a(w)(c),w.removeClass("ng-scope")):w=O(f.cloneNode(!1));r();c.$watchCollection(C.getWatchables,r)}}}}],bf=["$locale","$interpolate","$log",function(a,c,d){var e=/{}/g,f=/^when(Minus)?(.+)$/;return{link:function(g,
h,k){function m(a){h.text(a||"")}var p=k.count,n=k.$attr.when&&h.attr(k.$attr.when),q=k.offset||0,s=g.$eval(n)||{},t={},v=c.startSymbol(),x=c.endSymbol(),y=v+p+"-"+q+x,z=Da.noop,B;b(k,function(a,b){var c=f.exec(b);c&&(c=(c[1]?"-":"")+ga(c[2]),s[c]=h.attr(k.$attr[b]))});b(s,function(a,b){t[b]=c(a.replace(e,y))});g.$watch(p,function(b){var c=parseFloat(b),e=isNaN(c);e||c in s||(c=a.pluralCat(c-q));c===B||e&&u(B)&&isNaN(B)||(z(),e=t[c],w(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+
n),z=r,m()):z=g.$watch(e,m),B=c)})}}}],cf=["$parse","$animate",function(a,f){var g=c("ngRepeat"),k=function(a,b,c,d,e,f,g){a[c]=d;e&&(a[e]=f);a.$index=b;a.$first=0===b;a.$last=b===g-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(b&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(c,m){var p=m.ngRepeat,n=e.createComment(" end ngRepeat: "+p+" "),q=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
if(!q)throw g("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var r=q[1],s=q[2],t=q[3],w=q[4],q=r.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!q)throw g("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",r);var v=q[3]||q[1],x=q[2];if(t&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(t)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(t)))throw g("badident",
"alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",t);var u,z,y,B,C={$id:Sa};w?u=a(w):(y=function(a,b){return Sa(b)},B=function(a){return a});return function(a,c,e,m,q){u&&(z=function(b,c,d){x&&(C[x]=b);C[v]=c;C.$index=d;return u(a,C)});var r=ia();a.$watchCollection(s,function(e){var m,s,w=c[0],u,C=ia(),A,D,I,J,E,G,F;t&&(a[t]=e);if(h(e))E=e,s=z||y;else for(F in s=z||B,E=[],e)e.hasOwnProperty(F)&&"$"!==F.charAt(0)&&E.push(F);A=E.length;F=Array(A);for(m=0;m<A;m++)if(D=
e===E?m:E[m],I=e[D],J=s(D,I,m),r[J])G=r[J],delete r[J],C[J]=G,F[m]=G;else{if(C[J])throw b(F,function(a){a&&a.scope&&(r[a.id]=a)}),g("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,J,I);F[m]={id:J,scope:d,clone:d};C[J]=!0}for(u in r){G=r[u];J=gb(G.clone);f.leave(J);if(J[0].parentNode)for(m=0,s=J.length;m<s;m++)J[m].$$NG_REMOVED=!0;G.scope.$destroy()}for(m=0;m<A;m++)if(D=e===E?m:E[m],I=e[D],
G=F[m],G.scope){u=w;do u=u.nextSibling;while(u&&u.$$NG_REMOVED);G.clone[0]!=u&&f.move(gb(G.clone),null,O(w));w=G.clone[G.clone.length-1];k(G.scope,m,v,I,x,D,A)}else q(function(a,b){G.scope=b;var c=n.cloneNode(!1);a[a.length++]=c;f.enter(a,null,O(w));w=c;G.clone=a;C[G.id]=G;k(G.scope,m,v,I,x,D,A)});r=C})}}}}],df=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],
Xe=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ef=Jb(function(a,c,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&b(d,function(a,b){c.css(b,"")});a&&c.css(a)},!0)}),ff=["$animate",function(a){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,f,g){var h=[],k=[],m=[],p=[],n=function(a,b){return function(){a.splice(b,
1)}};c.$watch(f.ngSwitch||f.on,function(c){var d,f;d=0;for(f=m.length;d<f;++d)a.cancel(m[d]);d=m.length=0;for(f=p.length;d<f;++d){var q=gb(k[d].clone);p[d].$destroy();(m[d]=a.leave(q)).then(n(m,d))}k.length=0;p.length=0;(h=g.cases["!"+c]||g.cases["?"])&&b(h,function(b){b.transclude(function(c,d){p.push(d);var f=b.element;c[c.length++]=e.createComment(" end ngSwitchWhen: ");k.push({clone:c});a.enter(c,f.parent(),f)})})})}}}],gf=Jb({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,
link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[];d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),hf=Jb({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[];d.cases["?"].push({transclude:e,element:b})}}),kf=Jb({restrict:"EAC",link:function(a,b,d,e,f){if(!f)throw c("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",
fa(b));f(function(a){b.empty();b.append(a)})}}),Ke=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){"text/ng-template"==c.type&&a.put(c.id,b[0].text)}}}],lg={$setViewValue:r,$render:r},mg=["$element","$scope","$attrs",function(a,b,c){var f=this,g=new Ya;f.ngModelCtrl=lg;f.unknownOption=O(e.createElement("option"));f.renderUnknownOption=function(b){b="? "+Sa(b)+" ?";f.unknownOption.val(b);a.prepend(f.unknownOption);a.val(b)};b.$on("$destroy",function(){f.renderUnknownOption=
r});f.removeUnknownOption=function(){f.unknownOption.parent()&&f.unknownOption.remove()};f.readValue=function(){f.removeUnknownOption();return a.val()};f.writeValue=function(b){f.hasOption(b)?(f.removeUnknownOption(),a.val(b),""===b&&f.emptyOption.prop("selected",!0)):null==b&&f.emptyOption?(f.removeUnknownOption(),a.val("")):f.renderUnknownOption(b)};f.addOption=function(a,b){Ma(a,'"option value"');""===a&&(f.emptyOption=b);var c=g.get(a)||0;g.put(a,c+1)};f.removeOption=function(a){var b=g.get(a);
b&&(1===b?(g.remove(a),""===a&&(f.emptyOption=d)):g.put(a,b-1))};f.hasOption=function(a){return!!g.get(a)}}],Le=function(){return{restrict:"E",require:["select","?ngModel"],controller:mg,link:function(a,c,d,e){var f=e[1];if(f){var g=e[0];g.ngModelCtrl=f;f.$render=function(){g.writeValue(f.$viewValue)};c.on("change",function(){a.$apply(function(){f.$setViewValue(g.readValue())})});if(d.multiple){g.readValue=function(){var a=[];b(c.find("option"),function(b){b.selected&&a.push(b.value)});return a};
g.writeValue=function(a){var d=new Ya(a);b(c.find("option"),function(a){a.selected=B(d.get(a.value))})};var h,k=NaN;a.$watch(function(){k!==f.$viewValue||V(h,f.$viewValue)||(h=aa(f.$viewValue),f.$render());k=f.$viewValue});f.$isEmpty=function(a){return!a||0===a.length}}}}}},Ne=["$interpolate",function(a){function b(a){a[0].hasAttribute("selected")&&(a[0].selected=!0)}return{restrict:"E",priority:100,compile:function(c,d){if(w(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,
c,d){var f=c.parent(),g=f.data("$selectController")||f.parent().data("$selectController");g&&g.ngModelCtrl&&(e?a.$watch(e,function(a,e){d.$set("value",a);e!==a&&g.removeOption(e);g.addOption(a,c);g.ngModelCtrl.$render();b(c)}):(g.addOption(d.value,c),g.ngModelCtrl.$render(),b(c)),c.on("$destroy",function(){g.removeOption(d.value);g.ngModelCtrl.$render()}))}}}}],Me=x({restrict:"E",terminal:!1}),Ed=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=
function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},Dd=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,e,f){if(f){var g,h=e.ngPattern||e.pattern;e.$observe("pattern",function(a){D(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw c("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",h,a,fa(b));g=a||d;f.$validate()});f.$validators.pattern=function(a){return f.$isEmpty(a)||w(g)||g.test(a)}}}}},
Gd=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){a=t(a);e=isNaN(a)?-1:a;d.$validate()});d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(b)||b.length<=e}}}}},Fd=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=t(a)||0;d.$validate()});d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};a.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):
(gc(),Pb(Da),O(e).ready(function(){dc(e,wb)}))})(window,document);!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
(function(a,e,d){function c(a,b,c){var f=c.baseHref(),k=a[0];return function(a,c,g){var h,t;g=g||{};t=g.expires;h=e.isDefined(g.path)?g.path:f;c===d&&(t="Thu, 01 Jan 1970 00:00:00 GMT",c="");e.isString(t)&&(t=new Date(t));c=encodeURIComponent(a)+"="+encodeURIComponent(c);c=c+(h?";path="+h:"")+(g.domain?";domain="+g.domain:"");c+=t?";expires="+t.toUTCString():"";c+=g.secure?";secure":"";g=c.length+1;4096<g&&b.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+g+" > 4096 bytes)!");
k.cookie=c}}e.module("ngCookies",["ng"]).provider("$cookies",[function(){var a=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(b,c){return{get:function(a){return b()[a]},getObject:function(a){return(a=this.get(a))?e.fromJson(a):a},getAll:function(){return b()},put:function(b,d,p){c(b,d,p?e.extend({},a,p):a)},putObject:function(a,b,c){this.put(a,e.toJson(b),c)},remove:function(b,k){c(b,d,k?e.extend({},a,k):a)}}}]}]);e.module("ngCookies").factory("$cookieStore",["$cookies",function(a){return{get:function(b){return a.getObject(b)},
put:function(b,c){a.putObject(b,c)},remove:function(b){a.remove(b)}}}]);c.$inject=["$document","$log","$browser"];e.module("ngCookies").provider("$$cookieWriter",function(){this.$get=c})})(window,window.angular);
(function(a,e,d){function c(a){var b=[];k(b,e.noop).chars(a);return b.join("")}function h(a,b){var c={},d=a.split(","),f;for(f=0;f<d.length;f++)c[b?e.lowercase(d[f]):d[f]]=!0;return c}function b(a,b){function c(a,f,h,m){f=e.lowercase(f);if(D[f])for(;k.last()&&u[k.last()];)d("",k.last());I[f]&&k.last()==f&&d("",f);(m=C[f]||!!m)||k.push(f);var p={};h.replace(s,function(a,b,c,d,e){p[b]=g(c||d||e||"")});b.start&&b.start(f,p,m)}function d(a,c){var f=0,g;if(c=e.lowercase(c))for(f=k.length-1;0<=f&&k[f]!=
c;f--);if(0<=f){for(g=k.length-1;g>=f;g--)b.end&&b.end(k[g]);k.length=f}}"string"!==typeof a&&(a=null===a||"undefined"===typeof a?"":""+a);var f,h,k=[],w=a,y;for(k.last=function(){return k[k.length-1]};a;){y="";h=!0;if(k.last()&&A[k.last()])a=a.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+k.last()+"[^>]*>","i"),function(a,c){c=c.replace(r,"$1").replace(x,"$1");b.chars&&b.chars(g(c));return""}),d("",k.last());else{if(0===a.indexOf("\x3c!--"))f=a.indexOf("--",4),0<=f&&a.lastIndexOf("--\x3e",f)===f&&
(b.comment&&b.comment(a.substring(4,f)),a=a.substring(f+3),h=!1);else if(z.test(a)){if(f=a.match(z))a=a.replace(f[0],""),h=!1}else if(v.test(a)){if(f=a.match(m))a=a.substring(f[0].length),f[0].replace(m,d),h=!1}else t.test(a)&&((f=a.match(q))?(f[4]&&(a=a.substring(f[0].length),f[0].replace(q,c)),h=!1):(y+="<",a=a.substring(1)));h&&(f=a.indexOf("<"),y+=0>f?a:a.substring(0,f),a=0>f?"":a.substring(f),b.chars&&b.chars(g(y)))}if(a==w)throw p("badparse","The sanitizer was unable to parse the following block of html: {0}",
a);w=a}d()}function g(a){if(!a)return"";y.innerHTML=a.replace(/</g,"&lt;");return y.textContent}function f(a){return a.replace(/&/g,"&amp;").replace(w,function(a){var b=a.charCodeAt(0);a=a.charCodeAt(1);return"&#"+(1024*(b-55296)+(a-56320)+65536)+";"}).replace(B,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function k(a,b){var c=!1,d=e.bind(a,a.push);return{start:function(a,g,h){a=e.lowercase(a);!c&&A[a]&&(c=a);c||!0!==E[a]||(d("<"),d(a),e.forEach(g,function(c,
g){var h=e.lowercase(g),k="img"===a&&"src"===h||"background"===h;!0!==M[h]||!0===K[h]&&!b(c,k)||(d(" "),d(g),d('="'),d(f(c)),d('"'))}),d(h?"/>":">"))},end:function(a){a=e.lowercase(a);c||!0!==E[a]||(d("</"),d(a),d(">"));a==c&&(c=!1)},chars:function(a){c||d(f(a))}}}var p=e.$$minErr("$sanitize"),q=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,m=/^<\/\s*([\w:-]+)[^>]*>/,s=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,
t=/^</,v=/^<\//,r=/\x3c!--(.*?)--\x3e/g,z=/<!DOCTYPE([^>]*?)>/i,x=/<!\[CDATA\[(.*?)]]\x3e/g,w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,B=/([^\#-~| |!])/g,C=h("area,br,col,hr,img,wbr");a=h("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr");d=h("rp,rt");var I=e.extend({},d,a),D=e.extend({},a,h("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),u=e.extend({},d,h("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));
a=h("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use");var A=h("script,style"),E=e.extend({},C,D,u,I,a),K=h("background,cite,href,longdesc,src,usemap,xlink:href");a=h("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width");
d=h("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",
!0);var M=e.extend({},K,d,a),y=document.createElement("pre");e.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(a){return function(c){var d=[];b(c,k(d,function(b,c){return!/^unsafe/.test(a(b,c))}));return d.join("")}}]});e.module("ngSanitize").filter("linky",["$sanitize",function(a){var b=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,d=/^mailto:/i;return function(f,g){function h(a){a&&q.push(c(a))}function k(a,
b){q.push("<a ");e.isDefined(g)&&q.push('target="',g,'" ');q.push('href="',a.replace(/"/g,"&quot;"),'">');h(b);q.push("</a>")}if(!f)return f;for(var m,p=f,q=[],r,s;m=p.match(b);)r=m[0],m[2]||m[4]||(r=(m[3]?"http://":"mailto:")+r),s=m.index,h(p.substr(0,s)),k(r,m[0].replace(d,"")),p=p.substring(s+m[0].length);h(p);return a(q.join(""))}}])})(window,window.angular);
$(function(){var a="AREA BASE BR COL HR KEYGEN LINK META PARAM SOURCE TRACK WBR".split(" ");$.fn.compile_angular=function(){var a=$(this),b=angular.element(document.body).injector();b&&b.invoke(["$compile",function(b){var c=angular.element(a).scope();c&&(b(a)(c),c.$apply())}]);return this};var e=function(c){c.length&&$(c).each(function(){if(this.tagName&&-1===a.indexOf(this.tagName)){var b=$(this);b.hasClass("ng-scope")||b.compile_angular()}})},d=window.MutationObserver||window.WebKitMutationObserver||
window.MozMutationObserver,c=function(){$(document.body).on("DOMNodeInserted",function(a){e([a.target])})};d?function(){(new d(function(a){for(var b=0;b<a.length;b+=1)e(a[b].addedNodes)})).observe(document.body,{childList:!0,subtree:!0})}():c()});angular.module("genius",["ngSanitize","ngCookies"]).config(["$httpProvider",function(a){a.interceptors.push("OnsiteInterceptor");a.interceptors.push("RetryFailureInterceptor")}]);window.app=window.app||{};
$.extend(window.app,{set_up_tooltip_lyric_editor:$.noop,set_up_vidyard_id_container:$.noop,update_editorial_state:$.noop,set_desired_location_cookie:function(a){var e;try{e=window.top.location.href,e.length}catch(d){e=document.referrer,a&&a.fallback&&(e=a.fallback)}$.cookie("desired_location",e,{path:"/"})}});
angular.module("genius").run(["$templateCache",function(a){a.put("header_menu_item.html",'<li class="nav_menu-item" click-outside="opened = false" ng-if="!url">\n  <a ng-click="opened = !opened" class="nav_menu-link nav_menu-link--has_dropdown" ng-class="{pressed: opened}">{{ name }}</a>\n  <div ng-transclude ng-show="opened"></div>\n</li>\n\n<li class="nav_menu-item" ng-if="url">\n  <a class="nav_menu-link" ng-href="{{ url }}">{{ name }}</a>\n</li>\n');a.put("notification_inbox.html",'<a href="#"\n   id="{{ inbox_name }}_icon"\n   class="header-inbox_icon header-inbox_icon--{{ icon_modifier }} prevent_default"\n   ng-class="{active:inbox_tooltip_open,has_unread_items:unread_count && unread_count > 0}">\n  <span id="unread_{{ inbox_name }}_items_count" class="inbox_icon-inbox_count">{{ unread_count_for_display }}</span>\n</a>\n');
a.put("search_form.html",'<form action="{{ path }}" method="get" class="global_search global_search--{{ style }}" ng-class="{\'global_search--focused\':focused}" click-outside="unfocus()">\n  <kb shortcut="/" action="focus()"></kb>\n  <input ng-model="search_text" ng-disabled="submitting" name="q" type="text" class="quick_search autocomplete search quick_search--{{ style }}" placeholder="Search lyrics &amp; more" ng-class="{\'quick_search--focused\':focused}" quick-search />\n  <div class="global_search-submit_button" ng-class="{\'global_search-submit_button--focused\':focused}" ng-click="submit_form()">\n    <genius-svg src="magnifying_glass.svg" class="global_search-magnifying_glass"></genius-svg>\n  </div>\n</form>\n')}]);
angular.module("genius").controller("CustomAppNotificationCtrl",["$scope","CustomAppNotificationService",function(a,e){a.send_preview_notification=function(){e.send_preview_notification(a.notification).then(function(){alert("sent a preview notification to your devices, take a look")})}}]);
angular.module("genius").controller("DevCtrl",["$window","$scope","$http","AppConfig",function(a,e,d,c){e.search={query:""};e.saving=!1;e.build_scenario=function(){if(!e.saving){e.saving=!0;var b=e.current_scenario.traits.filter(function(a){return a.enabled}).map(function(a){return a.name});d.post(c.api_root_url+"/scenarios?id="+e.current_scenario.id,{scenario:{traits:b}}).then(function(b){a.location.href=b.data.url;e.saving=!1})}};e.configure_scenario=function(a){e.current_scenario=a};e.clear_scenario=
function(){e.current_scenario=void 0};var h=_.once(function(){d.get(c.api_root_url+"/scenarios").then(function(a){e.results=a.data.scenarios})});e.open_search=function(){h();e.open=!0};e.close_search=function(){e.open=!1}}]);angular.module("genius").controller("HeaderCtrl",["$scope",function(a){a.toggle_menu=function(){a.menu_open=!a.menu_open};a.close_menu=function(){a.menu_open=!1}}]);
angular.module("genius").controller("HomepageCtrl",["$scope","$interval",function(a,e){var d=0;e(function(){a.total_iq+=d;d=0},1E3);a.increment_iq=function(a){d+=a};a.details_expanded=!1;a.expand_details=function(){a.details_expanded=!0}}]);
angular.module("genius").controller("SongCtrl",["$scope","$window","$q","$location","Preloader","SongService","ReferentService","Tracking","Session","$timeout",function(a,e,d,c,h,b,g,f,k,p){f.track("Song Page Load");var q=new h(function(a){return g.bulk_load(a)}),m=[],s={};a.reference_elements={};a.register_fragment=function(b,c){m.push(b.id);s[b.id]=s[b.id]||b;a.reference_elements[b.id]=a.reference_elements[b.id]||c;return s[b.id]};a.update_reference_element=function(b,c){a.reference_elements[b]=
c};a.$evalAsync(function(){b.count_view(a.song.id);a.preloaded_referent&&q.insert(a.preloaded_referent.id,a.preloaded_referent);q.bulk_load(m.slice(0,5))});a.featured_media=function(){return _(a.song.media).detect(function(a){return"youtube"===a.provider})};a.open_song_description_pane=function(){f.track("Open Song Description Pane");a.current_referent=a.song.description_annotation};a.open_metadata_pane=function(){f.track("Open Metadata Pane");a.open_metadata=!0};a.close_metadata_pane=function(){a.open_metadata=
!1};a.toggle_ellipsis_menu=function(){a.showing_ellipsis_menu=!a.showing_ellipsis_menu};a.dismiss_video_player=function(){f.track("Dismiss Video Player");a.video_player_dismissed=!0};a.toggle_audio_player=function(){a.audio_player_playing=!a.audio_player_playing};a.next_track=function(){var b=!1;return _.detect(a.primary_album_tracks,function(c){if(b)return!0;b=c.song.id===a.song.id})};var t=function(a){var b=m.indexOf(a);a=_(m).sortBy(function(a,c){return Math.abs(c-b)}).value();a=q.filter_unloaded(a).slice(0,
10);q.bulk_load(a)},v=function(b){f.track("Open Annotation",{annotation_id:b.id});a.highlighted_fragment_id=b.id;a.current_referent=b;t(b.id);q.load(b.id).then(function(c){a.current_referent&&c.id===a.current_referent.id&&(c.fragment=b.fragment,a.current_referent=c)})},r=!1;a.clear_current_referent=function(){delete a.highlighted_fragment_id;delete a.current_referent;c.url(a.song.path);c.replace()};var z=function(a){var b=d.defer();$(window).on("load",function(){var c=a.offset().top+a.height()/2-
$(window).height()/2;$("body,html").animate({scrollTop:c},200).promise().then(b.resolve)});return b.promise};a.bop={};var x=a.$watch("bop.is_playing",function(a){a&&(f.track("Bop play"),x())});a.open_referent=function(b){a.highlighted_fragment_id=b;p(function(){c.url("/"+b);r?c.replace():r=!0})};a.can_perform=function(b){return k.has_permission(b,a.song)};a.perform=function(c){b.perform_action(a.song.id,c).then(function(b){a.song=b})};a.actions="pin_to_homepage_hot_songs unpin_from_homepage_hot_songs pin_to_hot_songs unpin_from_hot_songs allow_in_hot_songs exclude_from_hot_songs".split(" ");
a.$on("$locationChangeSuccess",function(){var b=c.url();if(b===a.song.path)delete a.current_referent;else{var d=Number(c.search().referent_id);d?(f.set_annotation_opened_from_permalink(d),z(a.reference_elements[d]).then(function(){c.url("/"+d);c.replace()})):(b=Number(b.slice(1)),v(s[b]))}});a.set_current_hover=function(b){a.hover_referent_id=b}}]);
angular.module("genius").controller("SpotifyAnnotationEditCtrl",["$scope",function(a){a.set_timestamp_to_now=function(){a.annotation.timestamp_in_ms=a.time};a.annotation_duration=function(){var e=a.annotations.indexOf(a.annotation),e=a.annotations[e+1];return(e?e.timestamp_in_ms:a.duration)-a.annotation.timestamp_in_ms}}]);
angular.module("genius").controller("SpotifySimulatorCtrl",["$scope",function(a){a.annotation_percentage=function(){if(!a.current_annotation)return 0;var e=a.annotations[a.current_annotation_index+1],e=e?e.timestamp_in_ms:a.duration;return(e-a.time)/(e-a.current_annotation.timestamp_in_ms)}}]);
angular.module("genius").controller("SpotifySongEditCtrl",["$scope","$debounce","SpotifyAnnotationService","orderByFilter",function(a,e,d,c){a.time=0;a.is_playing=!1;a.song_id=$("[data-song-id]").attr("data-song-id");a.toggle_play_pause=function(){(a.is_playing?Bop.pause:Bop.play)()};a.toggle_fullscreen=function(){a.apple=!1;a.fullscreen=!a.fullscreen};a.toggle_apple=function(){a.apple=!a.apple};a.is_spotify_intro_card_with_album_image=function(){return"intro"==a.current_annotation.content_type&&
a.album&&a.album.images.length&&!a.apple};a.remove_annotation=function(b){b=a.annotations.indexOf(b);a.annotations.splice(b,1)};a.seek_to_percentage=function(a){Bop.seek(a)};a.seek_to=function(b){a.seek_to_percentage(b/a.duration)};a.add_annotation=function(){a.annotations.push({content_type:"iq",timestamp_in_ms:a.time})};d.load_song(a.song_id).success(function(b){a.spotify_song=b.spotify_song;a.album=a.spotify_song.metadata.album;a.duration=a.spotify_song.metadata.duration_ms;a.annotations=b.spotify_annotations;
_.any(a.annotations,{content_type:"credits"})||a.annotations.push({content_type:"credits",content:"Check out the full lyrics and annotations on Genius for contributors, sources, and even more knowledge.",timestamp_in_ms:a.duration-3E3});g()});var h=!1,b=function(){a.saving_disabled?h=!0:(a.saving_disabled=!0,d.save_song(a.song_id,a.spotify_song,a.annotations).success(function(b){a.spotify_song=b.spotify_song;a.save_error=void 0}).error(function(b){a.save_error=b.message||"Failed to save";a.conflicted=
"conflict"===b.error}).finally(function(){a.saving_disabled=!1;h&&(h=!1,b())}))};a.is_spotify=function(){return"spotify"===a.service||"spotify-seek"===a.service};var g=function(){var d={content_type:"intro",timestamp_in_ms:0};a.$watchGroup(["time","saving_disabled"],function(){var b=a.annotations.filter(function(b){return b.timestamp_in_ms<=a.time});a.current_annotation_index=b.length-1;a.current_annotation=a.annotations[a.current_annotation_index]||d});var g=e(b,1E3);a.$watch("annotations",function(){a.annotations=
c(a.annotations,["timestamp_in_ms","id"])},!0);a.$watchGroup(["annotations","spotify_song.note","spotify_song.finalized"],function(){g()},!0)}}]);angular.module("genius").directive("additionalArtists",function(){return{templateUrl:"additional_artists.html",restrict:"E",scope:{artists:"=",label:"@"},link:function(a){a.preview_limit=3;a.more_to_show=function(){return a.artists.length>a.preview_limit};a.show_more=function(){delete a.preview_limit}}}});
angular.module("genius").directive("androidBanner",["Bowser","AppConfig",function(a,e){return{restrict:"E",scope:!0,templateUrl:"android_banner.html",link:function(d){d.is_android=a.android;d.play_store_url=e.play_store_url}}}]);
angular.module("genius").directive("annotation",["Session","AnnotationService",function(a,e){return{restrict:"E",templateUrl:"annotation.html",scope:{annotation:"=object",isDescription:"=",onDarkBackground:"="},link:function(d){d.can_edit=a.has_permission("edit",d.annotation);d.toggle_voters=function(){d.showing_voters=!d.showing_voters};d.$on("images_loaded",function(){d.loaded=!0;d.$emit("annotation_loaded")});d.toggle_contributors=function(){d.showing_contributors=!d.showing_contributors};d.toggle_ellipsis_menu=
function(){d.showing_ellipsis_menu=!d.showing_ellipsis_menu};d.start_editing=function(){d.loading_editing=!0;e.load_annotation(d.annotation.id,{format:"markdown"}).then(function(a){d.annotation.editable_markdown=a.body.markdown}).finally(function(){d.loading_editing=!1})};d.cancel_editing=function(){delete d.annotation.editable_markdown};d.finish_editing=function(){d.saving||(d.saving=!0,e.save_annotation(d.annotation.id,{annotation:{body:{markdown:d.annotation.editable_markdown}}}).then(function(a){d.annotation.body=
a.body;delete d.annotation.editable_markdown}).finally(function(){d.saving=!1}))}}}}]);
angular.module("genius").directive("annotationFragment",function(){return{restrict:"A",replace:!0,transclude:!0,templateUrl:"annotation_fragment.html",scope:!0,link:function(a,e,d){a.fragment_id=a.$eval(d.annotationFragment);a.classification=d.classification;a.image=a.$eval(d.image);d=a.register_fragment({id:a.fragment_id,stub:!0,fragments:[],is_image:a.image},e);d.fragments.push(e.text());d.fragment=_.uniq(d.fragments).join("\n");a.open=function(){a.update_reference_element(a.fragment_id,e);a.open_referent(a.fragment_id)}}}});
angular.module("genius").directive("annotationPlaceholder",function(){return{restrict:"E",templateUrl:"annotation_placeholder.html",scope:{showCondition:"=",onDarkBackground:"="}}});
angular.module("genius").directive("annotationSidebar",function(){return{restrict:"E",transclude:!0,replace:!0,templateUrl:"annotation_sidebar.html",link:function(a,e){var d=function(){if(a.current_referent&&0!==e.height()){var c=a.reference_elements[a.current_referent.id],d,b=e.height();d=c.offset().top;var g=d+b,f=d-c.position().top,k=f+c.offsetParent().height(),p=$(window).scrollTop(),q=p+$(window).height(),f=Math.max(f,p)+16,k=Math.min(k,q)-32,b=-b/2,g=g+b-k;0<g&&(b-=g);d=f-(d+b);0<d&&(b+=d);
d=b;a.margin=c.position().top+d;a.arrow_margin=c.height()/2-d-10;a.arrow_margin=Math.max(a.arrow_margin,10);a.arrow_margin=Math.min(a.arrow_margin,e.height()-10)}};a.$watch("current_referent",d);a.$on("annotation_loaded",d)}}});angular.module("genius").directive("artistBadge",function(){return{restrict:"E",templateUrl:"artist_badge.html",scope:{artist:"=object",type:"@"}}});
angular.module("genius").directive("clickOutside",["$document",function(a){return{restrict:"A",link:function(e,d,c){var h=function(a){document.body.contains(a.target)&&(d[0].contains(a.target)||e.$apply(function(){e.$eval(c.clickOutside)}))};a.on("click",h);e.$on("$destroy",function(){a.off("click",h)})}}}]);
angular.module("genius").directive("clickToLoad",function(){return{scope:{message:"@"},restrict:"E",transclude:!0,templateUrl:"click_to_load.html",link:function(a){a.load=function(){a.loading=!0}}}});angular.module("genius").directive("clippedBackgroundImage",function(){return{link:function(a,e,d){a.$watch(d.clippedBackgroundImage,function(a){a&&e.addClass("clipped_background_image").css("background-image","url("+a+")")})}}});
angular.module("genius").directive("comment",["$sce",function(a){return{restrict:"E",templateUrl:"comment.html",scope:{comment:"=object"},link:function(e){e.trusted_body=a.trustAsHtml(e.comment.body.html);e.toggle_voters=function(){e.showing_voters=!e.showing_voters}}}}]);
angular.module("genius").directive("comments",["CommentService","Session",function(a,e){return{scope:{type:"@",commentable:"=",onDarkBackground:"="},restrict:"E",templateUrl:"comments.html",link:function(d){d.current_user=e.current_user;d.can_create_comment=e.has_permission("create_comment",d.commentable);var c=0;d.comments=[];d.is_loading=!1;d.load_next_page=function(){!d.is_loading&&d.commentable.comment_count&&(d.is_loading=!0,a.load(d.type,d.commentable.id,{text_format:"html",page:c+1,per_page:10}).then(function(a){d.comments=
d.comments.concat(a.comments);d.is_loading=!1;d.has_more_pages=d.comments.length<a.total_count;c+=1}))};d.toggle_comments=function(){d.showing_comments?d.showing_comments=!1:(d.showing_comments=!0,0===c&&d.load_next_page())};d.save_comment=function(){d.saving=!0;d.showing_comments=!0;0===c&&d.load_next_page();a.create(d.type,d.commentable.id,{comment:d.new_comment}).then(function(a){a._new=!0;d.comments.unshift(a);d.commentable.comment_count+=1;delete d.new_comment}).finally(function(){d.saving=!1})}}}}]);
angular.module("genius").directive("commentsPlaceholder",function(){return{restrict:"E",templateUrl:"comments_placeholder.html",scope:{showCondition:"="},link:function(a){a.placeholder_user={name:"username",iq:"1738",avatar:{thumb:{url:""}}}}}});angular.module("genius").directive("confirm",["$window",function(a){return{priority:-1,restrict:"A",scope:{message:"@confirm"},link:function(e,d){d.on("click",function(c){a.confirm(e.message)||(c.stopImmediatePropagation(),c.preventDefault())})}}}]);
angular.module("genius").directive("copyToClipboard",["ZeroClipboard","$timeout",function(a,e){var d=function(a,d){var b=a.text();a.text(d);e(function(){a.text(b)},750)};return{restrict:"A",link:function(c,e,b){var g=new a(e[0]);g.on("ready",function(){g.on("copy",function(a){a.clipboardData.setData("text/plain",c.$eval(b.copyToClipboard))});g.on("aftercopy",function(){b.textToShowAfterCopy&&d(e,b.textToShowAfterCopy)})});g.on("error",function(){e.remove();g.destroy()})}}}]);
angular.module("genius").directive("delimitedBy",function(){return{template:"<span>{{ delimiter() }}<ng-transclude></ng-transclude></span>",transclude:"element",replace:!0,link:function(a,e,d){a.delimiter=function(){if(!a.$first)return a.$last?a.$eval(d.lastDelimiter):a.$eval(d.delimitedBy)}}}});
angular.module("genius").directive("displayUnlessCookie",["$cookies",function(a){return{transclude:!0,scope:{name:"@",expiresInMs:"="},template:'<ng-transclude ng-if="!hidden"></ng-transclude>',link:function(e){e.hidden=a.get(e.name)},controller:["$scope",function(e){this.set_cookie_and_close=function(){var d=new Date;d.setTime(d.getTime()+e.expiresInMs);a.put(e.name,1,{expires:d,path:"/"});e.hidden=!0}}]}}]);
angular.module("genius").directive("editableMarkdown",["$sce",function(a){return{restrict:"E",replace:!0,templateUrl:"editable_markdown.html",scope:{html:"=",markdown:"="},link:function(e,d){e.editable=e;e.resize_textarea=function(){e.$evalAsync(function(){var a=d.find("textarea");a.autosize({callback:function(){delete e.frozen_height;a.focus()}})})};e.$watch("html",function(c){e.trusted_html=a.trustAsHtml(c)});e.$watch("!!markdown",function(a){a&&(e.frozen_height=d.height());e.editing=a})}}}]);
angular.module("genius").directive("embedly",function(){var a=/^https?:\/\//i,e=function(b){return b.find("a").filter(function(){return a.test($.trim($(this).text()))})},d=_.template('<blockquote class="twitter-tweet"><a href="<%- tweet_url %>"></a></blockquote>'),c=_.template("<div class='embedly_preview u-vertical_margins'><div class='gray_container'><% if (embed.thumbnail_url) { %><div class='embedly_preview-thumb'><img src='<%- embed.thumbnail_url %>' style='<%- embed.style %>'/></div><% } %><div class='embedly_preview-text'><a href='<%- embed.original_url %>' class='embedly_preview-title'><%- embed.title %></a><% if (embed.provider_name) { %><a href='<%- embed.provider_url %>' class='embedly_preview-provider'><%- embed.provider_name %></a><% } %><% if (embed.description) { %><div class='embedly_preview-description'><%- embed.description %></div><% } %></div></div></div>"),
h=_.template('<div class="embedly_preview u-vertical_margins embedly_preview--<%- embed.provider_name %>"><%= embed.html %></div>'),b=_.template('<blockquote class="rg_standalone_container" data-src="//'+CANONICAL_DOMAIN+'/annotations/<%- annotation_id %>/standalone_embed"></blockquote>'),g=function(a){var g=$(a||".embedly:visible");e(g).each(function(){var a=$(this),e;if(app.twitterURLre.test(this.href))a.replaceWith(d({tweet_url:this.href})),$.getScript("//platform.twitter.com/widgets.js");else if(app.rgURLre.test(this.href)&&
this.href===a.text()&&!a.closest(".embedded_annotation.standalone_embed").length)e=app.rgURLre.exec(this.href).pop(),a.replaceWith(b({annotation_id:e})),$.getScript("//"+CANONICAL_DOMAIN+"/annotations/load_standalone_embeds.js");else{if(e=this.href.match(/https?:\/\/embed\.vidyard\.com\/(landingpage|share)\/(.*)/i)){a.addClass("vidyard_container").attr("data-vidyard-id",e[2]).removeAttr("href");app.load_vidyard_players(g,!1);return}if(app.embedlyURLre.test(this.href))a.embedly({addImageStyles:!1,
className:"embedly_preview",secure:!0,query:{luxe:!MOBILE_DEVICE,secure:"true"},display:function(b){var d=b.html;/soundcloud\.com/.test(d)?(b.html=d.replace("visual%3Dtrue","visual%3Dfalse").replace(/height="\d+"/,'height="165"'),b.height=165):"video"==b.type?a.replaceWith(h({embed:b})):"photo"!==b.type&&"rich"!==b.type&&a.replaceWith(c({embed:b}));b.display()}});else return}a.text("Loading embed...")});f(a)},f=function(a){a=$(a||".embedly_pro:visible");e(a).each(function(){if(app.embedlyURLre.test(this.href))return!0;
var a=$(this);a.embedly({secure:!0,query:{secure:"true"},display:function(b){b.description&&a.parent().contents().last()[0]===a[0]&&a.is(":only-child")?a.replaceWith(c({embed:b})):a.text(b.title)}});a.text("Loading embed...")})};return{restrict:"A",link:function(a,b,c){a.$watch(c.embedly||c.ngBindHtml,function(a){a&&g(b)})}}});
angular.module("genius").directive("expandableContent",["Waypoint","setImmediate",function(a,e){return{transclude:!0,templateUrl:"expandable_content.html",link:function(d,c){d.$on("annotation_loaded",function(){c.find(".expandable_content-inner").height()>c.find(".expandable_content").height()&&(d.content_is_taller_than_max_height=!0)});d.expand_content=function(){d.expanded=!0;d.content_is_taller_than_max_height=!1;e(a.refreshAll)}}}}]);
angular.module("genius").directive("facebookShareButton",["Facebook","Tracking",function(a,e){return{restrict:"E",scope:{url:"="},templateUrl:"facebook_share_button.html",link:function(d){d.share_on_facebook=function(){e.track("Bagon Facebook Share");a.share(d.url)}}}}]);angular.module("genius").directive("focusOnChange",function(){return{restrict:"A",link:function(a,e,d){a.$watch(d.focusOnChange,function(){e.focus()})}}});
angular.module("genius").directive("followButton",["FollowService","Session","Tracking",function(a,e,d){return{restrict:"E",scope:{following:"=",id:"=",type:"@"},templateUrl:"follow_button.html",link:function(c){var h;c.user_signed_in=e.user_signed_in;c.label=function(){return c.hoverLabel||(c.following?"Following":"Follow")};c.toggle_following=function(){h||(h=!0,c.following=!c.following,d.track(c.following?"Follow Button":"Unfollow Button"),a.set_following(c.type,c.id,c.following).catch(function(){c.following=
!c.following}).finally(function(){c.hoverLabel=null;h=!1}))}}}}]);
angular.module("genius").directive("geniusBop",[function(){var a=[],e=function(b,c){a.forEach(function(a){a.$apply(function(){a[b]=c})})},d,c,h=function(a){var c=0;clearInterval(d);e("time",a);d=setInterval(function(){c+=100;e("time",a+c)},100)};window._bopPlayerReady=function(){e("isLoaded",!0);Bop.on("songPause",function(){clearInterval(d);e("isPlaying",!1)});Bop.on("songResume",function(){e("isPlaying",!0)});Bop.on("songStart",function(a){e("isPlaying",!0);h(1E3*a.time)});Bop.on("songEnd",function(){Bop.pause();
Bop.seek(0)});Bop.on("positionChange",function(a){h(a.perc/100*c)});Bop.on("serviceSwitch",function(a){e("service",a.service)})};$.getScript("https://assets.bop.fm/embed.js");return{scope:{time:"=",service:"=",bopHref:"@",duration:"=",isPlaying:"=",isLoaded:"=",theme:"@",color:"@"},template:'<a id="bopPlayer" data-height="70" data-width="100%" data-bop-link href="{{ bopHref }}" data-theme="{{ theme }}" data-color="{{ color }}"></a>',link:function(b){b.$on("$destroy",function(){a.splice(a.indexOf(b),
1)});a.push(b);b.$watch("duration",function(){c=b.duration})}}}]);angular.module("genius").directive("geniusSvg",["Bowser","$templateCache",function(a,e){return{scope:{src:"@"},link:function(d,c,h){d=$(e.get(d.src));d.attr("class",h.class);c.replaceWith(d);a.msie&&h.viewbox&&(c=h.viewbox.split(" "),3<c.length&&d.width(d.height()*(parseInt(c[2])/parseInt(c[3]))))}}}]);angular.module("genius").directive("headerMenuItem",function(){return{restrict:"E",transclude:!0,scope:{name:"@",url:"@"},templateUrl:"header_menu_item.html"}});
angular.module("genius").directive("kb",["$window",function(a){return{restrict:"E",link:function(e,d,c){$(a).bind("keydown",c.shortcut,function(){e.$apply(function(){e.$eval(c.action)});return!1})}}}]);angular.module("genius").directive("leaderboard",function(){return{restrict:"E",templateUrl:"leaderboard.html",scope:{leaderboard_rows:"=collection"}}});
angular.module("genius").directive("lyrics",["$compile","LyricsEditingService","Session",function(a,e,d){var c=$("lyrics").html();return{restrict:"E",templateUrl:"lyrics.html",transclude:!0,controller:["$scope",function(c){c.can_edit=d.has_permission("edit_lyrics",c.song);this.start_editing=function(){c.editing=!0;var a=e.prepare_lyrics_for_editing(c.lyrics_html);c.editable_markdown=a.markdown;c.editable_attr_hash=a.attr_hash};this.finish_editing=function(){c.saving||(c.saving=!0,e.save({song:c.song,
edited:c.editable_markdown,attr_hash:c.editable_attr_hash}).then(function(b){angular.extend(c.song,b.client_timestamps);c.lyrics_section_html(a(b.lyrics)(c));c.lyrics_html=b.lyrics;c.editing=!1}).finally(function(){c.saving=!1}))}}],controllerAs:"lyricsCtrl",link:function(a,b){var d=b.find("section"),e=b.find("textarea");a.lyrics_section_html=d.html.bind(d);a.lyrics_html=c;a.$watch("editing",function(){e.trigger("autosize.resize")});e.autosize()}}}]);
angular.module("genius").directive("ngBodyClass",function(){var a=$("body");return{restrict:"A",link:function(e,d,c){e.$watch(c.ngBodyClass,function(c){for(var b in c)a.toggleClass(b,!!c[b])},!0)}}});angular.module("genius").directive("ngClickDisabled",function(){return{priority:-2,restrict:"A",link:function(a,e,d){e.on("click",function(c){if(a.$eval(d.ngClickDisabled))return c.stopImmediatePropagation(),!1})}}});
angular.module("genius").directive("notificationInbox",["$document","TopBarIndicatorsLoader","Pusher","Tracking","Session",function(a,e,d,c,h){var b=function(a,b){b.qtip({content:{prerender:!0,url:"/"+a.inbox_name,data:{event_id_to_expand:$.deparam.querystring().event_id_to_expand},text:$("<div>",{"class":"qtip-loading-bar",text:"Loading..."})},position:{target:$(".sub_header_content"),corner:{target:"bottomRight",tooltip:"topRight"}},hide:{effect:{length:0},when:{event:"unfocus"}},show:{effect:{length:0},
delay:0,when:{event:"click"}},style:{name:"light",tip:{corner:"topRight",size:{x:20,y:20}},width:{min:580,max:580},border:{width:0,color:"transparent"},classes:{tooltip:"activity_stream_tooltip mecha--deprecated",content:a.inbox_name+"_tooltip_content",tip:"activity_stream_tip"}},api:{onContentUpdate:a.mark_visible_as_read,onShow:a.$apply.bind(a,a.record_inbox_shown),onHide:a.$apply.bind(a,a.record_inbox_hidden)}})};return{scope:{inbox_name:"@inboxName",icon_modifier:"@iconModifier",abbreviate_after:"@abbreviateAfter",
sync_count_to_title:"@syncCountToTitle"},restrict:"E",templateUrl:"notification_inbox.html",controller:["$scope",function(b){angular.extend(b,{reload_inbox_tooltip:function(){b.qtip_element.reloadTooltip()},record_inbox_shown:function(){c.track("Inbox Open",{inbox_name:b.inbox_name,unread_count:b.unread_count});b.unread_count=0;b.update_window_title_count();b.inbox_tooltip_open=!0;b.mark_visible_as_read()},record_inbox_hidden:function(){b.inbox_tooltip_open=!1;b.new_events_available&&(b.reload_inbox_tooltip(),
b.new_events_available=!1)},mark_visible_as_read:function(){var a=$("form#mark_"+b.inbox_name+"_read");a.length&&b.inbox_tooltip_open&&($.post(a.attr("action"),a.serialize()),a.remove())},notify_new_events:function(){e.refresh();b.inbox_tooltip_open?b.new_events_available=!0:b.reload_inbox_tooltip()},update_window_title_count:function(){b.sync_count_to_title&&(a[0].title=a[0].title.replace(/^(\(\d+\) )?/,0<b.unread_count?"("+b.unread_count+") ":""))}})}],link:function(a,c){a.inbox_tooltip_open=!1;
a.new_events_available=!1;a.qtip_element=c.find(".header-inbox_icon");b(a,a.qtip_element);e.listen_for(a.inbox_name,function(b){a.unread_count=b});a.$watch("unread_count",function(b){!b||1>b?a.unread_count_for_display=void 0:a.abbreviate_after&&b>parseInt(a.abbreviate_after,10)?a.unread_count_for_display=a.abbreviate_after+"+":a.unread_count_for_display=b;a.update_window_title_count()});d.subscribe(h.current_user.pusher_channel,"new-"+a.inbox_name.replace(/_/g,"-")+"-event",function(){a.notify_new_events()});
d.subscribe(h.current_user.pusher_channel,"inbox-marked-read",function(b){b.inbox===a.inbox_name&&a.notify_new_events()});$("."+a.inbox_name+"_tooltip_content").live("ajax:complete",a.mark_visible_as_read)}}}]);
angular.module("genius").directive("openInApp",["$timeout","$window","Tracking","Bowser","AppConfig",function(a,e,d,c,h){return{restrict:"E",templateUrl:"open_in_app.html",scope:{iosDeepLink:"=",placement:"@"},link:function(a,g){a.is_ios=c.ios;g.on("click",function(){a.hasTriedToOpenApp||(a.hasTriedToOpenApp=!0,d.track("Clicked Open in App"),e.location=a.iosDeepLink,a.appStoreUrl=h.app_store_url)})}}}]);
angular.module("genius").directive("preload",function(){return{restrict:"E",link:function(a,e,d){d=JSON.parse(d.preloadData);angular.forEach(d,function(c,d){a[d]=c});e.remove()}}});angular.module("genius").directive("preventDefaultClick",function(){return{priority:-1,restrict:"A",link:function(a,e){e.on("click",function(a){a.preventDefault();a.stopPropagation()})}}});angular.module("genius").directive("primaryAlbum",function(){return{restrict:"E",scope:{album:"=",highlightedTrack:"="},templateUrl:"primary_album.html"}});
angular.module("genius").directive("pusher",["Pusher",function(a){return{scope:{channel:"@pusherChannel",event_name:"@pusherEventName",updateCallback:"&pusherUpdate",enabled:"="},link:function(e){var d=function(){a.subscribe(e.channel,e.event_name,function(a){e.updateCallback({value:a.value})})};void 0===e.enabled&&(e.enabled=!0);e.enabled&&d();e.$watch("enabled",function(a,e){a&&!e&&d()})}}}]);
angular.module("genius").directive("pyongButton",["PyongService",function(a){return{restrict:"E",scope:{id:"=",onPyong:"&",pyonged:"=",pyongsCount:"=",showForm:"&",type:"@"},templateUrl:"pyong_button.html",link:function(e){e.pyong=function(){e.pyonged||(e.showForm(),e.pyonged=e.clickedPyong=!0,e.pyongsCount+=1,a.pyong(e.type,e.id).then(function(a){e.pyonged=a.current_user_metadata.interactions.pyong;e.pyongsCount=a.pyongs_count;e.onPyong()}).catch(function(){e.pyongsCount-=1;e.pyonged=!1}))}}}}]);
angular.module("genius").directive("pyongForm",["PyongService",function(a){return{restrict:"E",scope:{id:"=",type:"@",onComplete:"&"},templateUrl:"pyong_form.html",link:function(e){e.submit=function(d){e.disabled=!0;a.finalizePyong(e.type,e.id,d).then(function(){e.onComplete()}).finally(function(){e.disabled=!1})}}}}]);
angular.module("genius").directive("quickSearch",function(){return{restrict:"A",link:function(a,e){e.autocomplete("/search/quick.js",{delay:250,scrollHeight:500,matchSubset:!1,max:20,minChars:4,selectFirst:!1,resultsClass:"ac_results quick_search-results",formatResult:function(a){return a[1]?"Loading...":" "}}).result(function(a,c){c&&c[1]&&($("form.global_search :submit").attr("disabled","disabled"),window.location.href=c[1])})}}});
angular.module("genius").directive("referentFragment",function(){return{templateUrl:"referent_fragment.html",restrict:"E",scope:{referent:"=object"},link:function(a){a.expand_referent=function(){a.referent_too_tall=!1};a.$watch("referent",function(e){e&&30<e.fragment.split(/\s+/).length&&(a.referent_too_tall=!0)})}}});
angular.module("genius").directive("scrollPoint",["$rootScope",function(a){var e=[];a.scroll_to=function(a){for(var c=0;c<e.length;c++){var h=e[c];if(h.object===a){h.callback();break}}};return{scope:{object:"="},link:function(a,c){a.callback=function(){$("html,body").animate({scrollTop:c.offset().top})};e.push(a);a.$on("$destroy",function(){e.splice(e.indexOf(a),1)})}}}]);
angular.module("genius").directive("scrubber",["$document",function(a){return{scope:{scrubPercentage:"=",scrubbed:"&",scale:"@"},link:function(e,d){var c=d.width()*parseFloat(e.scale||"1"),h=function(a){a=Math.max(0,Math.min(c,a-d.offset().left));e.scrubbed({percentage:a/c})};d.on("click",function(a){h(a.pageX)});d.on("mousedown",function(){var b=function(a){a=Math.max(0,Math.min(c,a.pageX-d.offset().left));e.scrubPercentage=a/c};a.on("mousemove",b);a.one("mouseup",function(c){h(c.pageX);a.off("mousemove",
b);setTimeout(function(){e.scrubPercentage=null},500)})})}}}]);angular.module("genius").directive("searchForm",function(){return{restrict:"E",templateUrl:"search_form.html",scope:{style:"@searchStyle",path:"@"},link:function(a,e){var d=e.find("input");a.unfocus=function(){a.focused=!1};a.focus=function(){a.focused=!0;d.focus()};e.on("click",function(){a.$apply(function(){a.focus()})});a.submit_form=function(){a.focused&&(a.submitting=!0,e.find("form").submit(),a.search_text="Loading...")}}}});
angular.module("genius").directive("selectAllOnClick",function(){return{restrict:"A",link:function(a,e){e.on("click",function(){this.select()})}}});angular.module("genius").directive("setCookieAndCloseOnClick",["Tracking",function(a){return{require:"^displayUnlessCookie",link:function(e,d,c,h){d.on("click",function(){a.track(e.$parent.name);h.set_cookie_and_close();e.$apply();return!1})}}}]);
angular.module("genius").directive("slideOverPane",function(){return{restrict:"E",templateUrl:"slide_over_pane.html",transclude:!0,scope:{condition:"=",closeOn:"&",darkBackground:"="}}});
angular.module("genius").directive("songMetadata",["SongService",function(a){return{templateUrl:"song_metadata.html",restrict:"E",scope:{song:"="},link:function(e){e.$watch("tags",function(){e.primary_tags=e.song.tags.filter(function(a){return a.primary})});e.toggle_contributors=function(){0!==e.song.stats.contributors&&(e.contributors_showing=!e.contributors_showing,c())};var d=0;e.loading_contributors=!1;var c=_.once(function(){e.loading_contributors=!0;a.load_contributor_data(e.song.id).then(function(a){e.contributors=
a;e.has_more_iq_earners=e.contributors.iq_earners.length<a.iq_earners_total;d+=1}).finally(function(){e.loading_contributors=!1})});e.load_more_iq_earners=function(){e.loading_contributors||(e.loading_contributors=!0,a.load_iq_earners(e.song.id,{page:d}).then(function(a){e.contributors.iq_earners=e.contributors.iq_earners.concat(a.iq_earners);e.has_more_iq_earners=e.contributors.iq_earners.length<a.iq_earners_total;d+=1}).finally(function(){e.loading_contributors=!1}))}}}}]);
angular.module("genius").directive("timestampInput",["timestamp_for_displayFilter","$debounce",function(a,e){return{scope:{timestamp:"=ngModel",ngDisabled:"="},template:'<input ng-model="string" ng-disabled="ngDisabled" type="text"/>',link:function(d,c){d.$watch("timestamp",function(b){d.string=a(b)});var h=function(){var a;(a=d.string)?(a=a.split(":"),a=Math.floor(1E3*(60*parseInt(a[0]||"0",10)+parseFloat(a[1]||"0")))):a=null;d.timestamp=a},b=e(h,2E3);c.on("keyup",b);c.find("input").on("blur",function(){h()})}}}]);
angular.module("genius").directive("tooltip",function(){return{restrict:"E",transclude:!0,replace:!0,templateUrl:"tooltip.html",scope:{header:"@",icon:"@",menu:"="}}});angular.module("genius").directive("trackListing",function(){return{restrict:"E",scope:{tracks:"=",currentSong:"="},templateUrl:"track_listing.html"}});
angular.module("genius").directive("twitterShareButton",["Twitter","Tracking",function(a,e){return{restrict:"E",scope:{url:"=",message:"="},templateUrl:"twitter_share_button.html",link:function(d){d.share_on_twitter=function(){e.track("Bagon Twitter Share");a.share({url:d.url,message:d.message})}}}}]);
!function(a,e){function d(a){return function(){var b={method:a},d=Array.prototype.slice.call(arguments);/^get/.test(a)?(c.assert(0<d.length,"Get methods require a callback."),d.unshift(b)):(/^set/.test(a)&&(c.assert(0!==d.length,"Set methods require a value."),b.value=d[0]),d=[b]);this.send.apply(this,d)}}var c={DEBUG:!1,VERSION:"0.0.10",CONTEXT:"player.js"};c.POST_MESSAGE=!!a.postMessage;c.ENABLE_CONTEXT=!1;c.origin=function(b){return"//"===b.substr(0,2)&&(b=a.location.protocol+b),b.split("/").slice(0,
3).join("/")};c.addEvent=function(a,b,c){a&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c)};c.log=function(){c.log.history=c.log.history||[];c.log.history.push(arguments);a.console&&c.DEBUG&&a.console.log(Array.prototype.slice.call(arguments))};c.isString=function(a){return"[object String]"===Object.prototype.toString.call(a)};c.isObject=function(a){return"[object Object]"===Object.prototype.toString.call(a)};c.isArray=function(a){return"[object Array]"===
Object.prototype.toString.call(a)};c.isNone=function(a){return null===a||void 0===a};c.has=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};c.indexOf=function(a,b){if(null==a)return-1;var c=0,d=a.length;if(Array.prototype.IndexOf&&a.indexOf===Array.prototype.IndexOf)return a.indexOf(b);for(;d>c;c++)if(a[c]===b)return c;return-1};c.assert=function(a,b){if(!a)throw b||"Player.js Assert Failed";};c.Keeper=function(){this.init()};c.Keeper.prototype.init=function(){this.data={}};c.Keeper.prototype.getUUID=
function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)})};c.Keeper.prototype.has=function(a,b){if(!this.data.hasOwnProperty(a))return!1;if(c.isNone(b))return!0;for(var d=this.data[a],e=0;e<d.length;e++)if(d[e].id===b)return!0;return!1};c.Keeper.prototype.add=function(a,b,c,d,e){a={id:a,event:b,cb:c,ctx:d,one:e};this.has(b)?this.data[b].push(a):this.data[b]=[a]};c.Keeper.prototype.execute=function(a,b,d,
e){if(!this.has(a,b))return!1;for(var g=[],h=[],t=0;t<this.data[a].length;t++){var v=this.data[a][t];c.isNone(b)||!c.isNone(b)&&v.id===b?(h.push({cb:v.cb,ctx:v.ctx?v.ctx:e,data:d}),!1===v.one&&g.push(v)):g.push(v)}0===g.length?delete this.data[a]:this.data[a]=g;for(a=0;a<h.length;a++)b=h[a],b.cb.call(b.ctx,b.data)};c.Keeper.prototype.on=function(a,b,c,d){this.add(a,b,c,d,!1)};c.Keeper.prototype.one=function(a,b,c,d){this.add(a,b,c,d,!0)};c.Keeper.prototype.off=function(a,b){var d=[];if(!this.data.hasOwnProperty(a))return d;
for(var e=[],g=0;g<this.data[a].length;g++){var h=this.data[a][g];c.isNone(b)||h.cb===b?c.isNone(h.id)||d.push(h.id):e.push(h)}return 0===e.length?delete this.data[a]:this.data[a]=e,d};c.Player=function(a,b){return this instanceof c.Player?void this.init(a,b):new c.Player(a,b)};c.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"};c.EVENTS.all=function(){var a=[],b;for(b in c.EVENTS)c.has(c.EVENTS,b)&&c.isString(c.EVENTS[b])&&a.push(c.EVENTS[b]);
return a};c.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"};c.METHODS.all=function(){var a=[],b;for(b in c.METHODS)c.has(c.METHODS,b)&&c.isString(c.METHODS[b])&&a.push(c.METHODS[b]);return a};c.READIED=
[];c.Player.prototype.init=function(b){var d=this;c.isString(b)&&(b=e.getElementById(b));this.elem=b;this.origin=c.origin(b.src);this.keeper=new c.Keeper;this.isReady=!1;this.queue=[];this.events=c.EVENTS.all();this.methods=c.METHODS.all();c.POST_MESSAGE?c.addEvent(a,"message",function(a){d.receive(a)}):c.log("Post Message is not Available.");-1<c.indexOf(c.READIED,b.src)?d.loaded=!0:this.elem.onload=function(){d.loaded=!0}};c.Player.prototype.send=function(a,b,d){if(a.context=c.CONTEXT,a.version=
c.VERSION,b){var e=this.keeper.getUUID();a.listener=e;this.keeper.one(e,a.method,b,d)}return this.isReady||"ready"===a.value?(c.log("Player.send",a,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(a),this.origin),!0):(c.log("Player.queue",a),this.queue.push(a),!1)};c.Player.prototype.receive=function(a){if(c.log("Player.receive",a),a.origin!==this.origin)return!1;var b;try{b=JSON.parse(a.data)}catch(d){return!1}return c.ENABLE_CONTEXT&&b.context!==c.CONTEXT?!1:("ready"===
b.event&&b.value&&b.value.src===this.elem.src&&this.ready(b),void(this.keeper.has(b.event,b.listener)&&this.keeper.execute(b.event,b.listener,b.value,this)))};c.Player.prototype.ready=function(a){if(!0===this.isReady)return!1;a.value.events&&(this.events=a.value.events);a.value.methods&&(this.methods=a.value.methods);this.loaded=this.isReady=!0;for(var b=0;b<this.queue.length;b++){var d=this.queue[b];c.log("Player.dequeue",d);"ready"===a.event&&this.keeper.execute(d.event,d.listener,!0,this);this.send(d)}this.queue=
[]};c.Player.prototype.on=function(a,b,c){var d=this.keeper.getUUID();return"ready"===a?this.keeper.one(d,a,b,c):this.keeper.on(d,a,b,c),this.send({method:"addEventListener",value:a,listener:d}),!0};c.Player.prototype.off=function(a,b){var d=this.keeper.off(a,b);if(c.log("Player.off",d),0<d.length)for(var e in d)return this.send({method:"removeEventListener",value:a,listener:d[e]}),!0;return!1};c.Player.prototype.supports=function(a,b){c.assert(-1<c.indexOf(["method","event"],a),'evtOrMethod needs to be either "event" or "method" got '+
a);b=c.isArray(b)?b:[b];for(var d="event"===a?this.events:this.methods,e=0;e<b.length;e++)if(-1===c.indexOf(d,b[e]))return!1;return!0};for(var h=0,b=c.METHODS.all().length;b>h;h++){var g=c.METHODS.all()[h];c.Player.prototype.hasOwnProperty(g)||(c.Player.prototype[g]=d(g))}a.playerjs=c;c.addEvent(a,"message",function(a){var b;try{b=JSON.parse(a.data)}catch(d){return!1}return c.ENABLE_CONTEXT&&b.context!==c.CONTEXT?!1:void("ready"===b.event&&b.value&&b.value.src&&c.READIED.push(b.value.src))});c.Receiver=
function(a,b){this.init(a,b)};c.Receiver.prototype.init=function(b,d){var g=this;this.isReady=!1;this.origin=c.origin(e.referrer);this.methods={};this.supported={events:b?b:c.EVENTS.all(),methods:d?d:c.METHODS.all()};this.eventListeners={};(this.reject=!(a.self!==a.top&&c.POST_MESSAGE))||c.addEvent(a,"message",function(a){g.receive(a)})};c.Receiver.prototype.receive=function(b){if(b.origin!==this.origin)return!1;var d={};if(c.isObject(b.data))d=b.data;else try{d=a.JSON.parse(b.data)}catch(e){c.log("JSON Parse Error",
e)}if((c.log("Receiver.receive",b,d),!d.method)||c.ENABLE_CONTEXT&&d.context!==c.CONTEXT)return!1;if(-1===c.indexOf(c.METHODS.all(),d.method))return this.emit("error",{code:2,msg:'Invalid Method "'+d.method+'"'}),!1;b=c.isNone(d.listener)?null:d.listener;"addEventListener"===d.method?(this.eventListeners.hasOwnProperty(d.value)?-1===c.indexOf(this.eventListeners[d.value],b)&&this.eventListeners[d.value].push(b):this.eventListeners[d.value]=[b],"ready"===d.value&&this.isReady&&this.ready()):"removeEventListener"===
d.method?this.eventListeners.hasOwnProperty(d.value)&&(b=c.indexOf(this.eventListeners[d.value],b),-1<b&&this.eventListeners[d.value].splice(b,1),0===this.eventListeners[d.value].length&&delete this.eventListeners[d.value]):this.get(d.method,d.value,b)};c.Receiver.prototype.get=function(a,b,c){var d=this;if(!this.methods.hasOwnProperty(a))return this.emit("error",{code:3,msg:'Method Not Supported"'+a+'"'}),!1;var e=this.methods[a];"get"===a.substr(0,3)?e.call(this,function(b){d.send(a,b,c)}):e.call(this,
b)};c.Receiver.prototype.on=function(a,b){this.methods[a]=b};c.Receiver.prototype.send=function(b,d,e){if(c.log("Receiver.send",b,d,e),this.reject)return c.log("Receiver.send.reject",b,d,e),!1;b={context:c.CONTEXT,version:c.VERSION,event:b};c.isNone(d)||(b.value=d);c.isNone(e)||(b.listener=e);d=JSON.stringify(b);a.parent.postMessage(d,""===this.origin?"*":this.origin)};c.Receiver.prototype.emit=function(a,b){if(!this.eventListeners.hasOwnProperty(a))return!1;c.log("Instance.emit",a,b,this.eventListeners[a]);
for(var d=0;d<this.eventListeners[a].length;d++)this.send(a,b,this.eventListeners[a][d]);return!0};c.Receiver.prototype.ready=function(){c.log("Receiver.ready");this.isReady=!0;var b={src:a.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",b)||this.send("ready",b)};c.HTML5Adapter=function(a){return this instanceof c.HTML5Adapter?void this.init(a):new c.HTML5Adapter(a)};c.HTML5Adapter.prototype.init=function(a){c.assert(a,"playerjs.VideoJSReceiver requires a video element");
var b=this.receiver=new c.Receiver;a.addEventListener("playing",function(){b.emit("play")});a.addEventListener("pause",function(){b.emit("pause")});a.addEventListener("ended",function(){b.emit("ended")});a.addEventListener("timeupdate",function(){b.emit("timeupdate",{seconds:a.currentTime,duration:a.duration})});a.addEventListener("progress",function(){b.emit("buffered",{percent:a.buffered.length})});b.on("play",function(){a.play()});b.on("pause",function(){a.pause()});b.on("getPaused",function(b){b(a.paused)});
b.on("getCurrentTime",function(b){b(a.currentTime)});b.on("setCurrentTime",function(b){a.currentTime=b});b.on("getDuration",function(b){b(a.duration)});b.on("getVolume",function(b){b(100*a.volume)});b.on("setVolume",function(b){a.volume=b/100});b.on("mute",function(){a.muted=!0});b.on("unmute",function(){a.muted=!1});b.on("getMuted",function(b){b(a.muted)});b.on("getLoop",function(b){b(a.loop)});b.on("setLoop",function(b){a.loop=b})};c.HTML5Adapter.prototype.ready=function(){this.receiver.ready()};
c.JWPlayerAdapter=function(a){return this instanceof c.JWPlayerAdapter?void this.init(a):new c.JWPlayerAdapter(a)};c.JWPlayerAdapter.prototype.init=function(a){c.assert(a,"playerjs.JWPlayerAdapter requires a player object");var b=this.receiver=new c.Receiver;this.looped=!1;a.onPause(function(){b.emit("pause")});a.onPlay(function(){b.emit("play")});a.onTime(function(a){var c=a.position;a=a.duration;if(!c||!a)return!1;b.emit("timeupdate",{seconds:c,duration:a})});var d=this;a.onComplete(function(){!0===
d.looped?a.seek(0):b.emit("ended")});a.onError(function(){b.emit("error")});b.on("play",function(){a.play(!0)});b.on("pause",function(){a.pause(!0)});b.on("getPaused",function(b){b("PLAYING"!==a.getState())});b.on("getCurrentTime",function(b){b(a.getPosition())});b.on("setCurrentTime",function(b){a.seek(b)});b.on("getDuration",function(b){b(a.getDuration())});b.on("getVolume",function(b){b(a.getVolume())});b.on("setVolume",function(b){a.setVolume(b)});b.on("mute",function(){a.setMute(!0)});b.on("unmute",
function(){a.setMute(!1)});b.on("getMuted",function(b){b(!0===a.getMute())});b.on("getLoop",function(a){a(this.looped)},this);b.on("setLoop",function(a){this.looped=a},this)};c.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()};c.MockAdapter=function(){return this instanceof c.MockAdapter?void this.init():new c.MockAdapter};c.MockAdapter.prototype.init=function(){var a={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){a.interval=
setInterval(function(){a.currentTime+=.25;a.timeupdate({seconds:a.currentTime,duration:a.duration})},250);a.playing=!0},pause:function(){clearInterval(a.interval);a.playing=!1}},b=this.receiver=new c.Receiver;b.on("play",function(){var b=this;a.play();this.emit("play");a.timeupdate=function(a){b.emit("timeupdate",a)}});b.on("pause",function(){a.pause();this.emit("pause")});b.on("getPaused",function(b){b(!a.playing)});b.on("getCurrentTime",function(b){b(a.currentTime)});b.on("setCurrentTime",function(b){a.currentTime=
b});b.on("getDuration",function(b){b(a.duration)});b.on("getVolume",function(b){b(a.volume)});b.on("setVolume",function(b){a.volume=b});b.on("mute",function(){a.mute=!0});b.on("unmute",function(){a.mute=!1});b.on("getMuted",function(b){b(a.mute)});b.on("getLoop",function(b){b(a.loop)});b.on("setLoop",function(b){a.loop=b})};c.MockAdapter.prototype.ready=function(){this.receiver.ready()};c.SublimeAdapter=function(a){return this instanceof c.SublimeAdapter?void this.init(a):new c.SublimeAdapter(a)};
c.SublimeAdapter.prototype.events=[c.EVENTS.READY,c.EVENTS.PLAY,c.EVENTS.PAUSE,c.EVENTS.ENDED,c.EVENTS.TIMEUPDATE,c.EVENTS.ERROR];c.SublimeAdapter.prototype.methods=[c.METHODS.PLAY,c.METHODS.PAUSE,c.METHODS.GETDURATION,c.METHODS.SETCURRENTTIME,c.METHODS.GETCURRENTTIME,c.METHODS.REMOVEEVENTLISTENER,c.METHODS.ADDEVENTLISTENER];c.SublimeAdapter.prototype.init=function(a){c.assert(a,"playerjs.SublimeAdapter requires a player object");var b=this.receiver=new c.Receiver(this.events,this.methods);a.on("pause",
function(){b.emit("pause")});a.on("play",function(){b.emit("play")});a.on("timeUpdate",function(a,c){var d=a.duration();if(!c||!d)return!1;b.emit("timeupdate",{seconds:c,duration:d})});a.on("end",function(){b.emit("ended")});b.on("play",function(){a.play()});b.on("pause",function(){a.pause()});b.on("getCurrentTime",function(b){b(a.playbackTime())});b.on("setCurrentTime",function(b){a.seekTo(b)});b.on("getDuration",function(b){b(a.duration())})};c.SublimeAdapter.prototype.ready=function(){this.receiver.ready()};
c.VideoJSAdapter=function(a){return this instanceof c.VideoJSAdapter?void this.init(a):new c.VideoJSAdapter(a)};c.VideoJSAdapter.prototype.init=function(a){c.assert(a,"playerjs.VideoJSReceiver requires a player object");var b=this.receiver=new c.Receiver;a.on("pause",function(){b.emit("pause")});a.on("play",function(){b.emit("play")});a.on("timeupdate",function(){var c=a.currentTime(),d=a.duration();if(!c||!d)return!1;b.emit("timeupdate",{seconds:c,duration:d})});a.on("ended",function(){b.emit("ended")});
a.on("error",function(){b.emit("error")});b.on("play",function(){a.play()});b.on("pause",function(){a.pause()});b.on("getPaused",function(b){b(a.paused())});b.on("getCurrentTime",function(b){b(a.currentTime())});b.on("setCurrentTime",function(b){a.currentTime(b)});b.on("getDuration",function(b){b(a.duration())});b.on("getVolume",function(b){b(100*a.volume())});b.on("setVolume",function(b){a.volume(b/100)});b.on("mute",function(){a.volume(0)});b.on("unmute",function(){a.volume(1)});b.on("getMuted",
function(b){b(0===a.volume())});b.on("getLoop",function(b){b(a.loop())});b.on("setLoop",function(b){a.loop(b)})};c.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()}}(window,document);
angular.module("genius").directive("unifiedPlayer",["$sce","$timeout","Tracking",function(a,e,d){var c={youtube:{youtube_controls:0,youtube_modestbranding:1,youtube_showinfo:0,youtube_iv_load_policy:3}};return{restrict:"E",templateUrl:"unified_player.html",scope:{api:"=",autoplay:"=",media:"=",ready:"=",loading:"=",placeholder:"="},link:function(h,b){var g=function(){var a=playerjs.Player(b.find("iframe")[0]);a.on("ready",function(){h.autoplay&&a.play();h.$apply(function(){h.ready=!0})});a.on("play",
function(){d.track("play_song_media",{playing:!0,first_interaction:!1})})};h.load_media=function(){d.track("play_song_media",{playing:!1,first_interaction:!0});h.loading=!0;e(function(){g()})};h.api={load_media:h.load_media};var f={};"youtube"===h.media.provider&&(f.youtube_start=h.media.start);angular.extend(f,c[h.media.provider]);$.embedly.oembed(h.media.url,{query:f}).done(function(b){b[0].author_name&&"error"!==b[0].type&&h.$apply(function(){h.placeholder=b[0].thumbnail_url;h.media_html=a.trustAsHtml(b[0].html)})})}}}]);
angular.module("genius").directive("userBadge",function(){return{restrict:"E",templateUrl:"user_badge.html",scope:{user:"=object",type:"@",pinnedRole:"=",anonymousUser:"="}}});angular.module("genius").directive("voters",["VoteService",function(a){return{restrict:"E",templateUrl:"voters.html",scope:{type:"@",object:"="},link:function(e){a.load_voters(e.type,e.object.id).then(function(a){e.loaded_voters=!0;e.voters=a;e.object.votes_total=a.votes_total})}}}]);
angular.module("genius").directive("voting",["$window","Session","Tracking","VoteService",function(a,e,d,c){var h={down:-1,up:1};return{restrict:"E",templateUrl:"voting.html",scope:{clickCount:"&",total:"=",object:"=",type:"@",currentVote:"="},link:function(b){var g=function(a,d){var e=(h[a]||0)-(h[d]||0);b.total+=e;c.submit_vote(b.type,b.object.id,a).catch(function(){b.total-=e;b.currentVote=d})};b.submit_vote=function(c){if(!e.user_signed_in)d.track("Logged out vote attempt"),a.location.href="/login";
else if(e.has_permission("vote",b.object)){var h=b.currentVote;c===h&&(c=void 0);b.currentVote=c;g(c,h)}}}}}]);angular.module("genius").directive("watchImagesLoaded",["$timeout",function(a){return{restrict:"A",link:function(e,d,c){e.$watch(c.ngBindHtml,function(c){c&&a(function(){d.waitForImages(function(){e.$apply(function(){e.$emit("images_loaded")})})})})}}}]);
angular.module("genius").directive("waypoint",["Waypoint",function(a){return{scope:{type:"@waypoint",stuckClass:"@"},link:function(e,d){var c=e.type||"normal";new {sticky:a.Sticky,normal:a}[c]({element:d,wrapper:{sticky:'<div class="sticky_wrapper" />',normal:"<div />"}[c],stuckClass:e.stuckClass})}}}]);angular.module("genius").factory("AppConfig",["$window",function(a){return a.APP_CONFIG}]);
angular.module("genius").factory("$debounce",["$timeout",function(a){return function(e,d){var c;return function(){a.cancel(c);c=a(e,d)}}}]);angular.module("genius").factory("OAuthInterceptor",["AppConfig",function(a){return{request:function(e){0===e.url.indexOf(a.api_root_url)&&(e.headers.Authorization="Bearer "+a.access_token);return e}}}]);
angular.module("genius").factory("OnsiteInterceptor",function(){return{request:function(a){var e;e=a.url;var d=document.createElement("a");d.href=e;e=d.hostname;e&&e!=window.location.hostname||(a.headers["X-Requested-With"]="XMLHttpRequest","POST"===a.method&&(a.headers["X-CSRF-Token"]=$.cookie("_csrf_token")));return a}}});
angular.module("genius").factory("Preloader",["$q",function(a){var e=function(a){this.bulk_load_function=a};e.prototype={cache:{},insert:function(d,c){this.cache[d]=a.when(c)},load:function(a){this.bulk_load([a]);return this.cache[a]},filter_unloaded:function(a){var c=this.cache;return a.filter(function(a){return!c[a]})},bulk_load:function(a){var c=this.cache;a=this.filter_unloaded(a);var e=a.length?this.bulk_load_function(a):void 0;a.forEach(function(a){c[a]=e.then(function(c){return c[a]})})}};
return e}]);angular.module("genius").factory("RetryFailureInterceptor",["$injector","$q",function(a,e){return{responseError:function(d){var c=d.config;return c.retries&&0<c.retries?(c.retries-=1,a.get("$http")(c)):e.reject(d)}}}]);angular.module("genius").factory("SessionConfig",["$window",function(a){return a.SESSION_CONFIG}]);angular.module("genius").filter("andMore",function(){return function(a){return"(and "+a+" more)"}});
angular.module("genius").filter("highlight_braced",["$sce","$sanitize",function(a,e){var d=/\[(.+?)\]/g;return function(c,h){h=h||{};var b=h.class_name,g=e(c);return a.trustAsHtml(g.replace(d,'<span class="'+b+'">$1</span>'))}}]);angular.module("genius").filter("i18n",function(){return function(a,e){return I18n.t(a,e)}});angular.module("genius").filter("minBy",["$parse",function(a){return function(e,d){var c=a(d);return _.min(e,function(a){return c(a)})}}]);
angular.module("genius").filter("minimum_readable_time",function(){return function(a){return 240*a.split(/\s+/).length}});angular.module("genius").filter("minusModulo",function(){return function(a,e){return a-a%e}});angular.module("genius").filter("signed_number",function(){return function(a){return a&&0<a?"+"+a.toString():a.toString()}});
angular.module("genius").filter("spotify_artist_metadata",["SpotifyService",function(a){var e={};return function(d){if(!d)return{};var c=e[d];if(c)return c;e[d]={};a.load_artist_metadata(d).then(function(a){e[d]=a})}}]);
angular.module("genius").filter("timestamp_for_display",function(){var a=function(a,d){return"0000".substring(0,d-a.toString().length)+a};return function(e,d){if(!e&&0!==e)return"";var c=d&&d.skip_millis,h=e/1E3,h=Math.floor(h/60)+":"+a(Math.floor(h%60),2),b=Math.floor(e%1E3);b&&!c&&(h+="."+a(b,3));return h}});
angular.module("genius").service("AnnotationService",["$http","AppConfig","querystring",function(a,e,d){return{load_annotation:function(c,h){h=h||{};var b=d.stringify({text_format:h.format||"html"});return a.get(e.api_root_url+"/annotations/"+c+"?"+b).then(function(a){return a.data.response.annotation})},save_annotation:function(c,h){var b=d.stringify({text_format:"html"});return a.put(e.api_root_url+"/annotations/"+c+"?"+b,h).then(function(a){return a.data.response.annotation})}}}]);
angular.module("genius").service("Bowser",["$window",function(a){return a.bowser}]);angular.module("genius").service("CommentService",["$http","querystring","AppConfig",function(a,e,d){return{load:function(c,h,b){b=e.stringify(b);return a.get(d.api_root_url+"/"+c+"/"+h+"/comments?"+b).then(function(a){return a.data.response})},create:function(c,e,b){return a.post(d.api_root_url+"/"+c+"/"+e+"/comments?text_format=html",b).then(function(a){return a.data.response.comment})}}}]);
angular.module("genius").service("CustomAppNotificationService",["$http",function(a){return{send_preview_notification:function(e){return a.post("/custom_app_notifications",{custom_app_notification:_.extend(e,{preview:!0})})}}}]);
angular.module("genius").factory("EagerLoader",function(){var a=function(){this.data={};this.listeners={}};a.prototype={loaded:function(a,d){this.listeners[a]?this.listeners[a].forEach(function(a){a(d)}):this.data[a]=d},listen_for:function(a,d){this.listeners[a]=this.listeners[a]||[];this.listeners[a].push(d);this.data[a]&&(d(this.data[a]),delete this.data[a])}};return a});
angular.module("genius").service("Facebook",["AppConfig","$window","$q",function(a,e,d){var c=d.defer();e.fbAsyncInit=function(){e.FB.init({appId:a.facebook_app_id,version:"v2.4"});c.resolve(e.FB)};$.getScript("//connect.facebook.net/en_US/sdk.js");return{share:function(a){c.promise.then(function(b){b.ui({method:"share",href:a})})}}}]);
angular.module("genius").service("FollowService",["AppConfig","$http",function(a,e){return{set_following:function(d,c,h){return e.post(a.api_root_url+"/"+d+"s/"+c+"/"+(h?"follow":"unfollow")).then(function(a){return a.data.response})}}}]);
angular.module("genius").factory("HtmlService",["$window",function(a){a={top_level_block_containers:a.TOP_LEVEL_BLOCK_CONTAINERS,top_level_stand_alone_blocks:a.TOP_LEVEL_STANDALONE_BLOCKS};a.top_level_block_containers_regexp=new RegExp("</("+a.top_level_block_containers.join("|")+")>\\s*","gi");a.top_level_stand_alone_blocks_regexp=new RegExp("</("+a.top_level_stand_alone_blocks.join("|")+")>\\s*","gi");return a}]);
angular.module("genius").service("LyricsEditingService",["$http","$q","AppConfig","HtmlService","MarkdownHelpersService",function(a,e,d,c,h){return{save:function(b){var c;try{c=this.lyrics_pseudo_markdown_to_html__deprecated(b.edited,b.attr_hash)}catch(f){return e.reject(f)}return a.put(d.api_root_url+"/songs/"+b.song.id+"/lyrics",{lyrics:c,client_timestamps:_.pick(b.song,["updated_by_human_at","lyrics_updated_at"])}).then(function(a){return a.data.response.lyrics_update})},prepare_lyrics_for_editing:function(a){return this.lyrics_html_to_pseudo_markdown__deprecated(this.clean_up_lyrics__deprecated(a))},
clean_up_lyrics__deprecated:function(a){return $.trim($("<div>").append(a).find("a").each(function(){var a=$(this);if(!a.attr("data-id")&&!a.data("real-link"))throw a=Error("Error processing lyrics for editing: detected non-annotation link ("+a.html()+")"),a.human_readable_message=app.templates.link_injection_error_message,a;a.html().match(/<br[\s\/]?>$/i)&&(a.find("br:last").remove(),a.after("<br>"))}).end().find("#annotation_prompt").remove().end().html().replace(/<p( [^>]*)?>/gi,"").replace(/<\/p>\s*/gi,
"\n\n").replace(c.top_level_block_containers_regexp,"$&\n\n").replace(c.top_level_stand_alone_blocks_regexp,"$&\n\n").replace(/\s*<br[\s\/]?>([ \t]*)\s*/gi,"\n$1"))},lyrics_html_to_pseudo_markdown__deprecated:function(a){var c={attr_hash:{}};c.markdown=$("<div>").append(a).find("a").each(function(){var a=$(this),b=a.attr("data-id");_.isUndefined(b)?a.data("real-link")?a.replaceWith("["+a.html()+"]("+a.attr("href")+")"):a.replaceWith(a.html()):(_.set(c.attr_hash,b,{"class":a.attr("class"),"data-editorial-state":a.attr("data-editorial-state")}),
a.replaceWith("["+a.html()+"]("+b+")"))}).end().html();return c},lyrics_pseudo_markdown_to_html__deprecated:function(a,c){c||(c={});a=a.replace(/\n/gi,"<br>");var e=$("<div>").append(h.convert_markdown_anchors(a)).find("a").each(function(){var a=$(this);a.attr("href",$.trim(a.attr("href")));if(a.attr("href").match(/^\d+$/))a.attr("data-id",a.attr("href")).attr("href","/"+a.attr("data-id")).attr(c[a.attr("data-id")]);else{var b=(a.attr("href")||"").trim();"/"===b[0]||0===b.indexOf("http")||0<=b.indexOf(d.canonical_domain)?
a.attr("target",$.isUrlInternal(a.attr("href"))?"_self":"_blank").attr("data-real-link",!0):a.replaceWith("["+a.html()+"]("+a.attr("href")+")")}}).end().html();return h.unescape_special_characters_escaped_by_markdown_anchor_converter(e)}}}]);
angular.module("genius").factory("MarkdownHelpersService",function(){var a=function(a,d,c,h,b,g,f,k){void 0==k&&(k="");a=h.toLowerCase();if(""==b)if(""==a&&c.toLowerCase().replace(/ ?\n/g," "),-1<d.search(/\(\s*\)$/m))b="";else return d;d='<a href="'+b+'"';""!=k&&(k=k.replace(/"/g,"&quot;"),d+=' title="'+k+'"');return d+(">"+c+"</a>")};return{unescape_special_characters_escaped_by_markdown_anchor_converter:function(a){return a.replace(/~E(\d+)E/,function(a,c){return String.fromCharCode(c)})},convert_markdown_anchors:function(e){return e.replace(/(\[((?:\[[^\]]*\]|\[\[[^\]]*\]\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,
a)}}});angular.module("genius").service("Pusher",["$window","AppConfig",function(a,e){var d={},c,h=function(){c||(c=new a.Pusher(e.pusher_app_key));return c};return{pusher:h,subscribe:function(a,c,e){d[a]||(d[a]={},h().subscribe(a).bind_all(function(c,e){var f=d[a][c];f&&f.forEach(function(a){a(e)})}));d[a][c]=d[a][c]||[];d[a][c].push(e)}}}]);
angular.module("genius").service("PyongService",["AppConfig","$http",function(a,e){var d=function(c,d,b,g){g=_.set(g||{},d+"_id",b);return e.post(a.api_root_url+c,g).then(function(a){return a.data.response.song})};return{pyong:function(a,e){return d("/pyongs",a,e,{note_may_follow:!0})},finalizePyong:function(a,e,b){return d("/pyongs/finalize",a,e,{pyong_note:b})}}}]);angular.module("genius").service("querystring",function(){return{stringify:function(a){return $.param(a)}}});
angular.module("genius").service("ReferentService",["$http","AppConfig","querystring",function(a,e,d){return{bulk_load:function(c){c=d.stringify({text_format:"html",ids:c});return a.get(e.api_root_url+"/referents/multi?"+c).then(function(a){return a.data.response.referents})}}}]);
angular.module("genius").factory("Session",["$window","SessionConfig",function(a,e){return Object.create(Object.prototype,{has_permission:{value:function(a,c){return(c=c||this.current_user)&&c.current_user_metadata&&c.current_user_metadata.permissions?-1!==c.current_user_metadata.permissions.indexOf(a):!1}},user_signed_in:{get:function(){return!!this.current_user}},current_user:{get:function(){return e.current_user},set:function(a){e.current_user=a}}})}]);
(function(a,e){function d(a){t[s]=c.apply(e,a);return s++}function c(a){var b=[].slice.call(arguments,1);return function(){"function"===typeof a?a.apply(e,b):(new Function(""+a))()}}function h(a){if(v)setTimeout(c(h,a),0);else{var d=t[a];if(d){v=!0;try{d()}finally{b(a),v=!1}}}}function b(a){delete t[a]}function g(){z=function(){var a=d(arguments);process.nextTick(c(h,a));return a}}function f(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;a.onmessage=function(){b=!1};a.postMessage("",
"*");a.onmessage=c;return b}}function k(){var b="setImmediate$"+Math.random()+"$",c=function(c){c.source===a&&"string"===typeof c.data&&0===c.data.indexOf(b)&&h(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",c,!1):a.attachEvent("onmessage",c);z=function(){var c=d(arguments);a.postMessage(b+c,"*");return c}}function p(){var a=new MessageChannel;a.port1.onmessage=function(a){h(a.data)};z=function(){var b=d(arguments);a.port2.postMessage(b);return b}}function q(){var a=r.documentElement;
z=function(){var b=d(arguments),c=r.createElement("script");c.onreadystatechange=function(){h(b);c.onreadystatechange=null;a.removeChild(c);c=null};a.appendChild(c);return b}}function m(){z=function(){var a=d(arguments);setTimeout(c(h,a),0);return a}}if(!a.setImmediate){var s=1,t={},v=!1,r=a.document,z,x=Object.getPrototypeOf&&Object.getPrototypeOf(a),x=x&&x.setTimeout?x:a;"[object process]"==={}.toString.call(a.process)?g():f()?k():a.MessageChannel?p():r&&"onreadystatechange"in r.createElement("script")?
q():m();x.setImmediate=z;x.clearImmediate=b}})((new Function("return this"))());angular.module("genius").service("setImmediate",["$window",function(a){return a.setImmediate}]);
angular.module("genius").service("SongService",["$http","AppConfig","querystring",function(a,e,d){return{count_view:function(c){return a.post(e.api_root_url+"/songs/"+c+"/count_view")},load_contributor_data:function(c){return a.get(e.api_root_url+"/songs/"+c+"/contributors").then(function(a){return a.data.response.contributors})},load_iq_earners:function(c,h){var b=d.stringify(h);return a.get(e.api_root_url+"/songs/"+c+"/iq_earners?"+b).then(function(a){return a.data.response.contributors})},perform_action:function(c,
d){return a.post(e.api_root_url+"/songs/"+c+"/"+d).then(function(a){return a.data.response.song})}}}]);angular.module("genius").service("SpotifyAnnotationService",["$http",function(a){return{save_song:function(e,d,c){return a.post("/spotify_annotations/bulk_update",{song_id:e,spotify_annotations:c,spotify_song:{note:d.note,lock_version:d.lock_version,finalized:d.finalized}})},load_song:function(e){return a.get("/songs/"+e+"/spotify_annotations")}}}]);
angular.module("genius").service("SpotifyService",["$http",function(a){return{load_artist_metadata:function(e){return a.get("https://api.spotify.com/v1/artists/"+e).then(function(a){return a.data})}}}]);angular.module("genius").service("TopBarIndicatorsLoader",["EagerLoader","$http","Session",function(a,e,d){var c=new a;a=function(){d.user_signed_in&&e.get("/top_bar_indicators",{retries:2}).then(function(a){for(var b in a.data)c.loaded(b,a.data[b])})};a();return{listen_for:c.listen_for.bind(c),refresh:a}}]);
angular.module("genius").service("Tracking",["$window",function(a){return new a.Tracking}]);angular.module("genius").service("Twitter",["$window","querystring",function(a,e){return{share:function(d){d="https://twitter.com/intent/tweet?"+e.stringify({url:d.url,text:d.message});a.open(d)}}}]);
angular.module("genius").service("VoteService",["AppConfig","querystring","$http",function(a,e,d){return{load_voters:function(c,h){var b=_.set({},c+"_id",h);return d.get(a.api_root_url+"/voters?"+e.stringify(b)).then(function(a){return a.data.response.voters})},submit_vote:function(c,e,b){c=_.set({direction:b||"middle"},c+"_id",e);return d.post(a.api_root_url+"/votes",c)}}}]);
!function(){function a(c){if(!c)throw Error("No options passed to Waypoint constructor");if(!c.element)throw Error("No element option passed to Waypoint constructor");if(!c.handler)throw Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e;this.options=a.Adapter.extend({},a.defaults,c);this.element=this.options.element;this.adapter=new a.Adapter(this.element);this.callback=c.handler;this.axis=this.options.horizontal?"horizontal":"vertical";this.enabled=this.options.enabled;
this.triggerPoint=null;this.group=a.Group.findOrCreate({name:this.options.group,axis:this.axis});this.context=a.Context.findOrCreateByElement(this.options.context);a.offsetAliases[this.options.offset]&&(this.options.offset=a.offsetAliases[this.options.offset]);this.group.add(this);this.context.add(this);d[this.key]=this;e+=1}var e=0,d={};a.prototype.queueTrigger=function(a){this.group.queueTrigger(this,a)};a.prototype.trigger=function(a){this.enabled&&this.callback&&this.callback.apply(this,a)};a.prototype.destroy=
function(){this.context.remove(this);this.group.remove(this);delete d[this.key]};a.prototype.disable=function(){return this.enabled=!1,this};a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this};a.prototype.next=function(){return this.group.next(this)};a.prototype.previous=function(){return this.group.previous(this)};a.invokeAll=function(a){var e=[],b;for(b in d)e.push(d[b]);b=0;for(var g=e.length;g>b;b++)e[b][a]()};a.destroyAll=function(){a.invokeAll("destroy")};a.disableAll=
function(){a.invokeAll("disable")};a.enableAll=function(){a.invokeAll("enable")};a.refreshAll=function(){a.Context.refreshAll()};a.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight};a.viewportWidth=function(){return document.documentElement.clientWidth};a.adapters=[];a.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0};a.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},
"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}};window.Waypoint=a}();
(function(){function a(a){window.setTimeout(a,1E3/60)}function e(a){this.element=a;this.Adapter=h.Adapter;this.adapter=new this.Adapter(a);this.key="waypoint-context-"+d;this.didResize=this.didScroll=!1;this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()};this.waypoints={vertical:{},horizontal:{}};a.waypointContextKey=this.key;c[a.waypointContextKey]=this;d+=1;this.createThrottledScrollHandler();this.createThrottledResizeHandler()}var d=0,c={},h=window.Waypoint,b=window.onload;
e.prototype.add=function(a){this.waypoints[a.options.horizontal?"horizontal":"vertical"][a.key]=a;this.refresh()};e.prototype.checkEmpty=function(){var a=this.Adapter.isEmptyObject(this.waypoints.horizontal),b=this.Adapter.isEmptyObject(this.waypoints.vertical);a&&b&&(this.adapter.off(".waypoints"),delete c[this.key])};e.prototype.createThrottledResizeHandler=function(){function a(){b.handleResize();b.didResize=!1}var b=this;this.adapter.on("resize.waypoints",function(){b.didResize||(b.didResize=
!0,h.requestAnimationFrame(a))})};e.prototype.createThrottledScrollHandler=function(){function a(){b.handleScroll();b.didScroll=!1}var b=this;this.adapter.on("scroll.waypoints",function(){b.didScroll&&!h.isTouch||(b.didScroll=!0,h.requestAnimationFrame(a))})};e.prototype.handleResize=function(){h.Context.refreshAll()};e.prototype.handleScroll=function(){var a={},b={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),
oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},c;for(c in b){var d=b[c],e=d.newScroll>d.oldScroll?d.forward:d.backward,h;for(h in this.waypoints[c]){var s=this.waypoints[c][h],t=d.oldScroll<s.triggerPoint,v=d.newScroll>=s.triggerPoint,r=!t&&!v;(t&&v||r)&&(s.queueTrigger(e),a[s.group.id]=s.group)}}for(var z in a)a[z].flushTriggers();this.oldScroll={x:b.horizontal.newScroll,y:b.vertical.newScroll}};e.prototype.innerHeight=function(){return this.element==this.element.window?h.viewportHeight():
this.adapter.innerHeight()};e.prototype.remove=function(a){delete this.waypoints[a.axis][a.key];this.checkEmpty()};e.prototype.innerWidth=function(){return this.element==this.element.window?h.viewportWidth():this.adapter.innerWidth()};e.prototype.destroy=function(){var a=[],b;for(b in this.waypoints)for(var c in this.waypoints[b])a.push(this.waypoints[b][c]);b=0;for(c=a.length;c>b;b++)a[b].destroy()};e.prototype.refresh=function(){var a,b=(a=this.element==this.element.window)?void 0:this.adapter.offset(),
c={};this.handleScroll();a={horizontal:{contextOffset:a?0:b.left,contextScroll:a?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:a?0:b.top,contextScroll:a?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var d in a){var b=a[d],e;for(e in this.waypoints[d]){var m,s,t,v=this.waypoints[d][e];t=v.options.offset;
m=v.triggerPoint;s=0;var r=null==m;v.element!==v.element.window&&(s=v.adapter.offset()[b.offsetProp]);"function"==typeof t?t=t.apply(v):"string"==typeof t&&(t=parseFloat(t),-1<v.options.offset.indexOf("%")&&(t=Math.ceil(b.contextDimension*t/100)));v.triggerPoint=s+(b.contextScroll-b.contextOffset)-t;m=m<b.oldScroll;s=v.triggerPoint>=b.oldScroll;t=m&&s;m=!m&&!s;!r&&t?(v.queueTrigger(b.backward),c[v.group.id]=v.group):!r&&m?(v.queueTrigger(b.forward),c[v.group.id]=v.group):r&&b.oldScroll>=v.triggerPoint&&
(v.queueTrigger(b.forward),c[v.group.id]=v.group)}}return h.requestAnimationFrame(function(){for(var a in c)c[a].flushTriggers()}),this};e.findOrCreateByElement=function(a){return e.findByElement(a)||new e(a)};e.refreshAll=function(){for(var a in c)c[a].refresh()};e.findByElement=function(a){return c[a.waypointContextKey]};window.onload=function(){b&&b();e.refreshAll()};h.requestAnimationFrame=function(b){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
a).call(window,b)};h.Context=e})();
(function(){function a(a,c){return a.triggerPoint-c.triggerPoint}function e(a,c){return c.triggerPoint-a.triggerPoint}function d(a){this.name=a.name;this.axis=a.axis;this.id=this.name+"-"+this.axis;this.waypoints=[];this.clearTriggerQueues();c[this.axis][this.name]=this}var c={vertical:{},horizontal:{}},h=window.Waypoint;d.prototype.add=function(a){this.waypoints.push(a)};d.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}};d.prototype.flushTriggers=function(){for(var b in this.triggerQueues){var c=
this.triggerQueues[b];c.sort("up"===b||"left"===b?e:a);for(var d=0,h=c.length;h>d;d+=1){var p=c[d];(p.options.continuous||d===c.length-1)&&p.trigger([b])}}this.clearTriggerQueues()};d.prototype.next=function(b){this.waypoints.sort(a);b=h.Adapter.inArray(b,this.waypoints);return b===this.waypoints.length-1?null:this.waypoints[b+1]};d.prototype.previous=function(b){this.waypoints.sort(a);return(b=h.Adapter.inArray(b,this.waypoints))?this.waypoints[b-1]:null};d.prototype.queueTrigger=function(a,c){this.triggerQueues[c].push(a)};
d.prototype.remove=function(a){a=h.Adapter.inArray(a,this.waypoints);-1<a&&this.waypoints.splice(a,1)};d.prototype.first=function(){return this.waypoints[0]};d.prototype.last=function(){return this.waypoints[this.waypoints.length-1]};d.findOrCreate=function(a){return c[a.axis][a.name]||new d(a)};h.Group=d})();
(function(){function a(a){this.$element=e(a)}var e=window.jQuery,d=window.Waypoint;e.each("innerHeight innerWidth off offset on outerHeight outerWidth scrollLeft scrollTop".split(" "),function(c,d){a.prototype[d]=function(){var a=Array.prototype.slice.call(arguments);return this.$element[d].apply(this.$element,a)}});e.each(["extend","inArray","isEmptyObject"],function(c,d){a[d]=e[d]});d.adapters.push({name:"jquery",Adapter:a});d.Adapter=a})();
(function(){function a(a){return function(c,h){var b=[],g=c;return a.isFunction(c)&&(g=a.extend({},h),g.handler=c),this.each(function(){var c=a.extend({},g,{element:this});"string"==typeof c.context&&(c.context=a(this).closest(c.context)[0]);b.push(new e(c))}),b}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=a(window.jQuery));window.Zepto&&(window.Zepto.fn.waypoint=a(window.Zepto))})();
!function(){function a(c){this.options=e.extend({},d.defaults,a.defaults,c);this.element=this.options.element;this.$element=e(this.element);this.createWrapper();this.createWaypoint()}var e=window.jQuery,d=window.Waypoint;a.prototype.createWaypoint=function(){var a=this.options.handler;this.waypoint=new d(e.extend({},this.options,{element:this.wrapper,handler:e.proxy(function(d){var b=-1<this.options.direction.indexOf(d),e=b?this.$element.outerHeight(!0):"";this.$wrapper.height(e);this.$element.toggleClass(this.options.stuckClass,
b);a&&a.call(this,d)},this)}))};a.prototype.createWrapper=function(){this.options.wrapper&&this.$element.wrap(this.options.wrapper);this.$wrapper=this.$element.parent();this.wrapper=this.$wrapper[0]};a.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass),this.options.wrapper&&this.$element.unwrap())};a.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"};d.Sticky=
a}();angular.module("genius").service("Waypoint",["$window",function(a){return a.Waypoint}]);angular.module("genius").service("ZeroClipboard",["$window",function(a){var e;e="https://assets.rapgenius.com/flash/ZeroClipboard.swf?1445007648".replace("https:",window.location.protocol);ZeroClipboard.config({swfPath:e});return a.ZeroClipboard}]);
(function(){window["com.genius.Genius"].require.define({"back_page/annotation_loader":function(a,e,d){var c={},h=function(a){_.each(a,function(a){c[a]||(c[a]=$.Deferred())})},b=function(a){var b=_.reject(a,function(a){return c[a]});if(!b.length)return _.pick(c,Array.prototype.slice.apply(a));h(b);$.ajax({url:"/annotations/bulk_standalone",data:{annotation_ids:b},dataType:"json"}).done(function(a){_.each(a,function(a,b){c[b].resolve($(a))})});return _.pick(c,Array.prototype.slice.apply(a))};d.exports=
{load:function(a){b([a]);return c[a]},add_to_cache:function(a,b){h([a]);c[a].resolve(b).promise()},fetch_annotations:b}}})})();
(function(){window["com.genius.Genius"].require.define({"back_page/tracking":function(a,e,d){var c=window.app.tracking,h,b=[],g=$.Deferred();d.exports={track_page_load:function(a){h=a;c.start_tracking();c.track("Wrapped Web Page Load",a);g.resolve()},track_annotated_page:function(){g.then(function(){c.track("Annotated Web Page Load",h)})},track_open_annotation:function(a){g.then(function(){var b=a.referent_id;a.from_permalink&&c.set_annotation_opened_from_permalink(b);c.track("Open Annotation",_.extend({},
h,{annotation_id:b}))})},track_engaged_annotation_view:function(a){g.then(function(){var d=a.referent_id;-1===b.indexOf(d)&&(b.push(d),c.track("Engaged Annotation View",_.extend({},h,{annotation_id:d,annotator_login:a.annotator_login,skip_counters:!0})))})},track_filter_change:function(a,b,d){g.then(function(){c.track("Offsite Filter Selection",_.extend({},h,d,{filter_type:a,filter_args:b}))})}}}})})();
(function(){window["com.genius.Genius"].require.define({"back_page/referents":function(a,e,d){var c=[],h={},b,g,f=!1,k=e("back_page/annotation_loader"),p=e("back_page/tracking"),q={all:function(){return function(){return!0}},featured:function(){return function(a){return a.featured}},annotator:function(a){return function(b){return b.annotator_id===Number(m.annotator_logins_to_ids[a])}}},m={current_filter:q.all(),default_filter_string:"all",initialize:function(a){this.back_page=a;app.parent_channel.bind("close",
this.close.bind(this))},open:function(){f||(f=!0,app.parent_channel.notify({method:"show_back_page"}))},close:function(){if(!f||!this.back_page.confirm_no_dirty_fields())return!1;f=!1;this.close_overlay();b=null;this.update_url_state();app.parent_channel.notify({method:"hide_back_page"});return!0},update_url_state:function(){var a;g!==this.default_filter_string&&(a=g);a={filter:a};b&&(a.annotation_id=b.id);app.parent_channel.notify({method:"update_url_state",params:a})},add:function(a){a.forEach(function(a){a.hidden=
!this.current_filter(a);h[a.id]=a}.bind(this));c.push.apply(c,a);this.sort();var b=_.debounce(function(){this.sort();this.preload_first_page()}.bind(this),500),d=_.debounce(function(){this.back_page.update(c);this.preload_first_page()}.bind(this),500);a.forEach(function(a){a.anchor_offset||app.parent_channel.call({method:"anchor_referent",params:{referent:a,on_unsuccessful_anchoring_attempt:function(){a.anchorless=!0;d()}},success:function(c){_.extend(a,c,{anchorless:!1});b()}.bind(this),error:function(a,
b){throw a+" "+b;}})}.bind(this));app.parent_channel.notify({method:"update_referents_count",params:c.length});app.parent_channel.notify({method:"show_header"})},remove:function(a){c=_.reject(c,function(b){return b.id===a});delete h[a];app.parent_channel.notify({method:"referent_deleted",params:a});this.back_page.remove_referent(a);b&&b.id===a&&(b=null);c.length?this.ensure_active_referent():this.close()},sort:function(){c=c.sort(function(a,b){if(a.anchor_offset&&b.anchor_offset){var c=a.anchor_offset.top-
b.anchor_offset.top;0===c&&(c=a.anchor_offset.left-b.anchor_offset.left);return c}return a.anchor_offset?-1:b.anchor_offset?1:a.id-b.id});this.back_page.update(c)},display:function(a,b){var c=this.set_active_referent(a,b);this.ensure_current_filter_allows_referent(a);this.open();return c},activate:function(a,b){if(f)return this.set_active_referent(a,b)},feature:function(a){h[a].featured=!0;this.apply_filter(this.current_filter)},unfeature:function(a){h[a].featured=!1;this.apply_filter(this.current_filter)},
set_default_filter_string:function(a){this.default_filter_string=a},load_more:function(a,b,c){if(b<=c)return $.ajax({type:"GET",url:a,dataType:"json",data:{page:b}}).then(function(d){var e=this.load_more(a,b+1,c);this.add(d.referents);return e}.bind(this))},set_active_referent:function(a,c){b=h[a];this.back_page.activate_referent(a,c);app.parent_channel.notify({method:"activate_referent",params:a});this.update_url_state();var d=k.load(a).then(function(c){this.back_page.hydrate_placeholder(a,c);setTimeout(function(){b&&
b.id===a&&p.track_engaged_annotation_view({referent_id:a,annotator_login:this.annotator_ids_to_logins[b.annotator_id]})}.bind(this),1E3)}.bind(this));this.back_page.load_nearby_annotations(a);return d},preload_first_page:_.throttle(_.once(function(){var a=_.map(c.slice(0,6),function(a){return a.id});return this.back_page.load_annotations(a)}),500),ensure_active_referent:function(){b||c.length&&this.set_active_referent(this.back_page.referent_id_in_active_zone()||c[0].id)},filter_by_filter_string:function(a,
b){var c=a.split(":"),d=c.shift();this.back_page.update_selected_filter(a).done(function(){g=a;this.update_url_state()}.bind(this));var e=q[d].apply(null,c);this.apply_filter(e);b&&p.track_filter_change(d,c.join(":"),b)},apply_filter:function(a){this.current_filter=a;var d=[],e=[];c.forEach(function(c){c.hidden=!a(c);c.hidden?(e.push(c.id),c===b&&(b=null)):d.push(c.id)});this.back_page.update(c);this.ensure_active_referent();app.parent_channel.notify({method:"update_referent_visibility",params:{visible:d,
hidden:e}})},ensure_current_filter_allows_referent:function(a){a=h[a];this.current_filter(a)||this.filter_by_filter_string("annotator:"+this.annotator_ids_to_logins[a.annotator_id],{reason:"Annotation Permalink"})},populate_annotator_logins_to_ids:function(a){this.annotator_logins_to_ids=a;this.annotator_ids_to_logins=_.invert(a)},close_overlay:function(){if(!this.back_page.confirm_no_dirty_fields())return!1;f&&this.ensure_active_referent();this.back_page.close_overlay();return!0}};d.exports=m}})})();
(function(){window["com.genius.Genius"].require.define({"back_page/back_page":function(a,e,d){var c=e("back_page/annotation_loader"),h=$(window).height(),b=.35*h,g=$(window).width()/2,f,k=$.Deferred(),p={referents:e("back_page/referents"),initialize:function(){this.referents.initialize(this);window.onbeforeunload=function(){if($("textarea:focus, textarea.dirty").length)return q};$(document).on("click",".back_page-close_button",function(){p.referents.close()});$(document).on("click",".overlay_close_button",
function(){(!$(".annotations_for_back_page").contents().length||Modernizr.touch?p.referents.close():p.referents.close_overlay())&&app.parent_channel.notify({method:"reset_referent_in_progress"})});if(!Modernizr.touch)$(document).on("scroll",function(){t();s()});$(document).on("click",".referent_content",function(){p.referents.activate($(this).closest(".annotation_container").attr("data-genius-referent-id"));return!1});$(".back_page-filter_menu").length?k.resolve():$(function(){$(".back_page-filter_menu_container").on("auto_load_url:loaded",
k.resolve.bind(k))});$(document).on("click",".filter_menu-filter",function(){var a=$(this).attr("data-filter");p.referents.filter_by_filter_string(a,{reason:"Menu Selection"})});$(document).on("click",".annotations_for_back_page .annotation_container",function(){p.referents.activate($(this).attr("data-genius-referent-id"))});$(document).on("click","html, .annotations_for_back_page",function(a){$(a.target).is($(this))&&$(document.body).is(".cont-annotations.act-for_web_page")&&p.referents.close()});
$(document).on("annotation:deleted",".annotation_unit",function(){var a=Number($(this).closest("[data-genius-referent-id]").attr("data-genius-referent-id"));p.referents.remove(a);return!1});$(document).on("annotation:featured",".annotation_unit",function(){var a=Number($(this).closest("[data-genius-referent-id]").attr("data-genius-referent-id"));p.referents.feature(a);return!1});$(document).on("annotation:unfeatured",".annotation_unit",function(){var a=Number($(this).closest("[data-genius-referent-id]").attr("data-genius-referent-id"));
p.referents.unfeature(a);return!1})},activate_referent:function(a,b){b=b||{};var c=$('[data-genius-referent-id="'+a+'"]');c.length&&(c.addClass("active").siblings().removeClass("active"),void 0===b.align_with_vertical_offset||Modernizr.touch||v(c,b.align_with_vertical_offset))},update_selected_filter:function(a){var b=$.Deferred();k.done(function(){var c=$('.filter_menu-filter[data-filter="'+a+'"]');b.resolve();c.addClass("filter_menu-filter--selected");$(".filter_menu-filter--selected").not(c).removeClass("filter_menu-filter--selected");
$(".filter_menu-selected_filter").html(c.html()).find(".filter_menu-filter-annotation_count").remove();$(".filter_menu-list").removeClass("filter_menu--open")});return b.promise()},hydrate_placeholder:function(a,b){var c=$('.referent_placeholder[data-genius-referent-id="'+a+'"]');c.length&&$(document).retainingScrollPosition($(".annotation_container.active"),function(){b.toggleClass("anchorless",c.hasClass("anchorless"));b.toggleClass("active",c.hasClass("active"));b.toggleClass("annotation_container--hidden",
c.hasClass("annotation_container--hidden"));c.replaceWith(b);app.setup_embedded_annotation(b);!Modernizr.touch&&b.nextAll(".active").length&&0>b[0].getBoundingClientRect().top&&b.addClass("annotation_container--fixed_placeholder_height")})},load_annotations:function(a){$.each(c.fetch_annotations(a),function(a,b){b.done(function(b){p.hydrate_placeholder(a,b)})})},load_nearby_annotations:_.debounce(function(a){a=$('[data-genius-referent-id="'+a+'"]');var b=[];a.is(".referent_placeholder")&&b.push(a.attr("data-genius-referent-id"));
a.prevAll(":visible").slice(0,2).filter(".referent_placeholder").each(function(a,c){b.push($(c).attr("data-genius-referent-id"))});a.nextAll(":visible").slice(0,4).filter(".referent_placeholder").each(function(a,c){b.push($(c).attr("data-genius-referent-id"))});b.length&&this.load_annotations(b)},500),remove_referent:function(a){a=$('[data-genius-referent-id="'+a+'"]');a.slideUp("fast",a.remove.bind(a))},update:function(a){$(function(){var b=$("#annotations"),c=b.children().filter(".active"),d={};
b.children().each(function(){var a=$(this);d[a.attr("data-genius-referent-id")]=a});a.forEach(function(a,c){var e=d[a.id];e||(e=$("<div class='referent_placeholder' data-genius-referent-id='"+a.id+"'><em class='referent_content-loading_text'>Loading:</em> <span class='referent_content-referent'>"+a.fragment+"</span></div>\n").appendTo(b));e.index()!==c&&(e.find("iframe").cache_iframe_contents(),0===c?b.prepend(e.detach()):b.children().eq(c-1).after(e.detach()));e.toggleClass("anchorless",!!a.anchorless);
e.toggleClass("annotation_container--hidden",a.hidden)});c.is(":visible")&&(v(c),this.load_nearby_annotations(Number(c.attr("data-genius-referent-id"))))}.bind(this))},populate_overlay:function(a){$("#back_page_overlay").addClass("active").find(".contents").html(a)},close_overlay:function(){$("#back_page_overlay").removeClass("active")},referent_id_in_active_zone:function(){var a=m(g,b);if(a.length)return Number(a.attr("data-genius-referent-id"))},confirm_no_dirty_fields:function(){return $("textarea.dirty").length?
confirm(q)?($("textarea.dirty").trigger("dirtyable:changed",!1),!0):!1:!0}},q="Looks like you're in the middle of something. Do you want to leave without finishing?",m=function(a,b){return $(document.elementFromPoint(a,b)).closest(".annotation_container:not(.active), .referent_placeholder:not(.active)")},s=_.throttle(function(){$(document).retainingScrollPosition($(".annotation_container.active, .referent_placeholder.active"),function(){var a=m(g,45);a.add(a.nextAll(".annotation_container--fixed_placeholder_height")).removeClass("annotation_container--fixed_placeholder_height")})},
100),t=_.throttle(function(){if(f)f=!1;else{var a=p.referent_id_in_active_zone();a&&p.referents.activate(a);a=$(document).scrollTop();50>$("body").prop("scrollHeight")-(h+a)&&p.referents.activate($("[data-genius-referent-id]:visible:last").attr("data-genius-referent-id"));50>a&&p.referents.activate($("[data-genius-referent-id]:visible:first").attr("data-genius-referent-id"))}},100),v=function(a,b){b=b||0;f=!0;var c=window.innerHeight-a.outerHeight(),c=Math.min(c,b-250),c=Math.max(45,c);$(window).scrollTop(a.offset().top-
c)};d.exports=p}})})();(function(){window["com.genius.Genius"].require.define({"back_page/show_signup_prompt":function(a,e,d){var c=e("back_page/back_page");d.exports=function(){app.set_desired_location_cookie({fallback:$(".embedded_annotation").attr("data-path")});$.cookie("attempted_offsite_signup",!0,{path:"/",expires:1});c.populate_overlay($($("#new_user_session").text()))}}})})();
(function(){window.app=window.app||{};var a=require("back_page/show_signup_prompt"),e=require("shared/universal/tweet_composer");$.extend(window.app,{on_ajax_complete:function(){app.set_up_timeago()},on_ajax_error:function(){}});var d=function(){$(".show_credits").on("click",function(){var a=$(this),d=$(a.toggleClass("pressed").attr("data-target"));d.toggle();d.hasClass("loading")&&$.ajax_with_retry({url:"/annotations/full_credits",data:{annotation_id:d.attr("data-id")},success:function(a){d.html(a).removeClass("loading")}})})};
app.setup_embedded_annotation=function(a){a.length&&(app.setup_embedly(a),app.set_up_mentions_autocomplete(),app.set_up_timeago(),app.load_vidyard_players(),app.pusher=app.angular_inject_get__deprecated("Pusher").pusher,CURRENT_USER&&app.pusher().subscribe(a.attr("data-pusher-channel")).bind("referent-image-changed",function(d){a.find(".compose_tweet_wrapper .loading_with_indicator").replaceWith($("<img>",{src:d}))}),a.find(".annotation_unit").each(function(){var a=$(this);a.find(".twitter_button.tweet_composer").length&&
new e(a)}))};app.set_up_embedded_annotations=function(){d();app.setup_zeroclipboard();$(document).on("click","a:not([target])",function(){$(this).attr("target","_blank");return!0});$(document).on("click",".annotation_units, .annotation_footer",function(){var a=$(this).closest(".standalone_embed");a.length&&a.not("expanded")&&a.addClass("expanded").removeClass("expandable")});$(document).on("click",".current_user_is_anonymous .requires_user",function(){a();return!1});$(document).on("click",".delete_annotation",
function(){if(!confirm("Are you sure?"))return!1;var a=$(this),d=a.closest(".annotation_unit");app.delete_annotation(a.attr("href"));a=$.Event("annotation:deleted");d.trigger(a);a.isDefaultPrevented()||(d.siblings(".annotation_unit").length?d.remove():d.closest(".annotation_container").slideUp("fast"));return!1})};$(window).on("keydown",function(a){$(a.target).acts_like_input()||app.parent_channel.notify({method:"window_keydown",params:a.which})});$(function(){app.set_up_embedded_annotations();app.process_auto_load_containers()})})();
$(function(){if(window.RG_STANDALONE_EMBED)$(window).on("load",function(){var a=$(".embedded_annotation");a.hasClass("expanded")||200<a.find(".annotation_units").prop("scrollHeight")&&a.addClass("expandable")})});window.app=window.app||{};
$.extend(window.app,{set_up_mentions_autocomplete:function(){$("textarea[data-mentions-autocomplete]").each(function(){var a=$(this),e=!1;a.atwho({at:"@",data:JSON.parse(a.attr("data-mentions-seed-data")||"[]"),tpl:'<li data-value="${value}">${name}</li>',callbacks:{sorter:function(a,c,h){return e?(e=!1,c):$.fn.atwho.default.callbacks.sorter(a,c,h)},remote_filter:function(){var a=null,c={};return function(h,b){a&&a.abort();h=h||"";if(!(1>h.length||" "==h[0]))if(h in c)e=!0,b(c[h]);else{var g=this;
$.doTimeout("mentions_autocomplete",200,function(){a=$.ajax({url:g.$inputor.attr("data-mentions-autocomplete-url"),dataType:"json",data:{q:h},success:function(a){e=!0;c[h]=a;b(a)}})})}}}()}})})}});
Backbone.View.attach(".voting_links",{events:{"click a.vote":"on_click_vote_button","click .votes_total":"toggle_voters_panel"},initialize:function(){var a=this;a.$vote_total=a.$el.find(".votes_total");a.$vote_total.on("qtip:beforeContentUpdate",function(e,d){var c=$(d).attr("data-votes-total");c&&a.update_vote_total(parseInt(c,10))})},on_click_vote_button:function(a){var e=$(a.target);(CURRENT_USER||"up"==e.attr("data-direction"))&&this.submit_vote(e);a.preventDefault()},toggle_voters_panel:function(a){a=
$(a.target);if(a.closest(".embedded_annotation").length){a=a.attr("tooltip__deprecated");var e=this.$el.attr("data-voteable-id"),d=$(".votes_for_"+e);d.toggle();d.is(":visible")&&(d.text("Loading..."),$.ajax_with_retry({type:"GET",url:a,success:function(a){d.html(a)}}));return!1}},submit_vote:function(a){var e=a.hasClass("toggled")?"middle":a.attr("data-direction");this.increment_vote_count_by(this.voting_delta_for(a));a.toggleClass("toggled").siblings(".vote").removeClass("toggled");$.post(a.attr("href"),
{direction:e}).done(function(a){this.$el.replaceWith(a)}.bind(this))},voting_delta_for:function(a){var e="up"===a.attr("data-direction")?1:-1;a.hasClass("toggled")?e*=-1:a.siblings(".vote").hasClass("toggled")&&(e*=2);return e},increment_vote_count_by:function(a){var e=parseInt(this.$vote_total.text(),10);this.update_vote_total(e+a)},update_vote_total:function(a){var e,d;0>a?(d="downvote",e=a.toString()):(e="+"+a,d=0<a?"upvote":"neutral");this.$vote_total.removeClass("downvote upvote no_votes neutral").addClass(d).text(e)}});
Backbone.View.attach(".comment_unit",{events:{"click .destroy_comment":function(a){this.destroy_comment($(a.target));return!1}},destroy_comment:function(a){app.ajaxQueue.add({type:"post",url:a.attr("href"),data:{_method:"delete"}});a.parents(".comment_unit").slideUp("fast",this.notify_resize.bind(this))},notify_resize:function(){this.$el.trigger("genius:resized")}});
Backbone.View.attach(".comment_section",{events:{"submit form.comment":function(a){this.submit_comment($(a.target));return!1}},initialize:function(){this.ANIMATION_SPEED=150;this.ANIMATION_END_EVENT="animationend webkitAnimationEnd";this.$comment_container=this.$el.find(".comment_container");app.setup_embedly(this.$comment_container);this.set_up_show_all_comments();this.set_up_show_needs_improvement();this.set_up_animation_handlers()},set_up_animation_handlers:function(){this.$comment_container.on(this.ANIMATION_END_EVENT,
".comment_unit",function(){$(this).removeClass("comment_unit--new")})},set_up_show_all_comments:function(){this.$comment_container.on("click",".show_all_comments",function(){$(this).addClass("pressed").siblings(".comment_unit").show();app.setup_embedly();return!1})},set_up_show_needs_improvement:function(){var a=this.$el.find(".reasons");this.$el.parents(".annotation_unit").on("click","[data-show-needs-improvement]",function(){a.slideDown(this.ANIMATION_SPEED)})},render_new_comment:function(a){var e=
Hogan.compile($("#new_comment_template").html());return a.allows_reason?$(e.render(a)).hide().prependTo(this.$comment_container).slideDown(this.ANIMATION_SPEED):$(e.render(a)).appendTo(this.$comment_container)},render_post_comment_message:function(a,e,d){a.remove();a=$($("#post_comment_message").html());this.$comment_container.append(a);a.find("[name='user[login]']").val(e);a.find("[name='user[email]']").val(d);a.find("#user_password").focus()},submit_comment:function(a){var e=a.validate({rules:{"comment[body]":{maxlength:5E4,
required:{depends:function(){var b=a.find('input[name="comment[reason]"]:checked');return!b.length||"other"===b.val()}}},"comment[name]":{maxlength:255}},messages:{"comment[body]":{maxlength:"Your comment is too long."},"comment[name]":{maxlength:"Your name is too long."}}});if(e.form()){var d="new_comment_"+(new Date).getTime();a.submitWithAjaxQueue({complete:function(a){CURRENT_USER&&$("#"+d).find("a.destroy_comment").attr("href","/comments/"+a.responseText).removeClass("loading");this.notify_resize()}.bind(this)});
var c=a.find("[name='comment[reason]']:checked"),e=a.find("[name='comment[name]']").val(),h=a.find("[name='comment[email]']").val(),b=c.data("is-other")?null:c.val(),g=c.data("inline-reason"),f=a.find("[name='allows_reason']").length,k=c.data("reason-context-url"),c=a.find("[name='comment[body]']").val(),b=this.render_new_comment({identifier:d,name:e,reason:b,inline_reason:g,allows_reason:f,reason_context_url:k,body:"",timestamp:(new Date).toISOString()});app.markdown_to_html(c,b.find(".body"),function(a){$(a).find("a").attr("target",
"_blank")});this.reset_interface(a);this.notify_resize();window.top!==window||CURRENT_USER||this.render_post_comment_message(a,e,h);window._gaq&&_gaq.push(["_trackEvent","Comments","Create comment"])}else e.showErrors(),this.notify_resize()},reset_interface:function(a){var e=a.find('input[name="comment[reason]"]:checked');a=a.find('textarea[name="comment[body]"]');e.prop("checked",!1);a.val("")},notify_resize:function(){this.$el.trigger("genius:resized")}});
(function(){var a=function(){var a={},d=function(c,d,b){c=c.split(".");for(var g=0;g<c.length-1;g++)b[c[g]]||(b[c[g]]={}),b=b[c[g]];b[c[g]]="function"===typeof d?d.isClass?d:function(){return d.apply(a,arguments)}:d};return{extend:function(c,h,b){"function"===typeof c&&(b=h,h=c,c="");c&&(c+=".");h=h.call(a);for(var g in h){var f=c+g,k=h[g],p=b;d(f,k,a);p&&d(f,k,window.filepicker)}},internal:function(c){c.apply(a,arguments)}}}();if(window.filepicker)for(attr in a)window.filepicker[attr]=a[attr];else window.filepicker=
a})();
filepicker.extend("ajax",function(){var a=this,e=function(b,c){var d=[],h;for(h in b){var p=b[h];c&&(h=c+"["+h+"]");var q;switch(a.util.typeOf(p)){case "object":q=e(p,h);break;case "array":q={};for(var m=0;m<p.length;m++)q[m]=p[m];q=e(q,h);break;default:q=h+"="+encodeURIComponent(p)}null!==p&&d.push(q)}return d.join("&")},d=function(){try{return new window.XMLHttpRequest}catch(a){try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(d){return null}}}},c=
function(b,c){b=b||"";var f=c.method?c.method.toUpperCase():"POST",k=c.success||function(){},p=c.error||function(){},q=void 0===c.async?!0:c.async,m=c.data||null,s=void 0===c.processData?!0:c.processData,t=c.headers||{},v=a.util.parseUrl(b),r=window.location.protocol+"//"+window.location.host!==v.origin,z=!1;m&&s&&(m=e(c.data));var x;if(c.xhr)x=c.xhr;else if(x=d(),!x)return c.error("Ajax not allowed"),x;if(r&&window.XDomainRequest&&!("withCredentials"in x))return h(b,c);c.progress&&x.upload&&x.upload.addEventListener("progress",
function(a){a.lengthComputable&&c.progress(Math.round(95*a.loaded/a.total))},!1);x.onreadystatechange=function(){if(4==x.readyState&&!z){c.progress&&c.progress(100);if(200<=x.status&&300>x.status){var b=x.responseText;if(c.json)try{b=a.json.decode(b)}catch(d){w.call(x,"Invalid json: "+b);return}k(b,x.status,x)}else w.call(x,x.responseText);z=!0}};var w=function(a){z||(c.progress&&c.progress(100),z=!0,400==this.status?p("bad_params",this.status,this):403==this.status?p("not_authorized",this.status,
this):404==this.status?p("not_found",this.status,this):r?4==this.readyState&&0===this.status?p("CORS_not_allowed",this.status,this):p("CORS_error",this.status,this):p(a,this.status,this))};x.onerror=w;m&&"GET"==f&&(b+=(-1!=b.indexOf("?")?"&":"?")+m,m=null);x.open(f,b,q);c.json?x.setRequestHeader("Accept","application/json, text/javascript"):x.setRequestHeader("Accept","text/javascript, text/html, application/xml, text/xml, */*");q=t["Content-Type"]||t["content-type"];m&&s&&("POST"==f||"PUT"==f)&&
void 0==q&&x.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8");if(t)for(var B in t)x.setRequestHeader(B,t[B]);x.send(m);return x},h=function(b,c){if(!window.XDomainRequest)return null;var d=c.method?c.method.toUpperCase():"POST",h=c.success||function(){},p=c.error||function(){},q=c.data||{};"http:"==window.location.protocol?b=b.replace("https:","http:"):"https:"==window.location.protocol&&(b=b.replace("http:","https:"));if(c.async)throw new a.FilepickerException("Asyncronous Cross-domain requests are not supported");
"GET"!=d&&"POST"!=d&&(q._method=d,d="POST");!1!==c.processData&&(q=q?e(q):null);q&&"GET"==d&&(b+=(0<=b.indexOf("?")?"&":"?")+q,q=null);b+=(0<=b.indexOf("?")?"&":"?")+"_xdr=true&_cacheBust="+a.util.getId();var m=new window.XDomainRequest;m.onload=function(){var b=m.responseText;c.progress&&c.progress(100);if(c.json)try{b=a.json.decode(b)}catch(d){p("Invalid json: "+b,200,m);return}h(b,200,m)};m.onerror=function(){c.progress&&c.progress(100);p(m.responseText||"CORS_error",this.status||500,this)};m.onprogress=
function(){};m.ontimeout=function(){};m.timeout=3E4;m.open(d,b,!0);m.send(q);return m};return{get:function(a,d){d.method="GET";c(a,d)},post:function(b,d){d.method="POST";b+=(0<=b.indexOf("?")?"&":"?")+"_cacheBust="+a.util.getId();c(b,d)},request:c}});
filepicker.extend("base64",function(){_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(a,e){var d="",c,h,b,g,f,k,p=0;if(e||void 0===e){h=a.replace(/\r\n/g,"\n");b="";for(g=0;g<h.length;g++)c=h.charCodeAt(g),128>c?b+=String.fromCharCode(c):(127<c&&2048>c?b+=String.fromCharCode(c>>6|192):(b+=String.fromCharCode(c>>12|224),b+=String.fromCharCode(c>>6&63|128)),b+=String.fromCharCode(c&63|128));a=b}for(;p<a.length;)c=a.charCodeAt(p),h=a.charCodeAt(p+1),
b=a.charCodeAt(p+2),p+=3,g=c>>2,c=(c&3)<<4|h>>4,f=(h&15)<<2|b>>6,k=b&63,isNaN(h)?f=k=64:isNaN(b)&&(k=64),d=d+_keyStr.charAt(g)+_keyStr.charAt(c)+_keyStr.charAt(f)+_keyStr.charAt(k);return d},decode:function(a,e){e=e||void 0===e;var d="",c,h,b,g,f,k=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");k<a.length;)c=_keyStr.indexOf(a.charAt(k)),h=_keyStr.indexOf(a.charAt(k+1)),g=_keyStr.indexOf(a.charAt(k+2)),f=_keyStr.indexOf(a.charAt(k+3)),k+=4,c=c<<2|h>>4,h=(h&15)<<4|g>>2,b=(g&3)<<6|f,d+=String.fromCharCode(c),
64!=g&&(d+=String.fromCharCode(h)),64!=f&&(d+=String.fromCharCode(b));if(e){g="";for(k=c1=c2=f=0;f<d.length;)k=d.charCodeAt(f),128>k?(g+=String.fromCharCode(k),f++):191<k&&224>k?(c2=d.charCodeAt(f+1),g+=String.fromCharCode((k&31)<<6|c2&63),f+=2):(c2=d.charCodeAt(f+1),c3=d.charCodeAt(f+2),g+=String.fromCharCode((k&15)<<12|(c2&63)<<6|c3&63),f+=3);d=g}return d}}},!0);
filepicker.extend("browser",function(){return{isIOS:function(){return!!(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))},isAndroid:function(){return!!navigator.userAgent.match(/Android/i)},isIE7:function(){return!!navigator.userAgent.match(/MSIE 7\.0/i)}}});
filepicker.extend("comm",function(){var a=this,e=function(c){c.origin==a.urls.BASE&&(c=a.json.parse(c.data),a.handlers.run(c))},d=!1;return{openChannel:function(){if(void 0===window.frames.filepicker_comm_iframe){if(!d)if(d=!0,window.addEventListener)window.addEventListener("message",e,!1);else if(window.attachEvent)window.attachEvent("onmessage",e);else throw new a.FilepickerException("Unsupported browser");var c;c=document.createElement("iframe");c.id=c.name="filepicker_comm_iframe";c.src=a.urls.COMM;
c.style.display="none";document.body.appendChild(c)}},closeChannel:function(){if(window.removeEventListener)window.removeEventListener("message",e,!1);else if(window.attachEvent)window.detachEvent("onmessage",e);else throw new a.FilepickerException("Unsupported browser");if(d){d=!1;for(var c=document.getElementsByName("filepicker_comm_iframe"),h=0;h<c.length;h++)c[h].parentNode.removeChild(c[h]);try{delete window.frames.filepicker_comm_iframe}catch(b){}}}}});
filepicker.extend("comm_fallback",function(){var a=this,e="",d=function(){c()},c=function(){if(void 0===window.frames.host_comm_iframe){var c;c=document.createElement("iframe");c.id=c.name="host_comm_iframe";e=c.src=a.urls.constructHostCommFallback();c.style.display="none";var d=function(){e=c.contentWindow.location.href;if(void 0===window.frames.filepicker_comm_iframe){var d;d=document.createElement("iframe");d.id=d.name="filepicker_comm_iframe";d.src=a.urls.FP_COMM_FALLBACK+"?host_url="+encodeURIComponent(e);
d.style.display="none";document.body.appendChild(d)}h||(h=!0,b=window.setInterval(f,200))};c.attachEvent?c.attachEvent("onload",d):c.onload=d;document.body.appendChild(c)}},h=!1,b=void 0,g="",f=function(){var b=window.frames.filepicker_comm_iframe;if(b&&(b=b.frames.host_comm_iframe)&&((b=b.location.hash)&&"#"==b.charAt(0)&&(b=b.substr(1)),b!==g&&(g=b))){var c;try{c=a.json.parse(b)}catch(d){}c&&a.handlers.run(c)}},k=function(){window.clearInterval(b);if(h){h=!1;for(var a=document.getElementsByName("filepicker_comm_iframe"),
c=0;c<a.length;c++)a[c].parentNode.removeChild(a[c]);try{delete window.frames.filepicker_comm_iframe}catch(d){}a=document.getElementsByName("host_comm_iframe");for(c=0;c<a.length;c++)a[c].parentNode.removeChild(a[c]);try{delete window.frames.host_comm_iframe}catch(e){}}},p=!("postMessage"in window);p&&(a.comm={openChannel:d,closeChannel:k});return{openChannel:d,closeChannel:k,isEnabled:p}});
filepicker.extend("conversions",function(){var a=this,e={width:"number",height:"number",fit:"string",format:"string",watermark:"string",watermark_size:"number",watermark_position:"string",align:"string",crop:"string or array",quality:"number",text:"string",text_font:"string",text_size:"number",text_color:"string",text_align:"string",text_padding:"number",policy:"string",signature:"string",storeLocation:"string",storePath:"string"},d=function(c){var d,b;for(b in c){d=!1;for(var g in e)if(b==g&&(d=
!0,-1===e[g].indexOf(a.util.typeOf(c[b]))))throw new a.FilepickerException("Conversion parameter "+b+" is not the right type: "+c[b]+". Should be a "+e[g]);if(!d)throw new a.FilepickerException("Conversion parameter "+b+" is not a valid parameter.");}};return{convert:function(c,e,b,g,f){d(e);e.crop&&a.util.isArray(e.crop)&&(e.crop=e.crop.join(","));a.ajax.post(c+"/convert",{data:e,json:!0,success:function(c){b(a.util.standardizeFPFile(c))},error:function(b,c,d){"not_found"==b?g(new a.errors.FPError(141)):
"bad_params"==b?g(new a.errors.FPError(142)):"not_authorized"==b?g(new a.errors.FPError(403)):g(new a.errors.FPError(143))},progress:f})}}});filepicker.extend("cookies",function(){var a=this,e=function(d){return function(c){"ThirdPartyCookies"===c.type&&(a.cookies.THIRD_PARTY_COOKIES=!!c.payload,d&&"function"===typeof d&&d(!!c.payload))}};return{checkThirdParty:function(d){d=e(d);a.handlers.attach("cookies",d);a.comm.openChannel()}}});
filepicker.extend("dragdrop",function(){var a=this,e=function(){return(!!window.FileReader||0<=navigator.userAgent.indexOf("Safari"))&&"draggable"in document.createElement("span")};return{enabled:e,makeDropPane:function(d,c){if(!d)throw new a.FilepickerException("No DOM element found to create drop pane");if(d.jquery){if(0===d.length)throw new a.FilepickerException("No DOM element found to create drop pane");d=d[0]}if(!e())return a.util.console.error("Your browser doesn't support drag-drop functionality"),
!1;c=c||{};var h=c.dragEnter||function(){},b=c.dragLeave||function(){},g=c.onStart||function(){},f=c.onSuccess||function(){},k=c.onError||function(){},p=c.onProgress||function(){},q=c.mimetypes;q||(q=c.mimetype?[c.mimetype]:["*/*"]);"string"==a.util.typeOf(q)&&(q=q.split(","));var m=c.extensions;m||c.extension&&(m=[c.extensions]);"string"==a.util.typeOf(m)&&(m=m.split(","));d.addEventListener("dragenter",function(a){h();a.stopPropagation();a.preventDefault();return!1},!1);d.addEventListener("dragleave",
function(a){b();a.stopPropagation();a.preventDefault();return!1},!1);d.addEventListener("dragover",function(a){a.preventDefault();return!1},!1);d.addEventListener("drop",function(b){b.stopPropagation();b.preventDefault();var c,d,e;if(b.dataTransfer.items)for(d=b.dataTransfer.items,c=0;c<d.length;c++)if((e=d[c]&&d[c].webkitGetAsEntry?d[c].webkitGetAsEntry():void 0)&&e.isDirectory){k("WrongType","Uploading a folder is not allowed");return}b=b.dataTransfer.files;d=b.length;if(w(b))for(g(b),c=0;c<b.length;c++)a.store(b[c],
v(c,d),r,z(c,d))});var s={},t=[],v=function(a,b){return function(d){c.multiple?(t.push(d),t.length==b?(f(t),t=[]):(s[a]=100,x(b))):f([d])}},r=function(a){k("UploadError",a.toString())},z=function(a,b){return function(c){s[a]=c;x(b)}},x=function(a){var b=0,c;for(c in s)b+=s[c];p(b/a)},w=function(b){if(0<b.length){if(1<b.length&&!c.multiple)return k("TooManyFiles","Only one file at a time"),!1;for(var d,e,f,g=0;g<b.length;g++){d=!1;e=b[g];f=e.name||e.fileName||'"Unknown file"';for(var h=0;h<q.length;h++){var p=
a.mimetypes.getMimetype(e);d=d||a.mimetypes.matchesMimetype(p,q[h])}if(!d)return k("WrongType",f+" isn't the right type of file"),!1;if(m){d=!1;for(h=0;h<m.length;h++)d=d||a.util.endsWith(f,m[h]);if(!d)return k("WrongType",f+" isn't the right type of file"),!1}if(e.size&&c.maxSize&&e.size>c.maxSize)return k("WrongSize",f+" is too large ("+e.size+" Bytes)"),!1}return!0}k("NoFilesFound","No files uploaded");return!1};return!0}}});
filepicker.extend("errors",function(){var a=this,e=function(a){if(this===window)return new e(a);this.code=a;filepicker.debug?(a=filepicker.error_map[this.code],this.message=a.message,this.moreInfo=a.moreInfo,this.toString=function(){return"FPError "+this.code+": "+this.message+". For help, see "+this.moreInfo}):this.toString=function(){return"FPError "+this.code+". Include filepicker_debug.js for more info"};return this};e.isClass=!0;return{FPError:e,handleError:function(d){filepicker.debug&&a.util.console.error(d.toString())}}},
!0);
filepicker.extend("exporter",function(){var a=this,e=function(c){if(c.mimetype&&c.extension)throw a.FilepickerException("Error: Cannot pass in both mimetype and extension parameters to the export function");c.services&&!a.util.isArray(c.services)?c.services=[c.services]:c.service&&(c.services=[c.service]);if(c.services)for(var b=0;b<c.services.length;b++){var d=(""+c.services[b]).replace(" ",""),e=a.services[d];c.services[b]=void 0===e?d:e}c.openTo&&(c.openTo=a.services[c.openTo]||c.openTo);a.util.setDefault(c,"container",
"modal")},d=function(c,b){return function(d){if("filepickerUrl"===d.type){if(d.error)a.util.console.error(d.error),b(a.errors.FPError(132));else{var e={};e.url=d.payload.url;e.filename=d.payload.data.filename;e.mimetype=d.payload.data.type;e.size=d.payload.data.size;e.isWriteable=!0;c(e)}a.modal.close()}}},c=function(h,b,g,f){e(b);if(b.debug)setTimeout(function(){g({url:"https://www.filepicker.io/api/file/-nBq2onTSemLBxlcBWn1",filename:"test.png",mimetype:"image/png",size:58979})},1);else if(void 0===
a.cookies.THIRD_PARTY_COOKIES)a.cookies.checkThirdParty(function(){c(h,b,g,f)});else{var k=a.util.getId(),p=!1;"modal"==b.container&&(b.mobile||a.window.shouldForce())&&(b.container="window");a.window.open(b.container,a.urls.constructExportUrl(h,b,k),function(){p||(p=!0,f(a.errors.FPError(131)))});a.handlers.attach(k,d(function(a){p=!0;g(a)},function(a){p=!0;f(a)}))}};return{createExporter:c}});
filepicker.extend("files",function(){var a=this,e=function(c,b,d,e,k){!0!==b.cache&&(b._cacheBust=a.util.getId());a.ajax.get(c,{data:b,headers:{"X-NO-STREAM":!0},success:d,error:function(b,c,d){"CORS_not_allowed"==b?e(new a.errors.FPError(113)):"CORS_error"==b?e(new a.errors.FPError(114)):"not_found"==b?e(new a.errors.FPError(115)):"bad_params"==b?e(new a.errors.FPError(400)):"not_authorized"==b?e(new a.errors.FPError(403)):e(new a.errors.FPError(118))},progress:k})},d=function(d,b,e,f,k){a.util.setDefault(b,
"storage","S3");b.filename||(b.filename=d.name||d.fileName);c(d,a.urls.constructStoreUrl(b),function(b){e(a.util.standardizeFPFile(b))},function(b,c,d){"not_found"==b?f(new a.errors.FPError(121)):"bad_params"==b?f(new a.errors.FPError(122)):"not_authorized"==b?f(new a.errors.FPError(403)):(a.util.console.error(b),f(new a.errors.FPError(123)))},k)},c=function(c,b,d,e,k){c.files&&(c=c.files[0]);window.FormData&&window.XMLHttpRequest?(data=new FormData,data.append("fileUpload",c),a.ajax.post(b,{json:!0,
processData:!1,data:data,success:d,error:e,progress:k})):a.iframeAjax.post(b,{data:c,json:!0,success:d,error:e})};return{readFromUrl:e,readFromFile:function(c,b,d,e,k){if(window.File&&window.FileReader&&window.FileList&&window.Blob){var p=!!b.base64encode,q=!!b.asText,m=new FileReader;m.onprogress=function(a){a.lengthComputable&&k(Math.round(a.loaded/a.total*100))};m.onload=function(b){k(100);p?d(a.base64.encode(b.target.result,q)):d(b.target.result)};m.onerror=function(b){switch(b.target.error.code){case b.target.error.NOT_FOUND_ERR:e(new a.errors.FPError(115));
break;case b.target.error.NOT_READABLE_ERR:e(new a.errors.FPError(116));break;case b.target.error.ABORT_ERR:e(new a.errors.FPError(117));break;default:e(new a.errors.FPError(118))}};q||!m.readAsBinaryString?m.readAsText(c):m.readAsBinaryString(c)}else k(10),a.files.storeFile(c,{},function(c){k(50);a.files.readFromFPUrl(c.url,b,d,e,function(a){k(50+a/2)})},e,function(a){k(a/2)})},readFromFPUrl:function(c,b,d,f,k){var p=void 0===b.base64encode;p&&(b.base64encode=!0);b.base64encode=!1!==b.base64encode;
e.call(this,c,b,function(c){p&&(c=a.base64.decode(c,!!b.asText));d(c)},f,k)},writeDataToFPUrl:function(c,b,d,e,k,p){var q=d.mimetype||"text/plain";a.ajax.post(a.urls.constructWriteUrl(c,d),{headers:{"Content-Type":q},data:b,processData:!1,json:!0,success:function(b){e(a.util.standardizeFPFile(b))},error:function(b,c,d){"not_found"==b?k(new a.errors.FPError(121)):"bad_params"==b?k(new a.errors.FPError(122)):"not_authorized"==b?k(new a.errors.FPError(403)):k(new a.errors.FPError(123))},progress:p})},
writeFileToFPUrl:function(d,b,e,f,k,p){e.mimetype=b.type;c(b,a.urls.constructWriteUrl(d,e),function(b){f(a.util.standardizeFPFile(b))},function(b,c,d){"not_found"==b?k(new a.errors.FPError(121)):"bad_params"==b?k(new a.errors.FPError(122)):"not_authorized"==b?k(new a.errors.FPError(403)):k(new a.errors.FPError(123))},p)},writeFileInputToFPUrl:function(d,b,e,f,k,p){c(b,a.urls.constructWriteUrl(d,e),function(b){f(a.util.standardizeFPFile(b))},function(b,c,d){"not_found"==b?k(new a.errors.FPError(121)):
"bad_params"==b?k(new a.errors.FPError(122)):"not_authorized"==b?k(new a.errors.FPError(403)):k(new a.errors.FPError(123))},p)},writeUrlToFPUrl:function(c,b,d,e,k,p){a.ajax.post(a.urls.constructWriteUrl(c,d),{data:{url:b},json:!0,success:function(b){e(a.util.standardizeFPFile(b))},error:function(b,c,d){"not_found"==b?k(new a.errors.FPError(121)):"bad_params"==b?k(new a.errors.FPError(122)):"not_authorized"==b?k(new a.errors.FPError(403)):k(new a.errors.FPError(123))},progress:p})},storeFileInput:function(c,
b,e,f,k){if(c.files)0===c.files.length?f(new a.errors.FPError(115)):d(c.files[0],b,e,f,k);else{a.util.setDefault(b,"storage","S3");b.filename||(b.filename=c.value.replace("C:\\fakepath\\","")||c.name);var p=c.name;c.name="fileUpload";a.iframeAjax.post(a.urls.constructStoreUrl(b),{data:c,processData:!1,json:!0,success:function(b){c.name=p;e(a.util.standardizeFPFile(b))},error:function(b,c,d){"not_found"==b?f(new a.errors.FPError(121)):"bad_params"==b?f(new a.errors.FPError(122)):"not_authorized"==
b?f(new a.errors.FPError(403)):f(new a.errors.FPError(123))}})}},storeFile:d,storeUrl:function(c,b,d,e,k){a.util.setDefault(b,"storage","S3");a.ajax.post(a.urls.constructStoreUrl(b),{data:{url:c},json:!0,success:function(b){d(a.util.standardizeFPFile(b))},error:function(b,c,d){"not_found"==b?e(new a.errors.FPError(151)):"bad_params"==b?e(new a.errors.FPError(152)):"not_authorized"==b?e(new a.errors.FPError(403)):e(new a.errors.FPError(153))},progress:k})},storeData:function(c,b,d,e,k){a.util.setDefault(b,
"storage","S3");a.util.setDefault(b,"mimetype","text/plain");a.ajax.post(a.urls.constructStoreUrl(b),{headers:{"Content-Type":b.mimetype},data:c,processData:!1,json:!0,success:function(b){d(a.util.standardizeFPFile(b))},error:function(b,c,d){"not_found"==b?e(new a.errors.FPError(121)):"bad_params"==b?e(new a.errors.FPError(122)):"not_authorized"==b?e(new a.errors.FPError(403)):e(new a.errors.FPError(123))},progress:k})},stat:function(c,b,d,e){var k=["uploaded","modified","created"];!0!==b.cache&&
(b._cacheBust=a.util.getId());a.ajax.get(c+"/metadata",{json:!0,data:b,success:function(a){for(var b=0;b<k.length;b++)a[k[b]]&&(a[k[b]]=new Date(a[k[b]]));d(a)},error:function(b,c,d){"not_found"==b?e(new a.errors.FPError(161)):"bad_params"==b?e(new a.errors.FPError(400)):"not_authorized"==b?e(new a.errors.FPError(403)):e(new a.errors.FPError(162))}})},remove:function(c,b,d,e){b.key=a.apikey;a.ajax.post(c+"/remove",{data:b,success:function(a){d()},error:function(b,c,d){"not_found"==b?e(new a.errors.FPError(171)):
"bad_params"==b?e(new a.errors.FPError(400)):"not_authorized"==b?e(new a.errors.FPError(403)):e(new a.errors.FPError(172))}})}}});filepicker.extend("handlers",function(){var a={};return{attach:function(e,d){a.hasOwnProperty(e)?a[e].push(d):a[e]=[d];return d},detach:function(e,d){var c=a[e];if(c)if(d){for(var h=0;h<c.length;h++)if(c[h]===d){c.splice(h,1);break}0===c.length&&delete a[e]}else delete a[e]},run:function(e){var d=e.id;if(a.hasOwnProperty(d)){for(var d=a[d],c=0;c<d.length;c++)d[c](e);return!0}return!1}}});
filepicker.extend("iframeAjax",function(){var a=this,e=[],d=!1,c=function(c,f){if(d)e.push({url:c,options:f});else{c+=(0<=c.indexOf("?")?"&":"?")+"_cacheBust="+a.util.getId();c+="&Content-Type=text%2Fhtml";a.comm.openChannel();var k;try{k=document.createElement('<iframe name="ajax_iframe">')}catch(p){k=document.createElement("iframe")}k.id=k.name="ajax_iframe";k.style.display="none";var q=function(){d=!1};k.attachEvent?(k.attachEvent("onload",q),k.attachEvent("onerror",q)):k.onerror=k.onload=q;k.id=
"ajax_iframe";k.name="ajax_iframe";k.style.display="none";k.onerror=k.onload=function(){d=!1};document.body.appendChild(k);a.handlers.attach("upload",h(f));var m=document.createElement("form");m.method=f.method||"GET";m.action=c;m.target="ajax_iframe";k=f.data;if(a.util.isFileInputElement(k)||a.util.isFile(k))m.encoding=m.enctype="multipart/form-data";document.body.appendChild(m);if(a.util.isFile(k)){k=b(k);if(!k)throw a.FilepickerException("Couldn't find corresponding file input.");k={fileUpload:k}}else a.util.isFileInputElement(k)?
(q=k,k={},k.fileUpload=q):k&&a.util.isElement(k)&&"INPUT"==k.tagName?(q=k,k={},k[q.name]=q):!1!==f.processData&&(k={data:k});k.format="iframe";var s={},t;for(t in k)if(q=k[t],a.util.isElement(q)&&"INPUT"==q.tagName)s[t]={par:q.parentNode,sib:q.nextSibling,name:q.name,input:q,focused:q==document.activeElement},q.name=t,m.appendChild(q);else{var v=document.createElement("input");v.name=t;v.value=q;m.appendChild(v)}d=!0;window.setTimeout(function(){m.submit();for(var a in s){var b=s[a];b.par.insertBefore(b.input,
b.sib);b.input.name=b.name;b.focused&&b.input.focus()}m.parentNode.removeChild(m)},1)}},h=function(b){var f=b.success||function(){},h=b.error||function(){};return function(b){"Upload"===b.type&&(d=!1,b=b.payload,b.error?h(b.error):f(b),a.handlers.detach("upload"),0<e.length&&(b=e.shift(),c(b.url,b.options)))}},b=function(a){for(var b=document.getElementsByTagName("input"),c=0;c<b.length;c++){var d=b[0];if("file"==d.type&&d.files&&d.files.length)for(var e=0;e<d.files.length;e++)if(d.files[e]===a)return d}return null};
return{get:function(a,b){b.method="GET";c(a,b)},post:function(b,d){d.method="POST";b+=(0<=b.indexOf("?")?"&":"?")+"_cacheBust="+a.util.getId();c(b,d)},request:c}});
filepicker.extend("json",function(){var a=this,e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},d=function(a){return e[a]||"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},c=function(a){a=a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");return/^[\],:{}\s]*$/.test(a)},h=function(b){if(window.JSON&&window.JSON.stringify)return window.JSON.stringify(b);
b&&b.toJSON&&(b=b.toJSON());var c=[];switch(a.util.typeOf(b)){case "string":return'"'+b.replace(/[\x00-\x1f\\"]/g,d)+'"';case "array":for(var e=0;e<b.length;e++)c.push(h(b[e]));return"["+c+"]";case "object":case "hash":for(var p in b)(e=h(b[p]))&&c.push(h(p)+":"+e);return"{"+c+"}";case "number":case "boolean":return""+b;case "null":return"null";default:return"null"}},b=function(b,d){if(!b||"string"!=a.util.typeOf(b))return null;if(window.JSON&&window.JSON.parse)return window.JSON.parse(b);if(d&&!c(b))throw Error("JSON could not decode the input; security is enabled and the value is not secure.");
return eval("("+b+")")};return{validate:c,encode:h,stringify:h,decode:b,parse:b}});
filepicker.extend(function(){var a=this;a.API_VERSION="v1";var e=function(a){this.text=a;this.toString=function(){return"FilepickerException: "+this.text};return this};e.isClass=!0;var d=function(){if(!a.apikey)throw new a.FilepickerException("API Key not found");},c=function(b,c,d,e,h){h(10);a.store(b,function(b){h(50);a.read(b,c,d,e,function(a){h(50+a/2)})},e)},h=function(b,c,e,h){d();"function"===typeof c&&(h=e,e=c,c={});c=c?a.util.clone(c):{};e=e||function(){};h=h||a.errors.handleError;var q;
if("string"==typeof b&&a.util.isUrl(b))q=b;else if(b.url)q=b.url,c.mimetype||c.extension||(c.mimetype=b.mimetype),c.suggestedFilename||(c.suggestedFilename=b.filename);else throw new a.FilepickerException("Invalid file to export: "+b+". Not a valid url or FPFile object. You may want to use filepicker.store() to get an FPFile to export");a.exporter.createExporter(q,c,e,h)},b=function(b,c,e,h){d();"function"===typeof c&&(h=e,e=c,c={});c=c||{};e=e||function(){};h=h||a.errors.handleError;if(!a.util.isFPUrl(b))if(b.url)b=
b.url;else throw new a.FilepickerException("Invalid file to get metadata for: "+b+". Not a filepicker url or FPFile object.");a.files.stat(b,c,e,h)};return{setKey:function(b){a.apikey=b},pick:function(b,c,e){d();"function"===typeof b&&(e=c,c=b,b={});b=b||{};e=e||a.errors.handleError;a.picker.createPicker(b,c||function(){},e,!1)},pickMultiple:function(b,c,e){d();"function"===typeof b&&(e=c,c=b,b={});b=b||{};e=e||a.errors.handleError;a.picker.createPicker(b,c||function(){},e,!0)},pickAndStore:function(b,
c,e,h){d();if(!b||!c||"function"===typeof b||"function"===typeof b)throw new a.FilepickerException("Not all required parameters given, missing picker or store options");h=h||a.errors.handleError;var q=!!b.multiple;b=b?a.util.clone(b):{};b.storeLocation=c.location||"S3";b.storePath=c.path;if(q&&b.storePath&&"/"!=b.storePath.charAt(b.storePath.length-1))throw new a.FilepickerException("pickAndStore with multiple files requires a path that ends in '/'");c=e;q||(c=function(a){e([a])});a.picker.createPicker(b,
c,h,q)},read:function(b,e,h,p,q){d();if(!b)throw new a.FilepickerException("No input given - nothing to read!");"function"===typeof e&&(q=p,p=h,h=e,e={});e=e||{};h=h||function(){};p=p||a.errors.handleError;q=q||function(){};if("string"==typeof b)a.util.isFPUrl(b)?a.files.readFromFPUrl(b,e,h,p,q):a.files.readFromUrl(b,e,h,p,q);else if(a.util.isFileInputElement(b))b.files?0===b.files.length?p(new a.errors.FPError(115)):a.files.readFromFile(b.files[0],e,h,p,q):c(b,e,h,p,q);else if(a.util.isFile(b))a.files.readFromFile(b,
e,h,p,q);else if(b.url)a.files.readFromFPUrl(b.url,e,h,p,q);else throw new a.FilepickerException("Cannot read given input: "+b+". Not a url, file input, DOM File, or FPFile object.");},write:function(b,c,e,h,q,m){d();if(!b)throw new a.FilepickerException("No fpfile given - nothing to write to!");if(void 0===c||null===c)throw new a.FilepickerException("No input given - nothing to write!");"function"===typeof e&&(m=q,q=h,h=e,e={});e=e||{};h=h||function(){};q=q||a.errors.handleError;m=m||function(){};
if(!a.util.isFPUrl(b))if(b.url)b=b.url;else throw new a.FilepickerException("Invalid file to write to: "+b+". Not a filepicker url or FPFile object.");if("string"==typeof c)a.files.writeDataToFPUrl(b,c,e,h,q,m);else if(a.util.isFileInputElement(c))c.files?0===c.files.length?q(new a.errors.FPError(115)):a.files.writeFileToFPUrl(b,c.files[0],e,h,q,m):a.files.writeFileInputToFPUrl(b,c,e,h,q,m);else if(a.util.isFile(c))a.files.writeFileToFPUrl(b,c,e,h,q,m);else if(c.url)a.files.writeUrlToFPUrl(b,c.url,
e,h,q,m);else throw new a.FilepickerException("Cannot read from given input: "+c+". Not a string, file input, DOM File, or FPFile object.");},writeUrl:function(b,c,e,h,q,m){d();if(!b)throw new a.FilepickerException("No fpfile given - nothing to write to!");if(void 0===c||null===c)throw new a.FilepickerException("No input given - nothing to write!");"function"===typeof e&&(m=q,q=h,h=e,e={});e=e||{};h=h||function(){};q=q||a.errors.handleError;m=m||function(){};if(!a.util.isFPUrl(b))if(b.url)b=b.url;
else throw new a.FilepickerException("Invalid file to write to: "+b+". Not a filepicker url or FPFile object.");a.files.writeUrlToFPUrl(b,c,e,h,q,m)},"export":h,exportFile:h,store:function(b,c,e,h,q){d();"function"===typeof c&&(q=h,h=e,e=c,c={});c=c?a.util.clone(c):{};e=e||function(){};h=h||a.errors.handleError;q=q||function(){};if("string"==typeof b)a.files.storeData(b,c,e,h,q);else if(a.util.isFileInputElement(b))b.files?0===b.files.length?h(new a.errors.FPError(115)):a.files.storeFile(b.files[0],
c,e,h,q):a.files.storeFileInput(b,c,e,h,q);else if(a.util.isFile(b))a.files.storeFile(b,c,e,h,q);else if(b.url)c.filename||(c.filename=b.filename),a.files.storeUrl(b.url,c,e,h,q);else throw new a.FilepickerException("Cannot store given input: "+b+". Not a string, file input, DOM File, or FPFile object.");},storeUrl:function(b,c,e,h,q){d();"function"===typeof c&&(q=h,h=e,e=c,c={});c=c||{};h=h||a.errors.handleError;a.files.storeUrl(b,c,e||function(){},h,q||function(){})},stat:b,metadata:b,remove:function(b,
c,e,h){d();"function"===typeof c&&(h=e,e=c,c={});c=c||{};e=e||function(){};h=h||a.errors.handleError;if(!a.util.isFPUrl(b))if(b.url)b=b.url;else throw new a.FilepickerException("Invalid file to remove: "+b+". Not a filepicker url or FPFile object.");a.files.remove(b,c,e,h)},convert:function(b,c,e,h,q,m){d();if(!b)throw new a.FilepickerException("No fpfile given - nothing to convert!");"function"===typeof e&&(m=q,q=h,h=e,e={});options=c?a.util.clone(c):{};e=e||{};h=h||function(){};q=q||a.errors.handleError;
m=m||function(){};e.location&&(options.storeLocation=e.location);e.path&&(options.storePath=e.path);if(a.util.isFPUrl(b))c=b;else if(b.url){if(c=b.url,!a.mimetypes.matchesMimetype(b.mimetype,"image/*")){q(new a.errors.FPError(142));return}}else throw new a.FilepickerException("Invalid file to convert: "+b+". Not a filepicker url or FPFile object.");a.conversions.convert(c,options,h,q,m)},constructWidget:function(b){return a.widgets.constructWidget(b)},makeDropPane:function(b,c){return a.dragdrop.makeDropPane(b,
c)},FilepickerException:e}},!0);
filepicker.extend("mimetypes",function(){var a=this,e={".stl":"applicaiton/sla",".hbs":"text/html",".pdf":"application/pdf",".jpg":"image/jpeg",".jpeg":"image/jpeg",".jpe":"image/jpeg",".imp":"application/x-impressionist"},d="application/octet-stream application/download application/force-download octet/stream application/unknown application/x-download application/x-msdownload application/x-secure-download".split(" ");return{getMimetype:function(a){if(a.type){for(var h=a.type,h=h.toLowerCase(),b=
!1,g=0;g<d.length;g++)b=b||h==d[g];if(!b)return a.type}return(h=(a.name||a.fileName).match(/\.\w*$/))?e[h[0].toLowerCase()]||"":a.type?a.type:""},matchesMimetype:function(c,e){if(!c)return"*/*"==e;c=a.util.trim(c).toLowerCase();e=a.util.trim(e).toLowerCase();for(var b=0;b<d.length;b++)if(c==d[b])return!0;test_parts=c.split("/");against_parts=e.split("/");return"*"==against_parts[0]?!0:against_parts[0]!=test_parts[0]?!1:"*"==against_parts[1]?!0:against_parts[1]==test_parts[1]}}});
filepicker.extend("modal",function(){var a=this,e=function(d,c){c=!!c;return function(){if(!a.uploading||c||window.confirm("You are currently uploading. If you choose 'OK', the window will close and your upload will not finish. Do you want to stop uploading and close the window?")){a.uploading=!1;var e=document.getElementById("filepicker_shade");e&&document.body.removeChild(e);(e=document.getElementById("filepicker_dialog_container"))&&document.body.removeChild(e);try{delete window.frames[a.window.WINDOW_NAME]}catch(b){}d&&
d()}}};return{generate:function(d,c){var h=document.createElement("div");h.id="filepicker_shade";h.style.position="fixed";h.style.top=0;h.style.bottom=0;h.style.right=0;h.style.left=0;h.style.backgroundColor="#000000";h.style.opacity="0.5";h.style.filter="alpha(opacity=50)";h.style.zIndex=1E4;h.onclick=e(c);var b=document.createElement("div");b.id="filepicker_dialog_container";b.style.position="fixed";b.style.padding="10px";b.style.background='#ffffff url("https://www.filepicker.io/static/img/spinner.gif") no-repeat 50% 50%';
b.style.top="10px";b.style.bottom="auto";b.style.right="auto";var g=a.window.getSize(),f=Math.min(g[1]-40,500),k=Math.min(g[0]-40,800);b.style.left=(g[0]-k-40)/2+"px";b.style.height=f+"px";b.style.width=k+"px";b.style.overflow="hidden";b.style.webkitOverflowScrolling="touch";b.style.border="1px solid #999";b.style.webkitBorderRadius="3px";b.style.borderRadius="3px";b.style.margin="0";b.style.webkitBoxShadow="0 3px 7px rgba(0, 0, 0, 0.3)";b.style.boxShadow="0 3px 7px rgba(0, 0, 0, 0.3)";b.style.zIndex=
10001;b.style.boxSizing="content-box";b.style.webkitBoxSizing="content-box";b.style.mozBoxSizing="content-box";g=document.createElement("a");g.appendChild(document.createTextNode("\u00d7"));g.onclick=e(c);g.style.cssFloat="right";g.style.styleFloat="right";g.style.cursor="default";g.style.padding="0 5px 0 0px";g.style.fontSize="1.5em";g.style.color="#555555";g.style.textDecoration="none";f=document.createElement("iframe");f.name=a.window.WINDOW_NAME;f.id=a.window.WINDOW_NAME;k=a.window.getSize();
k=Math.min(k[1]-40,500);f.style.width="100%";f.style.height=k-32+"px";f.style.border="none";f.style.position="relative";f.setAttribute("border",0);f.setAttribute("frameborder",0);f.setAttribute("frameBorder",0);f.setAttribute("marginwidth",0);f.setAttribute("marginheight",0);f.src=d;document.body.appendChild(h);b.appendChild(g);b.appendChild(f);document.body.appendChild(b);return f},close:e(function(){})}});
filepicker.extend("picker",function(){var a=this,e=function(b){var c=function(c,d,e){b[d]?a.util.isArray(b[d])||(b[d]=[b[d]]):b[c]?b[d]=[b[c]]:e&&(b[d]=e)};c("service","services");c("mimetype","mimetypes");c("extension","extensions");if(b.services)for(c=0;c<b.services.length;c++){var d=(""+b.services[c]).replace(" ","");void 0!==a.services[d]&&(d=a.services[d]);b.services[c]=d}if(b.mimetypes&&b.extensions)throw a.FilepickerException("Error: Cannot pass in both mimetype and extension parameters to the pick function");
b.mimetypes||b.extensions||(b.mimetypes=["*/*"]);b.openTo&&(b.openTo=a.services[b.openTo]||b.openTo);a.util.setDefault(b,"container","modal")},d=function(b,c){return function(d){if("filepickerUrl"===d.type){a.uploading=!1;if(d.error)a.util.console.error(d.error),c(a.errors.FPError(102));else{var e={};e.url=d.payload.url;e.filename=d.payload.data.filename;e.mimetype=d.payload.data.type;e.size=d.payload.data.size;d.payload.data.key&&(e.key=d.payload.data.key);e.isWriteable=!0;b(e)}a.modal.close()}}},
c=function(b){b=b||function(){};return function(c){"uploading"===c.type&&(a.uploading=!!c.payload,b(a.uploading))}},h=function(b,c){return function(d){if("filepickerUrl"===d.type){a.uploading=!1;if(d.error)a.util.console.error(d.error),c(a.errors.FPError(102));else{var e=[];a.util.isArray(d.payload)||(d.payload=[d.payload]);for(var h=0;h<d.payload.length;h++){var m={},s=d.payload[h];m.url=s.url;m.filename=s.data.filename;m.mimetype=s.data.type;m.size=s.data.size;s.data.key&&(m.key=s.data.key);m.isWriteable=
!0;e.push(m)}b(e)}a.modal.close()}}},b=function(g,f,k,p){e(g);if(g.debug)setTimeout(function(){f({url:"https://www.filepicker.io/api/file/-nBq2onTSemLBxlcBWn1",filename:"test.png",mimetype:"image/png",size:58979})},1);else if(void 0===a.cookies.THIRD_PARTY_COOKIES)a.cookies.checkThirdParty(function(){b(g,f,k,!!p)});else{var q=a.util.getId(),m=!1,s=function(a){m=!0;f(a)},t=function(a){m=!0;k(a)};"modal"==g.container&&(g.mobile||a.window.shouldForce())&&(g.container="window");a.window.open(g.container,
a.urls.constructPickUrl(g,q,p),function(){m||(m=!0,k(a.errors.FPError(101)))});s=p?h(s,t):d(s,t);a.handlers.attach(q,s);var v=q+"-upload";a.handlers.attach(v,c(function(){a.handlers.detach(v)}))}};return{createPicker:b}});filepicker.extend("services",function(){return{COMPUTER:1,DROPBOX:2,FACEBOOK:3,GITHUB:4,GMAIL:5,IMAGE_SEARCH:6,URL:7,WEBCAM:8,GOOGLE_DRIVE:9,SEND_EMAIL:10,INSTAGRAM:11,FLICKR:12,VIDEO:13,EVERNOTE:14,PICASA:15,WEBDAV:16,FTP:17,ALFRESCO:18,BOX:19,SKYDRIVE:20}},!0);
filepicker.extend("util",function(){var a=/^(http|https)\:.*\/\//i;return{trim:function(a){return a.replace(/^\s+|\s+$/g,"")},parseUrl:function(a){a&&"/"!=a.charAt(0)||(a=window.location.protocol+"//"+window.location.host+a);var d=document.createElement("a");d.href=a;for(var c=-1==d.hostname.indexOf(":")?d.hostname:d.host,h=d.protocol.replace(":",""),b=d.port,g=d.search,f={},k=d.search.replace(/^\?/,"").split("&"),p=k.length,q=0,m;q<p;q++)k[q]&&(m=k[q].split("="),f[m[0]]=m[1]);d={source:a,protocol:h,
host:c,port:b,query:g,params:f,file:(d.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:d.hash.replace("#",""),path:d.pathname.replace(/^([^\/])/,"/$1"),relative:(d.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:d.pathname.replace(/^\//,"").split("/")};d.origin=d.protocol+"://"+d.host+(d.port?":"+d.port:"");return d},isUrl:function(e){return!!e.match(a)},endsWith:function(a,d){return-1!==a.indexOf(d,a.length-d.length)}}});
filepicker.extend("urls",function(){var a=this,e="https://www.filepicker.io";window.filepicker.hostname&&(e=window.filepicker.hostname);var d=e+"/dialog/open/",c=e+"/dialog/save/",h=e+"/api/store/";return{BASE:e,COMM:e+"/dialog/comm_iframe/",FP_COMM_FALLBACK:e+"/dialog/comm_hash_iframe/",STORE:h,PICK:d,EXPORT:c,constructPickUrl:function(b,c,e){return d+"?key="+a.apikey+"&id="+c+"&referrer="+window.location.hostname+"&iframe="+("window"!=b.container)+"&version="+a.API_VERSION+(b.services?"&s="+b.services.join(","):
"")+(e?"&multi="+!!e:"")+(void 0!==b.mimetypes?"&m="+b.mimetypes.join(","):"")+(void 0!==b.extensions?"&ext="+b.extensions.join(","):"")+(void 0!==b.openTo?"&loc="+b.openTo:"")+(b.maxSize?"&maxsize="+b.maxSize:"")+(b.signature?"&signature="+b.signature:"")+(b.policy?"&policy="+b.policy:"")+(void 0!==b.mobile?"&mobile="+b.mobile:"")+(b.storeLocation?"&storeLocation="+b.storeLocation:"")+(b.storePath?"&storePath="+b.storePath:"")},constructExportUrl:function(b,d,e){if(0<=b.indexOf("&")||0<=b.indexOf("?"))b=
encodeURIComponent(b);return c+"?url="+b+"&key="+a.apikey+"&id="+e+"&referrer="+window.location.hostname+"&iframe="+("window"!=d.container)+"&version="+a.API_VERSION+(d.services?"&s="+d.services.join(","):"")+(void 0!==d.openTo?"&loc="+d.openTo:"")+(void 0!==d.mimetype?"&m="+d.mimetype:"")+(void 0!==d.extension?"&ext="+d.extension:"")+(void 0!==d.mobile?"&mobile="+d.mobile:"")+(void 0!==d.suggestedFilename?"&defaultSaveasName="+d.suggestedFilename:"")+(d.signature?"&signature="+d.signature:"")+(d.policy?
"&policy="+d.policy:"")},constructWriteUrl:function(a,c){return a+"?nonce=fp"+(c.base64decode?"&base64decode=true":"")+(c.mimetype?"&mimetype="+c.mimetype:"")+(c.signature?"&signature="+c.signature:"")+(c.policy?"&policy="+c.policy:"")},constructStoreUrl:function(b){return h+b.storage+"?key="+a.apikey+(b.base64decode?"&base64decode=true":"")+(b.mimetype?"&mimetype="+b.mimetype:"")+(b.filename?"&filename="+b.filename:"")+(b.path?"&path="+b.path:"")+(b.signature?"&signature="+b.signature:"")+(b.policy?
"&policy="+b.policy:"")},constructHostCommFallback:function(){return a.util.parseUrl(window.location.href).origin+"/404"}}});
filepicker.extend("util",function(){var a=function(a){return a&&"[object Array]"===Object.prototype.toString.call(a)},e=function(a){return a&&"[object File]"===Object.prototype.toString.call(a)},d=function(a){return"object"===typeof HTMLElement?a instanceof HTMLElement:a&&"object"===typeof a&&1===a.nodeType&&"string"===typeof a.nodeName},c=function(a){return function(){if(window.console&&"function"==typeof window.console[a])try{window.console[a].apply(window.console,arguments)}catch(c){alert(Array.prototype.join.call(arguments,
","))}}},h={};h.log=c("log");h.error=c("error");return{isArray:a,isFile:e,isElement:d,isFileInputElement:function(a){return d(a)&&"INPUT"==a.tagName&&"file"==a.type},getId:function(){return(new Date).getTime().toString()},setDefault:function(a,c,d){void 0===a[c]&&(a[c]=d)},typeOf:function(b){return null===b?"null":a(b)?"array":e(b)?"file":typeof b},addOnLoad:function(a){if(window.jQuery)window.jQuery(function(){a()});else if(window.addEventListener)window.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",
a);else if(window.onload){var c=window.onload;window.onload=function(){c();a()}}else window.onload=a},isFPUrl:function(a){return"string"==typeof a&&a.match("www.filepicker.io/api/file/")},console:h,clone:function(a){var c={};for(key in a)c[key]=a[key];return c},standardizeFPFile:function(a){var c={};c.url=a.url;c.filename=a.filename||a.name;c.mimetype=a.mimetype||a.type;c.size=a.size;c.key=a.key||a.s3_key;c.isWriteable=!(!a.isWriteable&&!a.writeable);return c}}});
filepicker.extend("widgets",function(){var a=this,e=function(a,b,c,d){(c=d.getAttribute(c))&&(b[a]=c)},d=function(a,b){var c;if(document.createEvent)c=document.createEvent("Event"),c.initEvent("change",!0,!1),c.fpfile=b?b[0]:void 0,c.fpfiles=b,a.dispatchEvent(c);else if(document.createEventObject)c=document.createEventObject("Event"),c.eventPhase=2,c.currentTarget=c.srcElement=c.target=a,c.fpfile=b?b[0]:void 0,c.fpfiles=b,a.fireEvent("onchange",c);else if(a.onchange)a.onchange(b)},c=function(b){var c=
document.createElement("button");c.setAttribute("type","button");c.innerHTML=b.getAttribute("data-fp-button-text")||b.getAttribute("data-fp-text")||"Pick File";c.className=b.getAttribute("data-fp-button-class")||b.getAttribute("data-fp-class")||b.className;b.style.display="none";var f={};e("container",f,"data-fp-option-container",b);e("maxSize",f,"data-fp-option-maxsize",b);e("mimetype",f,"data-fp-mimetype",b);e("mimetypes",f,"data-fp-mimetypes",b);e("extension",f,"data-fp-extension",b);e("extensions",
f,"data-fp-extensions",b);e("container",f,"data-fp-container",b);e("maxSize",f,"data-fp-maxSize",b);e("openTo",f,"data-fp-openTo",b);e("debug",f,"data-fp-debug",b);e("signature",f,"data-fp-signature",b);e("policy",f,"data-fp-policy",b);e("storeLocation",f,"data-fp-store-location",b);var g=b.getAttribute("data-fp-services");g||(g=b.getAttribute("data-fp-option-services"));if(g){for(var g=g.split(","),h=0;h<g.length;h++)g[h]=a.services[g[h].replace(" ","")];f.services=g}if(g=b.getAttribute("data-fp-service"))f.service=
a.services[g.replace(" ","")];f.mimetypes&&(f.mimetypes=f.mimetypes.split(","));f.extensions&&(f.extensions=f.extensions.split(","));(g=b.getAttribute("data-fp-apikey"))&&a.setKey(g);"true"==(b.getAttribute("data-fp-multiple")||b.getAttribute("data-fp-option-multiple")||"false")?c.onclick=function(){c.blur();a.pickMultiple(f,function(a){for(var c=[],e=0;e<a.length;e++)c.push(a[e].url);b.value=c.join();d(b,a)});return!1}:c.onclick=function(){c.blur();a.pick(f,function(a){b.value=a.url;d(b,[a])});return!1};
b.parentNode.insertBefore(c,b)},h=function(c){var h=document.createElement("div");h.className=c.getAttribute("data-fp-class")||c.className;h.style.padding="1px";c.style.display="none";c.parentNode.insertBefore(h,c);var m=document.createElement("button");m.setAttribute("type","button");m.innerHTML=c.getAttribute("data-fp-button-text")||"Pick File";m.className=c.getAttribute("data-fp-button-class")||"";h.appendChild(m);var k=document.createElement("div");g(k);k.innerHTML=c.getAttribute("data-fp-drag-text")||
"Or drop files here";k.className=c.getAttribute("data-fp-drag-class")||"";h.appendChild(k);var t={};e("container",t,"data-fp-option-container",c);e("maxSize",t,"data-fp-option-maxsize",c);e("mimetype",t,"data-fp-mimetype",c);e("mimetypes",t,"data-fp-mimetypes",c);e("extension",t,"data-fp-extension",c);e("extensions",t,"data-fp-extensions",c);e("container",t,"data-fp-container",c);e("maxSize",t,"data-fp-maxSize",c);e("openTo",t,"data-fp-openTo",c);e("debug",t,"data-fp-debug",c);e("signature",t,"data-fp-signature",
c);e("policy",t,"data-fp-policy",c);e("storeLocation",t,"data-fp-store-location",c);(h=c.getAttribute("data-fp-services"))||(h=c.getAttribute("data-fp-option-services"));if(h){for(var h=h.split(","),v=0;v<h.length;v++)h[v]=a.services[h[v].replace(" ","")];t.services=h}if(h=c.getAttribute("data-fp-service"))t.service=a.services[h.replace(" ","")];t.mimetypes&&(t.mimetypes=t.mimetypes.split(","));t.extensions&&(t.extensions=t.extensions.split(","));(h=c.getAttribute("data-fp-apikey"))&&a.setKey(h);
h="true"==(c.getAttribute("data-fp-multiple")||c.getAttribute("data-fp-option-multiple")||"false");a.dragdrop.enabled()?f(k,h,t,c):k.innerHTML="&nbsp;";k.onclick=h?m.onclick=function(){m.blur();a.pickMultiple(t,function(a){for(var e=[],f=[],g=0;g<a.length;g++)e.push(a[g].url),f.push(a[g].filename);c.value=e.join();b(c,k,f.join(", "));d(c,a)});return!1}:m.onclick=function(){m.blur();a.pick(t,function(a){c.value=a.url;b(c,k,a.filename);d(c,[a])});return!1}},b=function(b,c,e){c.innerHTML=e;c.style.padding=
"2px 4px";c.style.cursor="default";c.style.width="";e=document.createElement("span");e.innerHTML="X";e.style.borderRadius="8px";e.style.fontSize="14px";e.style.cssFloat="right";e.style.padding="0 3px";e.style.color="#600";e.style.cursor="pointer";var f=function(e){e||(e=window.event);e.cancelBubble=!0;e.stopPropagation&&e.stopPropagation();g(c);c.innerHTML=a.dragdrop.enabled?b.getAttribute("data-fp-drag-text")||"Or drop files here":"&nbsp;";b.value="";d(b);return!1};e.addEventListener?e.addEventListener("click",
f,!1):e.attachEvent&&e.attachEvent("onclick",f);c.appendChild(e)},g=function(a){a.style.border="1px dashed #AAA";a.style.display="inline-block";a.style.margin="0 0 0 4px";a.style.borderRadius="3px";a.style.backgroundColor="#F3F3F3";a.style.color="#333";a.style.fontSize="14px";a.style.lineHeight="22px";a.style.padding="2px 4px";a.style.verticalAlign="middle";a.style.cursor="pointer";a.style.overflow="hidden"},f=function(c,e,f,g){var h=c.innerHTML,k;a.dragdrop.makeDropPane(c,{multiple:e,maxSize:f.maxSize,
mimetypes:f.mimetypes,mimetype:f.mimetype,extensions:f.extensions,extension:f.extension,dragEnter:function(){c.innerHTML="Drop to upload";c.style.backgroundColor="#E0E0E0";c.style.border="1px solid #000"},dragLeave:function(){c.innerHTML=h;c.style.backgroundColor="#F3F3F3";c.style.border="1px dashed #AAA"},onError:function(a,b){"TooManyFiles"==a?c.innerHTML=b:"WrongType"==a?c.innerHTML=b:"NoFilesFound"==a?c.innerHTML=b:"UploadError"==a&&(c.innerHTML="Oops! Had trouble uploading.")},onStart:function(a){a=
document.createElement("div");a.style.height=c.offsetHeight-2+"px";a.style.backgroundColor="#0E90D2";a.style.width="2%";a.style.borderRadius="3px";c.style.width=c.offsetWidth+"px";c.style.padding="0";c.style.border="1px solid #AAA";c.style.backgroundColor="#F3F3F3";c.style.boxShadow="inset 0 1px 2px rgba(0, 0, 0, 0.1)";c.innerHTML="";c.appendChild(a);k=a},onProgress:function(a){k&&(k.style.width=a+"%")},onSuccess:function(a){for(var e=[],f=[],h=0;h<a.length;h++)e.push(a[h].url),f.push(a[h].filename);
g.value=e.join();b(g,c,f.join(", "));d(g,a)}})},k=function(b){b.onclick=function(){var c=b.getAttribute("data-fp-url");if(!c)return!0;var d={};e("container",d,"data-fp-option-container",b);e("suggestedFilename",d,"data-fp-option-defaultSaveasName",b);e("container",d,"data-fp-container",b);e("suggestedFilename",d,"data-fp-suggestedFilename",b);e("mimetype",d,"data-fp-mimetype",b);e("extension",d,"data-fp-extension",b);var f=b.getAttribute("data-fp-services");f||(f=b.getAttribute("data-fp-option-services"));
if(f){for(var f=f.split(","),g=0;g<f.length;g++)f[g]=a.services[f[g].replace(" ","")];d.services=f}if(f=b.getAttribute("data-fp-service"))d.service=a.services[f.replace(" ","")];(apikey=b.getAttribute("data-fp-apikey"))&&a.setKey(apikey);a.exportFile(c,d);return!1}};return{constructPickWidget:c,constructDragWidget:h,constructExportWidget:k,buildWidgets:function(){if(document.querySelectorAll){var a,b=document.querySelectorAll('input[type="filepicker"]');for(a=0;a<b.length;a++)c(b[a]);b=document.querySelectorAll('input[type="filepicker-dragdrop"]');
for(a=0;a<b.length;a++)h(b[a]);var b=[],d=document.querySelectorAll("button[data-fp-url]");for(a=0;a<d.length;a++)b.push(d[a]);d=document.querySelectorAll("a[data-fp-url]");for(a=0;a<d.length;a++)b.push(d[a]);d=document.querySelectorAll('input[type="button"][data-fp-url]');for(a=0;a<d.length;a++)b.push(d[a]);for(a=0;a<b.length;a++)k(b[a])}},constructWidget:function(a){a.jquery&&(a=a[0]);var b=a.getAttribute("type");"filepicker"==b?c(a):"filepicker-dragdrop"==b?h(a):k(a)}}});
filepicker.extend("window",function(){var a=this,e=function(){document.body&&document.body.offsetWidth&&(winW=document.body.offsetWidth,winH=document.body.offsetHeight);"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(winW=document.documentElement.offsetWidth,winH=document.documentElement.offsetHeight);window.innerWidth&&window.innerHeight&&(winW=window.innerWidth,winH=window.innerHeight);return[winW,winH]},d=function(){var c=768>e()[0],d=!1===a.cookies.THIRD_PARTY_COOKIES;
return a.browser.isIOS()||a.browser.isAndroid()||c||d};return{open:function(c,e,b){b=b||function(){};c||(c="modal");"modal"==c&&d()&&(c="window");if("window"==c){c="filepicker_dialog"+a.util.getId();var g=window.open(e,c,"left=100,top=100,height=600,width=800,menubar=no,toolbar=no,location=no,personalbar=no,status=no,resizable=yes,scrollbars=yes,dependent=yes,dialog=yes"),f=window.setInterval(function(){if(!g||g.closed)window.clearInterval(f),b()},1E3)}else if("modal"==c)a.modal.generate(e,b);else{var k=
document.getElementById(c);if(!k)throw new a.FilepickerException("Container '"+c+"' not found. This should either be set to 'window','modal', or the ID of an iframe that is currently in the document.");k.src=e}},WINDOW_NAME:"filepicker_dialog",getSize:e,shouldForce:d}});
(function(){filepicker.internal(function(){this.util.addOnLoad(this.cookies.checkThirdParty);this.util.addOnLoad(this.widgets.buildWidgets)});delete filepicker.internal;delete filepicker.extend;var a=filepicker._queue||[],e,d=a.length;if(d)for(var c=0;c<d;c++)e=a[c],filepicker[e[0]].apply(filepicker,e[1]);delete filepicker._queue})();
(function(){window.app=window.app||{};var a=require("back_page/annotation_loader"),e=require("back_page/back_page");app.setup_annotation_form=function(d,c){c=c||{};var h=!!c.autofocus;$("#container").addClass("active");var b=d.referent.fragment_as_text,g=b.match(/[^\s]+/g).length<MAX_REFERENT_LENGTH;$("form#new_annotation").data("payload",d).toggle(g);var f=$(".new-embedded-annotation-container");g&&(f.find(".referent_content-referent").html(b.replace(/\n{2,}/g,"<br/><br/>")),b=d.referent.context_for_display,
f.find(".referent_content-context_before").text($.html_to_text(b.before_html)),f.find(".referent_content-context_after").text($.html_to_text(b.after_html)));f.find(".validation_message").toggle(!g);f.find("a:not([target])").attr("target","_blank");f.on("submit","#new_annotation",function(b){var c=$(this),d=c.data("payload");$.post(c.attr("action"),c.serialize()+"&"+$.param(d),function(b){b=$(b);var c=$.extend(d.referent,{id:Number(b.attr("data-genius-referent-id")),path:b.attr("data-path"),api_path:b.attr("data-api-path"),
annotator_id:Number(b.attr("data-annotator-id")),featured:!0});a.add_to_cache(c.id,b);app.parent_channel.call({method:"finalize_new_annotation",params:c,success:function(a){c.anchor_offset=a.anchor_offset;e.referents.add([c]);e.referents.close_overlay();e.referents.activate(c.id,{align_with_vertical_offset:a.scroll_offset})},error:function(a,b){throw a+" "+b;}})});b.stopImmediatePropagation();return!1});$("#annotation_body").on("focus",function(){$(this).closest(".new-embedded-annotation-container").addClass("active")});
if(h)$(window).one("frame_visible",function(){$("#annotation_body").focus()});$(".offsite_beta_signup, .offsite_beta_login, .new-embedded-annotation-container .embedded_signup a").on("click",function(){var a=d.referent.range,b=new Date((new Date).getTime()+6E5);$.cookie("new_annotation_referent_range",JSON.stringify(a),{expires:b});app.set_desired_location_cookie()})}})();
(function(){var a=require("jschannel"),e=require("back_page/annotation_loader"),d=require("back_page/back_page"),c=require("back_page/tracking"),h;app.parent_channel=a.build({window:window.parent,origin:"*",scope:"com.genius.Genius"});app.parent_channel.bind("track_page_load",function(a,d){c.track_page_load(d)});app.parent_channel.bind("track_annotated_page",function(){c.track_annotated_page()});app.parent_channel.bind("display_annotation",function(a,e){d.referents.display(e.referent_id,{align_with_vertical_offset:e.referent_offset}).done(function(){if(h){var c=
h,d=$(".annotation_container[data-id="+c.annotation_id+"]"),e=d.find(".annotation_explainer_message"),g=Hogan.compile($("#underlying_link_content").html());e.html(g.render(c));d.addClass("display_underlying_link");h=null}a.complete()}).fail(function(c){404===c.status&&a.error(Error())});c.track_open_annotation(e);a.delayReturn(!0)});app.parent_channel.bind("fetch_annotation",function(a,c){e.load(c)});app.parent_channel.bind("new_annotation",function(a,c){c=c||{};var e=c.payload||{},h=!!c.autofocus;
d.populate_overlay($($("#new_embedded_annotation").text()));app.setup_annotation_form(e,{autofocus:h});d.referents.open()});app.parent_channel.bind("frame_visible",function(){$(window).trigger("frame_visible")});app.parent_channel.bind("display_underlying_link",function(a,c){h=c});app.set_up_autogrow();app.set_up_dirtyable_inputs();d.initialize();$(document).on("click","[data-return-to-referring-page]",function(){$.cookie("desired_location",document.referrer,{path:"/"});return!0});$(function(){var a=
$.cookie("new_annotation_referent_range");a&&app.parent_channel.notify({method:"resume_new_annotation",params:JSON.parse(a)});$.removeCookie("new_annotation_referent_range")})})();
$(function(){filepicker.setKey(FILEPICKER_API_KEY);$(".upload_photo").live("click",function(){filepicker.pick({mimetypes:["image/jpeg","image/png","image/gif"],services:"COMPUTER URL FACEBOOK INSTAGRAM IMAGE_SEARCH WEBCAM".split(" "),policy:FILEPICKER_POLICY,signature:FILEPICKER_SIGNATURE},function(a){var e=$(".user_avatar_"+CURRENT_USER.id);e.wrap('<div class="loading_with_indicator">');$.ajax_with_retry({url:"/account",type:"POST",data:{_method:"put",user:{photo_url:a.url}},success:function(){e.attr("src",
a.url+"?policy="+FILEPICKER_POLICY+"&signature="+FILEPICKER_SIGNATURE).unwrap();$("#avatar_solicitation").remove()}})});return!1});$(document).on("click",".image_adder",function(){var a=$(this);filepicker.pickAndStore({mimetypes:["image/jpeg","image/png","image/gif"],services:["IMAGE_SEARCH","COMPUTER"],openTo:"IMAGE_SEARCH",policy:FILEPICKER_POLICY,signature:FILEPICKER_SIGNATURE},{},function(e){e="http://s3.amazonaws.com/"+S3_IMAGE_BUCKET+"/"+encodeURIComponent(e[0].key);a.closest("[data-filepicker-form]").find("[data-filepicker-target]").insertAtCursor(e)});
return!1})});
